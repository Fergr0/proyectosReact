(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var cm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function uw(){if(gv)return Pl;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=t,Pl.jsxs=t,Pl}var yv;function cw(){return yv||(yv=1,cm.exports=uw()),cm.exports}var F=cw(),hm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function hw(){if(_v)return Ie;_v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function x(M,ne,de){this.props=M,this.context=ne,this.refs=B,this.updater=de||O}x.prototype.isReactComponent={},x.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=x.prototype;function Z(M,ne,de){this.props=M,this.context=ne,this.refs=B,this.updater=de||O}var X=Z.prototype=new q;X.constructor=Z,I(X,x.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,se={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function P(M,ne,de,le,ue,Oe){return de=Oe.ref,{$$typeof:i,type:M,key:ne,ref:de!==void 0?de:null,props:Oe}}function R(M,ne){return P(M.type,ne,void 0,void 0,void 0,M.props)}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function D(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ne[de]})}var V=/\/+/g;function j(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):ne.toString(36)}function N(){}function Tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function pt(M,ne,de,le,ue){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(Oe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case i:case e:Ce=!0;break;case E:return Ce=M._init,pt(Ce(M._payload),ne,de,le,ue)}}if(Ce)return ue=ue(M),Ce=le===""?"."+j(M,0):le,oe(ue)?(de="",Ce!=null&&(de=Ce.replace(V,"$&/")+"/"),pt(ue,ne,de,"",function(st){return st})):ue!=null&&(b(ue)&&(ue=R(ue,de+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+Ce)),ne.push(ue)),1;Ce=0;var gt=le===""?".":le+":";if(oe(M))for(var Be=0;Be<M.length;Be++)le=M[Be],Oe=gt+j(le,Be),Ce+=pt(le,ne,de,Oe,ue);else if(Be=w(M),typeof Be=="function")for(M=Be.call(M),Be=0;!(le=M.next()).done;)le=le.value,Oe=gt+j(le,Be++),Ce+=pt(le,ne,de,Oe,ue);else if(Oe==="object"){if(typeof M.then=="function")return pt(Tt(M),ne,de,le,ue);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(M,ne,de){if(M==null)return M;var le=[],ue=0;return pt(M,le,"","",function(Oe){return ne.call(de,Oe,ue++)}),le}function Te(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ge(){}return Ie.Children={map:ae,forEach:function(M,ne,de){ae(M,function(){ne.apply(this,arguments)},de)},count:function(M){var ne=0;return ae(M,function(){ne++}),ne},toArray:function(M){return ae(M,function(ne){return ne})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=x,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=Z,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,ne,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=I({},M.props),ue=M.key,Oe=void 0;if(ne!=null)for(Ce in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ue=""+ne.key),ne)!me.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(le[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=de;else if(1<Ce){for(var gt=Array(Ce),Be=0;Be<Ce;Be++)gt[Be]=arguments[Be+2];le.children=gt}return P(M.type,ue,void 0,void 0,Oe,le)},Ie.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,ne,de){var le,ue={},Oe=null;if(ne!=null)for(le in ne.key!==void 0&&(Oe=""+ne.key),ne)me.call(ne,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ne[le]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var gt=Array(Ce),Be=0;Be<Ce;Be++)gt[Be]=arguments[Be+2];ue.children=gt}if(M&&M.defaultProps)for(le in Ce=M.defaultProps,Ce)ue[le]===void 0&&(ue[le]=Ce[le]);return P(M,Oe,void 0,void 0,null,ue)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:d,render:M}},Ie.isValidElement=b,Ie.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Te}},Ie.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Ie.startTransition=function(M){var ne=se.T,de={};se.T=de;try{var le=M(),ue=se.S;ue!==null&&ue(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ge,ge)}catch(Oe){ge(Oe)}finally{se.T=ne}},Ie.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ie.use=function(M){return se.H.use(M)},Ie.useActionState=function(M,ne,de){return se.H.useActionState(M,ne,de)},Ie.useCallback=function(M,ne){return se.H.useCallback(M,ne)},Ie.useContext=function(M){return se.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,ne){return se.H.useDeferredValue(M,ne)},Ie.useEffect=function(M,ne){return se.H.useEffect(M,ne)},Ie.useId=function(){return se.H.useId()},Ie.useImperativeHandle=function(M,ne,de){return se.H.useImperativeHandle(M,ne,de)},Ie.useInsertionEffect=function(M,ne){return se.H.useInsertionEffect(M,ne)},Ie.useLayoutEffect=function(M,ne){return se.H.useLayoutEffect(M,ne)},Ie.useMemo=function(M,ne){return se.H.useMemo(M,ne)},Ie.useOptimistic=function(M,ne){return se.H.useOptimistic(M,ne)},Ie.useReducer=function(M,ne,de){return se.H.useReducer(M,ne,de)},Ie.useRef=function(M){return se.H.useRef(M)},Ie.useState=function(M){return se.H.useState(M)},Ie.useSyncExternalStore=function(M,ne,de){return se.H.useSyncExternalStore(M,ne,de)},Ie.useTransition=function(){return se.H.useTransition()},Ie.version="19.0.0",Ie}var vv;function dp(){return vv||(vv=1,hm.exports=hw()),hm.exports}var K=dp(),fm={exports:{}},Ml={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function fw(){return Ev||(Ev=1,function(i){function e(ae,Te){var ge=ae.length;ae.push(Te);e:for(;0<ge;){var Ge=ge-1>>>1,M=ae[Ge];if(0<o(M,Te))ae[Ge]=Te,ae[ge]=M,ge=Ge;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Te=ae[0],ge=ae.pop();if(ge!==Te){ae[0]=ge;e:for(var Ge=0,M=ae.length,ne=M>>>1;Ge<ne;){var de=2*(Ge+1)-1,le=ae[de],ue=de+1,Oe=ae[ue];if(0>o(le,ge))ue<M&&0>o(Oe,le)?(ae[Ge]=Oe,ae[ue]=ge,Ge=ue):(ae[Ge]=le,ae[de]=ge,Ge=de);else if(ue<M&&0>o(Oe,ge))ae[Ge]=Oe,ae[ue]=ge,Ge=ue;else break e}}return Te}function o(ae,Te){var ge=ae.sortIndex-Te.sortIndex;return ge!==0?ge:ae.id-Te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,w=3,O=!1,I=!1,B=!1,x=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function X(ae){for(var Te=t(g);Te!==null;){if(Te.callback===null)s(g);else if(Te.startTime<=ae)s(g),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(g)}}function oe(ae){if(B=!1,X(ae),!I)if(t(p)!==null)I=!0,Tt();else{var Te=t(g);Te!==null&&pt(oe,Te.startTime-ae)}}var se=!1,me=-1,P=5,R=-1;function b(){return!(i.unstable_now()-R<P)}function D(){if(se){var ae=i.unstable_now();R=ae;var Te=!0;try{e:{I=!1,B&&(B=!1,q(me),me=-1),O=!0;var ge=w;try{t:{for(X(ae),T=t(p);T!==null&&!(T.expirationTime>ae&&b());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,w=T.priorityLevel;var M=Ge(T.expirationTime<=ae);if(ae=i.unstable_now(),typeof M=="function"){T.callback=M,X(ae),Te=!0;break t}T===t(p)&&s(p),X(ae)}else s(p);T=t(p)}if(T!==null)Te=!0;else{var ne=t(g);ne!==null&&pt(oe,ne.startTime-ae),Te=!1}}break e}finally{T=null,w=ge,O=!1}Te=void 0}}finally{Te?V():se=!1}}}var V;if(typeof Z=="function")V=function(){Z(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=D,V=function(){N.postMessage(null)}}else V=function(){x(D,0)};function Tt(){se||(se=!0,V())}function pt(ae,Te){me=x(function(){ae(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_continueExecution=function(){I||O||(I=!0,Tt())},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var Te=3;break;default:Te=w}var ge=w;w=Te;try{return ae()}finally{w=ge}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=w;w=ae;try{return Te()}finally{w=ge}},i.unstable_scheduleCallback=function(ae,Te,ge){var Ge=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,ae){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,ae={id:E++,callback:Te,priorityLevel:ae,startTime:ge,expirationTime:M,sortIndex:-1},ge>Ge?(ae.sortIndex=ge,e(g,ae),t(p)===null&&ae===t(g)&&(B?(q(me),me=-1):B=!0,pt(oe,ge-Ge))):(ae.sortIndex=M,e(p,ae),I||O||(I=!0,Tt())),ae},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ae){var Te=w;return function(){var ge=w;w=Te;try{return ae.apply(this,arguments)}finally{w=ge}}}}(mm)),mm}var Tv;function dw(){return Tv||(Tv=1,dm.exports=fw()),dm.exports}var pm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function mw(){if(Sv)return Qt;Sv=1;var i=dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var Av;function pw(){if(Av)return pm.exports;Av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=mw(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function gw(){if(bv)return Ml;bv=1;var i=dw(),e=dp(),t=pw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case B:return"Suspense";case x:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case I:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,V,j;function N(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+j}var Tt=!1;function pt(n,r){if(!n||Tt)return"";Tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){G=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var C=v.split(`
`),U=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===U.length)for(l=C.length-1,f=U.length-1;1<=l&&0<=f&&C[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==U[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Tt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=pt(n.type,!1),n;case 11:return n=pt(n.type.render,!1),n;case 1:return n=pt(n.type,!0),n;default:return""}}function Te(n){try{var r="";do r+=ae(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ge(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function M(n){if(ge(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=ge(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return M(f),n;if(m===l)return M(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=m;break}if(S===l){v=!0,l=f,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,l=f;break}if(S===l){v=!0,l=m,a=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Ce=[],gt=-1;function Be(n){return{current:n}}function st(n){0>gt||(n.current=Ce[gt],Ce[gt]=null,gt--)}function Qe(n,r){gt++,Ce[gt]=n.current,n.current=r}var en=Be(null),Ii=Be(null),Sn=Be(null),hr=Be(null);function fr(n,r){switch(Qe(Sn,r),Qe(Ii,n),Qe(en,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?G_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=G_(n),r=K_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}st(en),Qe(en,r)}function Oi(){st(en),st(Ii),st(Sn)}function Io(n){n.memoizedState!==null&&Qe(hr,n);var r=en.current,a=K_(r,n.type);r!==a&&(Qe(Ii,n),Qe(en,a))}function fa(n){Ii.current===n&&(st(en),st(Ii)),hr.current===n&&(st(hr),Il._currentValue=Oe)}var da=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ma=i.unstable_cancelCallback,ff=i.unstable_shouldYield,Oo=i.unstable_requestPaint,on=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Ru=i.unstable_LowPriority,Do=i.unstable_IdlePriority,df=i.log,ps=i.unstable_setDisableYieldValue,dr=null,Kt=null;function No(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(dr,n,void 0,(n.current.flags&128)===128)}catch{}}function Wn(n){if(typeof df=="function"&&ps(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(dr,n)}catch{}}var tn=Math.clz32?Math.clz32:Iu,xo=Math.log,Cu=Math.LN2;function Iu(n){return n>>>=0,n===0?32:31-(xo(n)/Cu|0)|0}var Zn=128,mr=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function An(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~f,a!==0?l=Bn(a):(m&=S,m!==0?l=Bn(m):n||(v=S&~v,v!==0&&(l=Bn(v))))):(S=a&~f,S!==0?l=Bn(S):m!==0?l=Bn(m):n||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:r!==0&&r!==l&&!(r&f)&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function pr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function pa(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var n=Zn;return Zn<<=1,!(Zn&4194176)&&(Zn=128),n}function gr(){var n=mr;return mr<<=1,!(mr&62914560)&&(mr=4194304),n}function ga(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ft(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ou(n,r,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,C=n.expirationTimes,U=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-tn(a),te=1<<W;S[W]=0,C[W]=-1;var G=U[W];if(G!==null)for(U[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&yr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~r))}function yr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-tn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function _r(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Du(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Nu(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:cv(n.type))}function vr(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,At="__reactProps$"+Jn,Ni="__reactContainer$"+Jn,gs="__reactEvents$"+Jn,ya="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Mo="__reactResources$"+Jn,Er="__reactMarker$"+Jn;function ys(n){delete n[xt],delete n[At],delete n[gs],delete n[ya],delete n[ei]}function Hn(n){var r=n[xt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ni]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Y_(n);n!==null;){if(a=n[xt])return a;n=Y_(n)}return r}n=a,a=n.parentNode}return null}function xi(n){if(n=n[xt]||n[Ni]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Tr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Sr(n){var r=n[Mo];return r||(r=n[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(n){n[Er]=!0}var ko=new Set,_a={};function dn(n,r){ln(n,r),ln(n+"Capture",r)}function ln(n,r){for(_a[n]=r,n=0;n<r.length;n++)ko.add(r[n])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Uo={};function xu(n){return da.call(Uo,n)?!0:da.call(Vo,n)?!1:mf.test(n)?Uo[n]=!0:(Vo[n]=!0,!1)}function Ar(n,r,a){if(xu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function br(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function bn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(n){var r=Pu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function _s(n){n._valueTracker||(n._valueTracker=pf(n))}function Lo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Pu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pi=/[\n"\\]/g;function at(n){return n.replace(Pi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wr(n,r,a,l,f,m,v,S){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Ea(n,v,nn(r)):a!=null?Ea(n,v,nn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+nn(S):n.removeAttribute("name")}function vs(n,r,a,l,f,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Ea(n,r,a){r==="number"&&va(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function He(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Es(n,r,a){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+nn(a):""}function Rr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function wn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||gf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Mu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&zo(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&zo(n,m,r[m])}function jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(n){return _f.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Rn=null;function Ta(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mi=null,ki=null;function Vi(n){var r=xi(n);if(r&&(n=r.stateNode)){var a=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(wr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+at(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[At]||null;if(!f)throw Error(s(90));wr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Lo(l)}break e;case"textarea":Es(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&He(n,!!a.multiple,r,!1)}}}var Bo=!1;function ku(n,r,a){if(Bo)return n(r,a);Bo=!0;try{var l=n(r);return l}finally{if(Bo=!1,(Mi!==null||ki!==null)&&(Rc(),Mi&&(r=Mi,n=ki,ki=Mi=null,Vi(r),n)))for(r=0;r<n.length;r++)Vi(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!1;if(mn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Cn=!1}var ni=null,Cr=null,Ui=null;function Ho(){if(Ui)return Ui;var n,r=Cr,a=r.length,l,f="value"in ni?ni.value:ni.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function qo(){return!1}function Pt(n){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:qo,this.isPropagationStopped=qo,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Pt(Ke),As=D({},Ke,{view:0,detail:0}),Vu=Pt(As),Aa,ba,si,bs=D({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(Aa=n.screenX-si.screenX,ba=n.screenY-si.screenY):ba=Aa=0,si=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),In=Pt(bs),Uu=D({},bs,{dataTransfer:0}),vf=Pt(Uu),ws=D({},As,{relatedTarget:0}),wa=Pt(ws),Fo=D({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Pt(Fo),Lu=D({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ca=Pt(Lu),Ef=D({},Ke,{data:0}),Go=Pt(Ef),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ju[n])?!!r[n]:!1}function Cs(){return Ko}var Bu=D({},As,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ia=Pt(Bu),Hu=D({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Pt(Hu),Li=D({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),qu=Pt(Li),Fu=D({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Pt(Fu),Ku=D({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Pt(Ku),rn=D({},Ke,{newState:0,oldState:0}),$u=Pt(rn),Qu=[9,13,27,32],ai=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var y=mn&&"TextEvent"in window&&!c,_=mn&&(!ai||c&&8<c&&11>=c),A=" ",z=!1;function $(n,r){switch(n){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function bt(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return n=r.data,n===A&&z?null:n;default:return null}}function Le(n,r){if(Ue)return n==="compositionend"||!ai&&$(n,r)?(n=Ho(),Ui=Cr=ni=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function zi(n,r,a,l){Mi?ki?ki.push(l):ki=[l]:Mi=l,r=Nc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,oi=null;function Qo(n){j_(n,0)}function Yu(n){var r=Tr(n);if(Lo(r))return n}function pg(n,r){if(n==="change")return r}var gg=!1;if(mn){var Tf;if(mn){var Sf="oninput"in document;if(!Sf){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Sf=typeof yg.oninput=="function"}Tf=Sf}else Tf=!1;gg=Tf&&(!document.documentMode||9<document.documentMode)}function _g(){zt&&(zt.detachEvent("onpropertychange",vg),oi=zt=null)}function vg(n){if(n.propertyName==="value"&&Yu(oi)){var r=[];zi(r,oi,n,Ta(n)),ku(Qo,r)}}function zA(n,r,a){n==="focusin"?(_g(),zt=r,oi=a,zt.attachEvent("onpropertychange",vg)):n==="focusout"&&_g()}function jA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yu(oi)}function BA(n,r){if(n==="click")return Yu(r)}function HA(n,r){if(n==="input"||n==="change")return Yu(r)}function qA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:qA;function Yo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!da.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Eg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tg(n,r){var a=Eg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Sg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Sg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ag(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=va(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=va(n.document)}return r}function Af(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function FA(n,r){var a=Ag(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Sg(r.ownerDocument.documentElement,r)){if(l!==null&&Af(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=Tg(r,m);var v=Tg(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var GA=mn&&"documentMode"in document&&11>=document.documentMode,Da=null,bf=null,Xo=null,wf=!1;function bg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Da==null||Da!==va(l)||(l=Da,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Nc(bf,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Da)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Na={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Rf={},wg={};mn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Os(n){if(Rf[n])return Rf[n];if(!Na[n])return n;var r=Na[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in wg)return Rf[n]=r[a];return n}var Rg=Os("animationend"),Cg=Os("animationiteration"),Ig=Os("animationstart"),KA=Os("transitionrun"),$A=Os("transitionstart"),QA=Os("transitioncancel"),Og=Os("transitionend"),Dg=new Map,Ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(n,r){Dg.set(n,r),dn(r,[n])}var On=[],xa=0,Cf=0;function Xu(){for(var n=xa,r=Cf=xa=0;r<n;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var m=On[r];if(On[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&xg(a,f,m)}}function Wu(n,r,a,l){On[xa++]=n,On[xa++]=r,On[xa++]=a,On[xa++]=l,Cf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function If(n,r,a,l){return Wu(n,r,a,l),Zu(n)}function Ir(n,r){return Wu(n,null,null,r),Zu(n)}function xg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-tn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function Zu(n){if(50<Tl)throw Tl=0,Md=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Pa={},Pg=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=Pg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Te(r)},Pg.set(n,r),r)}return{value:n,source:r,stack:Te(r)}}var Ma=[],ka=0,Ju=null,ec=0,Nn=[],xn=0,Ds=null,ji=1,Bi="";function Ns(n,r){Ma[ka++]=ec,Ma[ka++]=Ju,Ju=n,ec=r}function Mg(n,r,a){Nn[xn++]=ji,Nn[xn++]=Bi,Nn[xn++]=Ds,Ds=n;var l=ji;n=Bi;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var m=32-tn(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,ji=1<<32-tn(r)+f|a<<f|l,Bi=m+n}else ji=1<<m|a<<f|l,Bi=n}function Of(n){n.return!==null&&(Ns(n,1),Mg(n,1,0))}function Df(n){for(;n===Ju;)Ju=Ma[--ka],Ma[ka]=null,ec=Ma[--ka],Ma[ka]=null;for(;n===Ds;)Ds=Nn[--xn],Nn[xn]=null,Bi=Nn[--xn],Nn[xn]=null,ji=Nn[--xn],Nn[xn]=null}var sn=null,jt=null,qe=!1,Fn=null,li=!1,Nf=Error(s(519));function xs(n){var r=Error(s(418,""));throw Jo(Dn(r,n)),Nf}function kg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[xt]=n,r[At]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)ke(Al[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Rr(r,l.value,l.defaultValue,l.children),_s(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||F_(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||xs(n)}function Vg(n){for(sn=n.return;sn;)switch(sn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:sn=sn.return}}function Wo(n){if(n!==sn)return!1;if(!qe)return Vg(n),qe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Wd(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&jt&&xs(n),Vg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){jt=Kn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}jt=null}}else jt=sn?Kn(n.stateNode.nextSibling):null;return!0}function Zo(){jt=sn=null,qe=!1}function Jo(n){Fn===null?Fn=[n]:Fn.push(n)}var el=Error(s(460)),Ug=Error(s(474)),xf={then:function(){}};function Lg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function tc(){}function zg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===el?Error(s(483)):n;default:if(typeof r.status=="string")r.then(tc,tc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===el?Error(s(483)):n}throw tl=r,el}}var tl=null;function jg(){if(tl===null)throw Error(s(459));var n=tl;return tl=null,n}var Va=null,nl=0;function nc(n){var r=nl;return nl+=1,Va===null&&(Va=[]),zg(Va,n,r)}function il(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ic(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Bg(n){var r=n._init;return r(n._payload)}function Hg(n){function r(L,k){if(n){var H=L.deletions;H===null?(L.deletions=[k],L.flags|=16):H.push(k)}}function a(L,k){if(!n)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=jr(L,k),L.index=0,L.sibling=null,L}function m(L,k,H){return L.index=H,n?(H=L.alternate,H!==null?(H=H.index,H<k?(L.flags|=33554434,k):H):(L.flags|=33554434,k)):(L.flags|=1048576,k)}function v(L){return n&&L.alternate===null&&(L.flags|=33554434),L}function S(L,k,H,J){return k===null||k.tag!==6?(k=Rd(H,L.mode,J),k.return=L,k):(k=f(k,H),k.return=L,k)}function C(L,k,H,J){var he=H.type;return he===p?W(L,k,H.props.children,J,H.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Bg(he)===k.type)?(k=f(k,H.props),il(k,H),k.return=L,k):(k=Tc(H.type,H.key,H.props,null,L.mode,J),il(k,H),k.return=L,k)}function U(L,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Cd(H,L.mode,J),k.return=L,k):(k=f(k,H.children||[]),k.return=L,k)}function W(L,k,H,J,he){return k===null||k.tag!==7?(k=Hs(H,L.mode,J,he),k.return=L,k):(k=f(k,H),k.return=L,k)}function te(L,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Rd(""+k,L.mode,H),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return H=Tc(k.type,k.key,k.props,null,L.mode,H),il(H,k),H.return=L,H;case d:return k=Cd(k,L.mode,H),k.return=L,k;case Z:var J=k._init;return k=J(k._payload),te(L,k,H)}if(le(k)||me(k))return k=Hs(k,L.mode,H,null),k.return=L,k;if(typeof k.then=="function")return te(L,nc(k),H);if(k.$$typeof===O)return te(L,_c(L,k),H);ic(L,k)}return null}function G(L,k,H,J){var he=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:S(L,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===he?C(L,k,H,J):null;case d:return H.key===he?U(L,k,H,J):null;case Z:return he=H._init,H=he(H._payload),G(L,k,H,J)}if(le(H)||me(H))return he!==null?null:W(L,k,H,J,null);if(typeof H.then=="function")return G(L,k,nc(H),J);if(H.$$typeof===O)return G(L,k,_c(L,H),J);ic(L,H)}return null}function Y(L,k,H,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,S(k,L,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return L=L.get(J.key===null?H:J.key)||null,C(k,L,J,he);case d:return L=L.get(J.key===null?H:J.key)||null,U(k,L,J,he);case Z:var Ne=J._init;return J=Ne(J._payload),Y(L,k,H,J,he)}if(le(J)||me(J))return L=L.get(H)||null,W(k,L,J,he,null);if(typeof J.then=="function")return Y(L,k,H,nc(J),he);if(J.$$typeof===O)return Y(L,k,H,_c(k,J),he);ic(k,J)}return null}function fe(L,k,H,J){for(var he=null,Ne=null,pe=k,ve=k=0,Ut=null;pe!==null&&ve<H.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Fe=G(L,pe,H[ve],J);if(Fe===null){pe===null&&(pe=Ut);break}n&&pe&&Fe.alternate===null&&r(L,pe),k=m(Fe,k,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe,pe=Ut}if(ve===H.length)return a(L,pe),qe&&Ns(L,ve),he;if(pe===null){for(;ve<H.length;ve++)pe=te(L,H[ve],J),pe!==null&&(k=m(pe,k,ve),Ne===null?he=pe:Ne.sibling=pe,Ne=pe);return qe&&Ns(L,ve),he}for(pe=l(pe);ve<H.length;ve++)Ut=Y(pe,L,ve,H[ve],J),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),k=m(Ut,k,ve),Ne===null?he=Ut:Ne.sibling=Ut,Ne=Ut);return n&&pe.forEach(function($r){return r(L,$r)}),qe&&Ns(L,ve),he}function be(L,k,H,J){if(H==null)throw Error(s(151));for(var he=null,Ne=null,pe=k,ve=k=0,Ut=null,Fe=H.next();pe!==null&&!Fe.done;ve++,Fe=H.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var $r=G(L,pe,Fe.value,J);if($r===null){pe===null&&(pe=Ut);break}n&&pe&&$r.alternate===null&&r(L,pe),k=m($r,k,ve),Ne===null?he=$r:Ne.sibling=$r,Ne=$r,pe=Ut}if(Fe.done)return a(L,pe),qe&&Ns(L,ve),he;if(pe===null){for(;!Fe.done;ve++,Fe=H.next())Fe=te(L,Fe.value,J),Fe!==null&&(k=m(Fe,k,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&Ns(L,ve),he}for(pe=l(pe);!Fe.done;ve++,Fe=H.next())Fe=Y(pe,L,ve,Fe.value,J),Fe!==null&&(n&&Fe.alternate!==null&&pe.delete(Fe.key===null?ve:Fe.key),k=m(Fe,k,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return n&&pe.forEach(function(lw){return r(L,lw)}),qe&&Ns(L,ve),he}function ut(L,k,H,J){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var he=H.key;k!==null;){if(k.key===he){if(he=H.type,he===p){if(k.tag===7){a(L,k.sibling),J=f(k,H.props.children),J.return=L,L=J;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Z&&Bg(he)===k.type){a(L,k.sibling),J=f(k,H.props),il(J,H),J.return=L,L=J;break e}a(L,k);break}else r(L,k);k=k.sibling}H.type===p?(J=Hs(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=Tc(H.type,H.key,H.props,null,L.mode,J),il(J,H),J.return=L,L=J)}return v(L);case d:e:{for(he=H.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(L,k.sibling),J=f(k,H.children||[]),J.return=L,L=J;break e}else{a(L,k);break}else r(L,k);k=k.sibling}J=Cd(H,L.mode,J),J.return=L,L=J}return v(L);case Z:return he=H._init,H=he(H._payload),ut(L,k,H,J)}if(le(H))return fe(L,k,H,J);if(me(H)){if(he=me(H),typeof he!="function")throw Error(s(150));return H=he.call(H),be(L,k,H,J)}if(typeof H.then=="function")return ut(L,k,nc(H),J);if(H.$$typeof===O)return ut(L,k,_c(L,H),J);ic(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(L,k.sibling),J=f(k,H),J.return=L,L=J):(a(L,k),J=Rd(H,L.mode,J),J.return=L,L=J),v(L)):a(L,k)}return function(L,k,H,J){try{nl=0;var he=ut(L,k,H,J);return Va=null,he}catch(pe){if(pe===el)throw pe;var Ne=Vn(29,pe,null,L.mode);return Ne.lanes=J,Ne.return=L,Ne}finally{}}}var Ps=Hg(!0),qg=Hg(!1),Ua=Be(null),rc=Be(0);function Fg(n,r){n=Zi,Qe(rc,n),Qe(Ua,r),Zi=n|r.baseLanes}function Pf(){Qe(rc,Zi),Qe(Ua,Ua.current)}function Mf(){Zi=rc.current,st(Ua),st(rc)}var Pn=Be(null),ui=null;function Or(n){var r=n.alternate;Qe(Rt,Rt.current&1),Qe(Pn,n),ui===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(ui=n)}function Gg(n){if(n.tag===22){if(Qe(Rt,Rt.current),Qe(Pn,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else Dr()}function Dr(){Qe(Rt,Rt.current),Qe(Pn,Pn.current)}function Hi(n){st(Pn),ui===n&&(ui=null),st(Rt)}var Rt=Be(0);function sc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var YA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},XA=i.unstable_scheduleCallback,WA=i.unstable_NormalPriority,Ct={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new YA,data:new Map,refCount:0}}function rl(n){n.refCount--,n.refCount===0&&XA(WA,function(){n.controller.abort()})}var sl=null,Vf=0,La=0,za=null;function ZA(n,r){if(sl===null){var a=sl=[];Vf=0,La=Hd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,r.then(Kg,Kg),r}function Kg(){if(--Vf===0&&sl!==null){za!==null&&(za.status="fulfilled");var n=sl;sl=null,La=0,za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function JA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var $g=b.S;b.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZA(n,r),$g!==null&&$g(n,r)};var Ms=Be(null);function Uf(){var n=Ms.current;return n!==null?n:Ze.pooledCache}function ac(n,r){r===null?Qe(Ms,Ms.current):Qe(Ms,r.pool)}function Qg(){var n=Uf();return n===null?null:{parent:Ct._currentValue,pool:n}}var Nr=0,De=null,Ye=null,yt=null,oc=!1,ja=!1,ks=!1,lc=0,al=0,Ba=null,eb=0;function dt(){throw Error(s(321))}function Lf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function zf(n,r,a,l,f,m){return Nr=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=n===null||n.memoizedState===null?Vs:xr,ks=!1,m=a(l,f),ks=!1,ja&&(m=Xg(r,a,l,f)),Yg(n),m}function Yg(n){b.H=ci;var r=Ye!==null&&Ye.next!==null;if(Nr=0,yt=Ye=De=null,oc=!1,al=0,Ba=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&yc(n)&&(kt=!0))}function Xg(n,r,a,l){De=n;var f=0;do{if(ja&&(Ba=null),al=0,ja=!1,25<=f)throw Error(s(301));if(f+=1,yt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=Us,m=r(a,l)}while(ja);return m}function tb(){var n=b.H,r=n.useState()[0];return r=typeof r.then=="function"?ol(r):r,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(De.flags|=1024),r}function jf(){var n=lc!==0;return lc=0,n}function Bf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Hf(n){if(oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oc=!1}Nr=0,yt=Ye=De=null,ja=!1,al=lc=0,Ba=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=n:yt=yt.next=n,yt}function _t(){if(Ye===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=yt===null?De.memoizedState:yt.next;if(r!==null)yt=r,Ye=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?De.memoizedState=yt=n:yt=yt.next=n}return yt}var uc;uc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ol(n){var r=al;return al+=1,Ba===null&&(Ba=[]),n=zg(Ba,n,r),r=De,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Vs:xr),n}function cc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ol(n);if(n.$$typeof===O)return $t(n)}throw Error(s(438,String(n)))}function qf(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=uc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=oe;return r.index++,a}function qi(n,r){return typeof r=="function"?r(n):r}function hc(n){var r=_t();return Ff(r,Ye,n)}function Ff(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=v=null,C=null,U=r,W=!1;do{var te=U.lane&-536870913;if(te!==U.lane?(ze&te)===te:(Nr&te)===te){var G=U.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),te===La&&(W=!0);else if((Nr&G)===G){U=U.next,G===La&&(W=!0);continue}else te={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(S=C=te,v=m):C=C.next=te,De.lanes|=G,Br|=G;te=U.action,ks&&a(m,te),m=U.hasEagerState?U.eagerState:a(m,te)}else G={lane:te,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(S=C=G,v=m):C=C.next=G,De.lanes|=te,Br|=te;U=U.next}while(U!==null&&U!==r);if(C===null?v=m:C.next=S,!pn(m,n.memoizedState)&&(kt=!0,W&&(a=za,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Gf(n){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);pn(m,r.memoizedState)||(kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Wg(n,r,a){var l=De,f=_t(),m=qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((Ye||f).memoizedState,a);if(v&&(f.memoizedState=a,kt=!0),f=f.queue,Qf(ey.bind(null,l,f,n),[n]),f.getSnapshot!==r||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Jg.bind(null,l,f,a,r),{destroy:void 0},null),Ze===null)throw Error(s(349));m||Nr&60||Zg(l,r,a)}return a}function Zg(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=uc(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Jg(n,r,a,l){r.value=a,r.getSnapshot=l,ty(r)&&ny(n)}function ey(n,r,a){return a(function(){ty(r)&&ny(n)})}function ty(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function ny(n){var r=Ir(n,2);r!==null&&an(r,n,2)}function Kf(n){var r=un();if(typeof n=="function"){var a=n;if(n=a(),ks){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},r}function iy(n,r,a,l){return n.baseState=a,Ff(n,Ye,typeof l=="function"?l:qi)}function nb(n,r,a,l,f){if(mc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};b.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,ry(r,m)):(m.next=a.next,r.pending=a.next=m)}}function ry(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=b.T,v={};b.T=v;try{var S=a(f,l),C=b.S;C!==null&&C(v,S),sy(n,r,S)}catch(U){$f(n,r,U)}finally{b.T=m}}else try{m=a(f,l),sy(n,r,m)}catch(U){$f(n,r,U)}}function sy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(n,r,l)},function(l){return $f(n,r,l)}):ay(n,r,a)}function ay(n,r,a){r.status="fulfilled",r.value=a,oy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,ry(n,a)))}function $f(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,oy(r),r=r.next;while(r!==l)}n.action=null}function oy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function ly(n,r){return r}function uy(n,r){if(qe){var a=Ze.formState;if(a!==null){e:{var l=De;if(qe){if(jt){t:{for(var f=jt,m=li;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){jt=Kn(f.nextSibling),l=f.data==="F!";break e}}xs(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:r},a.queue=l,a=Cy.bind(null,De,l),l.dispatch=a,l=Kf(!1),m=Jf.bind(null,De,!1,l.queue),l=un(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=nb.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function cy(n){var r=_t();return hy(r,Ye,n)}function hy(n,r,a){r=Ff(n,r,ly)[0],n=hc(qi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?ol(r):r;var l=_t(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(De.flags|=2048,Ha(9,ib.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function ib(n,r){n.action=r}function fy(n){var r=_t(),a=Ye;if(a!==null)return hy(r,a,n);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ha(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=De.updateQueue,r===null&&(r=uc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function dy(){return _t().memoizedState}function fc(n,r,a,l){var f=un();De.flags|=n,f.memoizedState=Ha(1|r,a,{destroy:void 0},l===void 0?null:l)}function dc(n,r,a,l){var f=_t();l=l===void 0?null:l;var m=f.memoizedState.inst;Ye!==null&&l!==null&&Lf(l,Ye.memoizedState.deps)?f.memoizedState=Ha(r,a,m,l):(De.flags|=n,f.memoizedState=Ha(1|r,a,m,l))}function my(n,r){fc(8390656,8,n,r)}function Qf(n,r){dc(2048,8,n,r)}function py(n,r){return dc(4,2,n,r)}function gy(n,r){return dc(4,4,n,r)}function yy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function _y(n,r,a){a=a!=null?a.concat([n]):null,dc(4,4,yy.bind(null,r,n),a)}function Yf(){}function vy(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Lf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Ey(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Lf(r,l[1]))return l[0];if(l=n(),ks){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function Xf(n,r,a){return a===void 0||Nr&1073741824?n.memoizedState=r:(n.memoizedState=a,n=S_(),De.lanes|=n,Br|=n,a)}function Ty(n,r,a,l){return pn(a,r)?a:Ua.current!==null?(n=Xf(n,a,l),pn(n,r)||(kt=!0),n):Nr&42?(n=S_(),De.lanes|=n,Br|=n,r):(kt=!0,n.memoizedState=a)}function Sy(n,r,a,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var v=b.T,S={};b.T=S,Jf(n,!1,r,a);try{var C=f(),U=b.S;if(U!==null&&U(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=JA(C,l);ll(n,r,W,vn(n))}else ll(n,r,l,vn(n))}catch(te){ll(n,r,{then:function(){},status:"rejected",reason:te},vn())}finally{ue.p=m,b.T=v}}function rb(){}function Wf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Ay(n).queue;Sy(n,f,r,Oe,a===null?rb:function(){return by(n),a(l)})}function Ay(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function by(n){var r=Ay(n).next.queue;ll(n,r,{},vn())}function Zf(){return $t(Il)}function wy(){return _t().memoizedState}function Ry(){return _t().memoizedState}function sb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();n=kr(a);var l=Vr(r,n,a);l!==null&&(an(l,r,a),hl(l,r,a)),r={cache:kf()},n.payload=r;return}r=r.return}}function ab(n,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(n)?Iy(r,a):(a=If(n,r,a,l),a!==null&&(an(a,n,l),Oy(a,r,l)))}function Cy(n,r,a){var l=vn();ll(n,r,a,l)}function ll(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(n))Iy(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,S=m(v,a);if(f.hasEagerState=!0,f.eagerState=S,pn(S,v))return Wu(n,r,f,0),Ze===null&&Xu(),!1}catch{}finally{}if(a=If(n,r,f,l),a!==null)return an(a,n,l),Oy(a,r,l),!0}return!1}function Jf(n,r,a,l){if(l={lane:2,revertLane:Hd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(n)){if(r)throw Error(s(479))}else r=If(n,a,l,2),r!==null&&an(r,n,2)}function mc(n){var r=n.alternate;return n===De||r!==null&&r===De}function Iy(n,r){ja=oc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Oy(n,r,a){if(a&4194176){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_r(n,a)}}var ci={readContext:$t,use:cc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};ci.useCacheRefresh=dt,ci.useMemoCache=dt,ci.useHostTransitionStatus=dt,ci.useFormState=dt,ci.useActionState=dt,ci.useOptimistic=dt;var Vs={readContext:$t,use:cc,useCallback:function(n,r){return un().memoizedState=[n,r===void 0?null:r],n},useContext:$t,useEffect:my,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,fc(4194308,4,yy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return fc(4194308,4,n,r)},useInsertionEffect:function(n,r){fc(4,2,n,r)},useMemo:function(n,r){var a=un();r=r===void 0?null:r;var l=n();if(ks){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=un();if(a!==void 0){var f=a(r);if(ks){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=ab.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=un();return n={current:n},r.memoizedState=n},useState:function(n){n=Kf(n);var r=n.queue,a=Cy.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(n,r){var a=un();return Xf(a,n,r)},useTransition:function(){var n=Kf(!1);return n=Sy.bind(null,De,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,f=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));ze&60||Zg(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,my(ey.bind(null,l,m,n),[n]),l.flags|=2048,Ha(9,Jg.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=un(),r=Ze.identifierPrefix;if(qe){var a=Bi,l=ji;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=eb++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return un().memoizedState=sb.bind(null,De)}};Vs.useMemoCache=qf,Vs.useHostTransitionStatus=Zf,Vs.useFormState=uy,Vs.useActionState=uy,Vs.useOptimistic=function(n){var r=un();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jf.bind(null,De,!0,a),a.dispatch=r,[n,r]};var xr={readContext:$t,use:cc,useCallback:vy,useContext:$t,useEffect:Qf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:hc,useRef:dy,useState:function(){return hc(qi)},useDebugValue:Yf,useDeferredValue:function(n,r){var a=_t();return Ty(a,Ye.memoizedState,n,r)},useTransition:function(){var n=hc(qi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:ol(n),r]},useSyncExternalStore:Wg,useId:wy};xr.useCacheRefresh=Ry,xr.useMemoCache=qf,xr.useHostTransitionStatus=Zf,xr.useFormState=cy,xr.useActionState=cy,xr.useOptimistic=function(n,r){var a=_t();return iy(a,Ye,n,r)};var Us={readContext:$t,use:cc,useCallback:vy,useContext:$t,useEffect:Qf,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:Gf,useRef:dy,useState:function(){return Gf(qi)},useDebugValue:Yf,useDeferredValue:function(n,r){var a=_t();return Ye===null?Xf(a,n,r):Ty(a,Ye.memoizedState,n,r)},useTransition:function(){var n=Gf(qi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:ol(n),r]},useSyncExternalStore:Wg,useId:wy};Us.useCacheRefresh=Ry,Us.useMemoCache=qf,Us.useHostTransitionStatus=Zf,Us.useFormState=fy,Us.useActionState=fy,Us.useOptimistic=function(n,r){var a=_t();return Ye!==null?iy(a,Ye,n,r):(a.baseState=n,[n,a.queue.dispatch])};function ed(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var td={isMounted:function(n){return(n=n._reactInternals)?ge(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=vn(),f=kr(l);f.payload=r,a!=null&&(f.callback=a),r=Vr(n,f,l),r!==null&&(an(r,n,l),hl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=vn(),f=kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Vr(n,f,l),r!==null&&(an(r,n,l),hl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=vn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Vr(n,l,a),r!==null&&(an(r,n,a),hl(r,n,a))}};function Dy(n,r,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(f,m):!0}function Ny(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&td.enqueueReplaceState(r,r.state,null)}function Ls(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function xy(n){pc(n)}function Py(n){console.error(n)}function My(n){pc(n)}function gc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ky(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nd(n,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(n,r)},a}function Vy(n){return n=kr(n),n.tag=3,n}function Uy(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){ky(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){ky(r,a,l),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ob(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&cl(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ui===null?Ud():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),zd(n,l,f)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),zd(n,l,f)),!1}throw Error(s(435,a.tag))}return zd(n,l,f),Ud(),!1}if(qe)return r=Pn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Nf&&(n=Error(s(422),{cause:l}),Jo(Dn(n,a)))):(l!==Nf&&(r=Error(s(423),{cause:l}),Jo(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=nd(n.stateNode,l,f),yd(n,f),lt!==4&&(lt=2)),!1;var m=Error(s(520),{cause:l});if(m=Dn(m,a),vl===null?vl=[m]:vl.push(m),lt!==4&&(lt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=nd(a.stateNode,l,n),yd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hr===null||!Hr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Vy(f),Uy(f,n,a,l),yd(a,f),!1}a=a.return}while(a!==null);return!1}var Ly=Error(s(461)),kt=!1;function Bt(n,r,a,l){r.child=n===null?qg(r,null,a,l):Ps(r,n.child,a,l)}function zy(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return js(r),l=zf(n,r,a,v,m,f),S=jf(),n!==null&&!kt?(Bf(n,r,f),Fi(n,r,f)):(qe&&S&&Of(r),r.flags|=1,Bt(n,r,l,f),r.child)}function jy(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!wd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,By(n,r,m,l,f)):(n=Tc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!hd(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&n.ref===r.ref)return Fi(n,r,f)}return r.flags|=1,n=jr(m,l),n.ref=r.ref,n.return=r,r.child=n}function By(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(Yo(m,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=m,hd(n,f))n.flags&131072&&(kt=!0);else return r.lanes=n.lanes,Fi(n,r,f)}return id(n,r,a,l,f)}function Hy(n,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(ul(n,r),l.mode==="hidden"||m){if(r.flags&128){if(l=v!==null?v.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return qy(n,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ac(r,v!==null?v.cachePool:null),v!==null?Fg(r,v):Pf(),Gg(r);else return r.lanes=r.childLanes=536870912,qy(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(ac(r,v.cachePool),Fg(r,v),Dr(),r.memoizedState=null):(n!==null&&ac(r,null),Pf(),Dr());return Bt(n,r,f,a),r.child}function qy(n,r,a,l){var f=Uf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ac(r,null),Pf(),Gg(r),n!==null&&cl(n,r,l,!0),null}function ul(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function id(n,r,a,l,f){return js(r),a=zf(n,r,a,l,void 0,f),l=jf(),n!==null&&!kt?(Bf(n,r,f),Fi(n,r,f)):(qe&&l&&Of(r),r.flags|=1,Bt(n,r,a,f),r.child)}function Fy(n,r,a,l,f,m){return js(r),r.updateQueue=null,a=Xg(r,l,a,f),Yg(n),l=jf(),n!==null&&!kt?(Bf(n,r,m),Fi(n,r,m)):(qe&&l&&Of(r),r.flags|=1,Bt(n,r,a,m),r.child)}function Gy(n,r,a,l,f){if(js(r),r.stateNode===null){var m=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(m=$t(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=td,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},pd(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?$t(v):Pa,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&td.enqueueReplaceState(m,m.state,null),dl(r,l,m,f),fl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,C=Ls(a,S);m.props=C;var U=m.context,W=a.contextType;v=Pa,typeof W=="object"&&W!==null&&(v=$t(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||U!==v)&&Ny(r,m,l,v),Mr=!1;var G=r.memoizedState;m.state=G,dl(r,l,m,f),fl(),U=r.memoizedState,S||G!==U||Mr?(typeof te=="function"&&(ed(r,a,te,l),U=r.memoizedState),(C=Mr||Dy(r,a,C,l,G,U,v))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),m.props=l,m.state=U,m.context=v,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,gd(n,r),v=r.memoizedProps,W=Ls(a,v),m.props=W,te=r.pendingProps,G=m.context,U=a.contextType,C=Pa,typeof U=="object"&&U!==null&&(C=$t(U)),S=a.getDerivedStateFromProps,(U=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==te||G!==C)&&Ny(r,m,l,C),Mr=!1,G=r.memoizedState,m.state=G,dl(r,l,m,f),fl();var Y=r.memoizedState;v!==te||G!==Y||Mr||n!==null&&n.dependencies!==null&&yc(n.dependencies)?(typeof S=="function"&&(ed(r,a,S,l),Y=r.memoizedState),(W=Mr||Dy(r,a,W,l,G,Y,C)||n!==null&&n.dependencies!==null&&yc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=C,l=W):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,ul(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Ps(r,n.child,null,f),r.child=Ps(r,null,a,f)):Bt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Fi(n,r,f),n}function Ky(n,r,a,l){return Zo(),r.flags|=256,Bt(n,r,a,l),r.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(n){return{baseLanes:n,cachePool:Qg()}}function ad(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Un),n}function $y(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(f?Or(r):Dr(),qe){var S=jt,C;if(C=S){e:{for(C=S,S=li;C.nodeType!==8;){if(!S){S=null;break e}if(C=Kn(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ds!==null?{id:ji,overflow:Bi}:null,retryLane:536870912},C=Vn(18,null,null,0),C.stateNode=S,C.return=r,r.child=C,sn=r,jt=null,C=!0):C=!1}C||xs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Hi(r)}return S=l.children,l=l.fallback,f?(Dr(),f=r.mode,S=ld({mode:"hidden",children:S},f),l=Hs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=sd(a),f.childLanes=ad(n,v,a),r.memoizedState=rd,l):(Or(r),od(r,S))}if(C=n.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(m)r.flags&256?(Or(r),r.flags&=-257,r=ud(n,r,a)):r.memoizedState!==null?(Dr(),r.child=n.child,r.flags|=128,r=null):(Dr(),f=l.fallback,S=r.mode,l=ld({mode:"visible",children:l.children},S),f=Hs(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ps(r,n.child,null,a),l=r.child,l.memoizedState=sd(a),l.childLanes=ad(n,v,a),r.memoizedState=rd,r=f);else if(Or(r),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,Jo({value:l,source:null,stack:null}),r=ud(n,r,a)}else if(kt||cl(n,r,a,!1),v=(a&n.childLanes)!==0,kt||v){if(v=Ze,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ir(n,l),an(v,n,l),Ly}S.data==="$?"||Ud(),r=ud(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=Sb.bind(null,n),S._reactRetry=r,r=null):(n=C.treeContext,jt=Kn(S.nextSibling),sn=r,qe=!0,Fn=null,li=!1,n!==null&&(Nn[xn++]=ji,Nn[xn++]=Bi,Nn[xn++]=Ds,ji=n.id,Bi=n.overflow,Ds=r),r=od(r,l.children),r.flags|=4096);return r}return f?(Dr(),f=l.fallback,S=r.mode,C=n.child,U=C.sibling,l=jr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?f=jr(U,f):(f=Hs(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=n.child.memoizedState,S===null?S=sd(a):(C=S.cachePool,C!==null?(U=Ct._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Qg(),S={baseLanes:S.baseLanes|a,cachePool:C}),f.memoizedState=S,f.childLanes=ad(n,v,a),r.memoizedState=rd,l):(Or(r),a=n.child,n=a.sibling,a=jr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function od(n,r){return r=ld({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ld(n,r){return v_(n,r,0,null)}function ud(n,r,a){return Ps(r,n.child,null,a),n=od(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Qy(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),dd(n.return,r,a)}function cd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Yy(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Bt(n,r,l.children,a),l=Rt.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qy(n,a,r);else if(n.tag===19)Qy(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Qe(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),cd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}cd(r,!0,a,null,m);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,!(a&r.childLanes))if(n!==null){if(cl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=jr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=jr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(n,r){return n.lanes&r?!0:(n=n.dependencies,!!(n!==null&&yc(n)))}function lb(n,r,a){switch(r.tag){case 3:fr(r,r.stateNode.containerInfo),Pr(r,Ct,n.memoizedState.cache),Zo();break;case 27:case 5:Io(r);break;case 4:fr(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):a&r.child.childLanes?$y(n,r,a):(Or(r),n=Fi(n,r,a),n!==null?n.sibling:null);Or(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(cl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Yy(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Hy(n,r,a);case 24:Pr(r,Ct,n.memoizedState.cache)}return Fi(n,r,a)}function Xy(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!hd(n,a)&&!(r.flags&128))return kt=!1,lb(n,r,a);kt=!!(n.flags&131072)}else kt=!1,qe&&r.flags&1048576&&Mg(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")wd(l)?(n=Ls(l,n),r.tag=1,r=Gy(null,r,l,n,a)):(r.tag=0,r=id(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===I){r.tag=11,r=zy(null,r,l,n,a);break e}else if(f===q){r.tag=14,r=jy(null,r,l,n,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return id(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ls(l,r.pendingProps),Gy(n,r,l,f,a);case 3:e:{if(fr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,gd(n,r),dl(r,m,null,a);var v=r.memoizedState;if(m=v.cache,Pr(r,Ct,m),m!==f.cache&&md(r,[Ct],a,!0),fl(),m=v.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ky(n,r,m,a);break e}else if(m!==l){l=Dn(Error(s(424)),r),Jo(l),r=Ky(n,r,m,a);break e}else for(jt=Kn(r.stateNode.containerInfo.firstChild),sn=r,qe=!0,Fn=null,li=!0,a=qg(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zo(),m===l){r=Fi(n,r,a);break e}Bt(n,r,m,a)}r=r.child}return r;case 26:return ul(n,r),n===null?(a=J_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=Pc(Sn.current).createElement(a),l[xt]=r,l[At]=n,Ht(l,a,n),et(l),r.stateNode=l):r.memoizedState=J_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Io(r),n===null&&qe&&(l=r.stateNode=X_(r.type,r.pendingProps,Sn.current),sn=r,li=!0,jt=Kn(l.firstChild)),l=r.pendingProps.children,n!==null||qe?Bt(n,r,l,a):r.child=Ps(r,null,l,a),ul(n,r),r.child;case 5:return n===null&&qe&&((f=l=jt)&&(l=Lb(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,sn=r,jt=Kn(l.firstChild),li=!1,f=!0):f=!1),f||xs(r)),Io(r),f=r.type,m=r.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,Wd(f,m)?l=null:v!==null&&Wd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=zf(n,r,tb,null,null,a),Il._currentValue=f),ul(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=jt)&&(a=zb(a,r.pendingProps,li),a!==null?(r.stateNode=a,sn=r,jt=null,n=!0):n=!1),n||xs(r)),null;case 13:return $y(n,r,a);case 4:return fr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ps(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return zy(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,js(r),f=$t(f),l=l(f),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return jy(n,r,r.type,r.pendingProps,a);case 15:return By(n,r,r.type,r.pendingProps,a);case 19:return Yy(n,r,a);case 22:return Hy(n,r,a);case 24:return js(r),l=$t(Ct),n===null?(f=Uf(),f===null&&(f=Ze,m=kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},pd(r),Pr(r,Ct,f)):(n.lanes&a&&(gd(n,r),dl(r,null,null,a),fl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,Ct,l)):(l=m.cache,Pr(r,Ct,l),l!==f.cache&&md(r,[Ct],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var fd=Be(null),zs=null,Gi=null;function Pr(n,r,a){Qe(fd,r._currentValue),r._currentValue=a}function Ki(n){n._currentValue=fd.current,st(fd)}function dd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function md(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var C=0;C<r.length;C++)if(S.context===r[C]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),dd(m.return,a,n),l||(v=null);break e}m=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),dd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function cl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;pn(f.pendingProps.value,v.value)||(n!==null?n.push(S):n=[S])}}else if(f===hr.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Il):n=[Il])}f=f.return}n!==null&&md(r,n,a,l),r.flags|=262144}function yc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){zs=n,Gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Wy(zs,n)}function _c(n,r){return zs===null&&js(n),Wy(n,r)}function Wy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(n===null)throw Error(s(308));Gi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Gi=Gi.next=r;return a}var Mr=!1;function pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,nt&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Zu(n),xg(n,null,a),r}return Wu(n,l,r,a),Zu(n)}function hl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_r(n,a)}}function yd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var _d=!1;function fl(){if(_d){var n=za;if(n!==null)throw n}}function dl(n,r,a,l){_d=!1;var f=n.updateQueue;Mr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,U=C.next;C.next=null,v===null?m=U:v.next=U,v=C;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==v&&(S===null?W.firstBaseUpdate=U:S.next=U,W.lastBaseUpdate=C))}if(m!==null){var te=f.baseState;v=0,W=U=C=null,S=m;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(ze&G)===G:(l&G)===G){G!==0&&G===La&&(_d=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=n,be=S;G=r;var ut=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){te=fe.call(ut,te,G);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,G=typeof fe=="function"?fe.call(ut,te,G):fe,G==null)break e;te=D({},te,G);break e;case 2:Mr=!0}}G=S.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(U=W=Y,C=te):W=W.next=Y,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(C=te),f.baseState=C,f.firstBaseUpdate=U,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Br|=v,n.lanes=v,n.memoizedState=te}}function Zy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Jy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Zy(a[n],r)}function ml(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){We(r,r.return,S)}}function Ur(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=r;var C=a;try{S()}catch(U){We(f,C,U)}}}l=l.next}while(l!==m)}}catch(U){We(r,r.return,U)}}function e_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Jy(r,a)}catch(l){We(n,n.return,l)}}}function t_(n,r,a){a.props=Ls(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function Bs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){We(n,r,m)}}function gn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function n_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function i_(n,r,a){try{var l=n.stateNode;Pb(l,n.type,a,r),l[At]=r}catch(f){We(n,n.return,f)}}function r_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||r_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ed(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ed(n,r,a),n=n.sibling;n!==null;)Ed(n,r,a),n=n.sibling}function vc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(vc(n,r,a),n=n.sibling;n!==null;)vc(n,r,a),n=n.sibling}var $i=!1,ot=!1,Td=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Vt=null,a_=!1;function ub(n,r){if(n=n.containerInfo,Yd=zc,n=Ag(n),Af(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,U=0,W=0,te=n,G=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(S=v+f),te!==m||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===n)break t;if(G===a&&++U===f&&(S=v),G===m&&++W===l&&(C=v),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:n,selectionRange:a},zc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var fe=Ls(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){We(a,a.return,be)}}break;case 3:if(n&1024){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}return fe=a_,a_=!1,fe}function o_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(n,a),l&4&&ml(5,a);break;case 1:if(Yi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){We(a,a.return,S)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){We(a,a.return,S)}}l&64&&e_(a),l&512&&Bs(a,a.return);break;case 3:if(Yi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Jy(l,n)}catch(S){We(a,a.return,S)}}break;case 26:Yi(n,a),l&512&&Bs(a,a.return);break;case 27:case 5:Yi(n,a),r===null&&l&4&&n_(a),l&512&&Bs(a,a.return);break;case 12:Yi(n,a);break;case 13:Yi(n,a),l&4&&c_(n,a);break;case 22:if(f=a.memoizedState!==null||$i,!f){r=r!==null&&r.memoizedState!==null||ot;var m=$i,v=ot;$i=f,(ot=r)&&!v?Lr(n,a,(a.subtreeFlags&8772)!==0):Yi(n,a),$i=m,ot=v}l&512&&(a.memoizedProps.mode==="manual"?Bs(a,a.return):gn(a,a.return));break;default:Yi(n,a)}}function l_(n){var r=n.alternate;r!==null&&(n.alternate=null,l_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ys(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,yn=!1;function Qi(n,r,a){for(a=a.child;a!==null;)u_(n,r,a),a=a.sibling}function u_(n,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:ot||gn(a,r),Qi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||gn(a,r);var l=vt,f=yn;for(vt=a.stateNode,Qi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ys(a),vt=l,yn=f;break;case 5:ot||gn(a,r);case 6:f=vt;var m=yn;if(vt=null,Qi(n,r,a),vt=f,yn=m,vt!==null)if(yn)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){We(a,r,v)}else try{vt.removeChild(a.stateNode)}catch(v){We(a,r,v)}break;case 18:vt!==null&&(yn?(r=vt,a=a.stateNode,r.nodeType===8?Jd(r.parentNode,a):r.nodeType===1&&Jd(r,a),xl(r)):Jd(vt,a.stateNode));break;case 4:l=vt,f=yn,vt=a.stateNode.containerInfo,yn=!0,Qi(n,r,a),vt=l,yn=f;break;case 0:case 11:case 14:case 15:ot||Ur(2,a,r),ot||Ur(4,a,r),Qi(n,r,a);break;case 1:ot||(gn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,r,l)),Qi(n,r,a);break;case 21:Qi(n,r,a);break;case 22:ot||gn(a,r),ot=(l=ot)||a.memoizedState!==null,Qi(n,r,a),ot=l;break;default:Qi(n,r,a)}}function c_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xl(n)}catch(a){We(r,r.return,a)}}function cb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new s_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new s_),r;default:throw Error(s(435,n.tag))}}function Sd(n,r){var a=cb(n);r.forEach(function(l){var f=Ab.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Mn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:vt=S.stateNode,yn=!1;break e;case 3:vt=S.stateNode.containerInfo,yn=!0;break e;case 4:vt=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(vt===null)throw Error(s(160));u_(m,v,f),vt=null,yn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)h_(r,n),r=r.sibling}var Gn=null;function h_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mn(r,n),kn(n),l&4&&(Ur(3,n,n.return),ml(3,n),Ur(5,n,n.return));break;case 1:Mn(r,n),kn(n),l&512&&(ot||a===null||gn(a,a.return)),l&64&&$i&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(Mn(r,n),kn(n),l&512&&(ot||a===null||gn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Er]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ht(m,l,a),m[xt]=n,et(m),l=m;break e;case"link":var v=nv("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;case"meta":if(v=nv("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[xt]=n,et(m),l=m}n.stateNode=l}else iv(f,n.type,n.stateNode);else n.stateNode=tv(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?iv(f,n.type,n.stateNode):tv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&i_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var C=f.firstChild;C;){var U=C.nextSibling,W=C.nodeName;C[Er]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=U}for(var te=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Ht(f,te,m),f[xt]=n,f[At]=m}catch(fe){We(n,n.return,fe)}}case 5:if(Mn(r,n),kn(n),l&512&&(ot||a===null||gn(a,a.return)),n.flags&32){f=n.stateNode;try{wn(f,"")}catch(fe){We(n,n.return,fe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,i_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Td=!0);break;case 6:if(Mn(r,n),kn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){We(n,n.return,fe)}}break;case 3:if(Vc=null,f=Gn,Gn=Mc(r.containerInfo),Mn(r,n),Gn=f,kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch(fe){We(n,n.return,fe)}Td&&(Td=!1,f_(n));break;case 4:l=Gn,Gn=Mc(n.stateNode.containerInfo),Mn(r,n),kn(n),Gn=l;break;case 12:Mn(r,n),kn(n);break;case 13:Mn(r,n),kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sd(n,l)));break;case 22:if(l&512&&(ot||a===null||gn(a,a.return)),C=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,W=$i,te=ot,$i=W||C,ot=te||U,Mn(r,n),ot=te,$i=W,kn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=$i||ot,a===null||U||r||qa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=U.stateNode,S=U.memoizedProps.style;var Y=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){We(U,U.return,fe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(fe){We(U,U.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(n,a))));break;case 19:Mn(r,n),kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sd(n,l)));break;case 21:break;default:Mn(r,n),kn(n)}}function kn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(r_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=vd(n);vc(n,m,f);break;case 5:var v=l.stateNode;l.flags&32&&(wn(v,""),l.flags&=-33);var S=vd(n);vc(n,S,v);break;case 3:case 4:var C=l.stateNode.containerInfo,U=vd(n);Ed(n,U,C);break;default:throw Error(s(161))}}}catch(W){We(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function f_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;f_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Yi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)o_(n,r.alternate,r),r=r.sibling}function qa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),qa(r);break;case 1:gn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&t_(r,r.return,a),qa(r);break;case 26:case 27:case 5:gn(r,r.return),qa(r);break;case 22:gn(r,r.return),r.memoizedState===null&&qa(r);break;default:qa(r)}n=n.sibling}}function Lr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Lr(f,m,a),ml(4,m);break;case 1:if(Lr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){We(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Zy(C[f],S)}catch(U){We(l,l.return,U)}}a&&v&64&&e_(m),Bs(m,m.return);break;case 26:case 27:case 5:Lr(f,m,a),a&&l===null&&v&4&&n_(m),Bs(m,m.return);break;case 12:Lr(f,m,a);break;case 13:Lr(f,m,a),a&&v&4&&c_(f,m);break;case 22:m.memoizedState===null&&Lr(f,m,a),Bs(m,m.return);break;default:Lr(f,m,a)}r=r.sibling}}function Ad(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&rl(a))}function bd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&rl(n))}function zr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d_(n,r,a,l),r=r.sibling}function d_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:zr(n,r,a,l),f&2048&&ml(9,r);break;case 3:zr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&rl(n)));break;case 12:if(f&2048){zr(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else zr(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?zr(n,r,a,l):pl(n,r):m._visibility&4?zr(n,r,a,l):(m._visibility|=4,Fa(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Ad(r.alternate,r);break;case 24:zr(n,r,a,l),f&2048&&bd(r.alternate,r);break;default:zr(n,r,a,l)}}function Fa(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,v=r,S=a,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(m,v,S,C,f),ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Fa(m,v,S,C,f):pl(m,v):(W._visibility|=4,Fa(m,v,S,C,f)),f&&U&2048&&Ad(v.alternate,v);break;case 24:Fa(m,v,S,C,f),f&&U&2048&&bd(v.alternate,v);break;default:Fa(m,v,S,C,f)}r=r.sibling}}function pl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:pl(a,l),f&2048&&Ad(l.alternate,l);break;case 24:pl(a,l),f&2048&&bd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var gl=8192;function Ga(n){if(n.subtreeFlags&gl)for(n=n.child;n!==null;)m_(n),n=n.sibling}function m_(n){switch(n.tag){case 26:Ga(n),n.flags&gl&&n.memoizedState!==null&&Zb(Gn,n.memoizedState,n.memoizedProps);break;case 5:Ga(n);break;case 3:case 4:var r=Gn;Gn=Mc(n.stateNode.containerInfo),Ga(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,Ga(n),gl=r):Ga(n));break;default:Ga(n)}}function p_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function yl(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,y_(l,n)}p_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)g_(n),n=n.sibling}function g_(n){switch(n.tag){case 0:case 11:case 15:yl(n),n.flags&2048&&Ur(9,n,n.return);break;case 3:yl(n);break;case 12:yl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Ec(n)):yl(n);break;default:yl(n)}}function Ec(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,y_(l,n)}p_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ec(r));break;default:Ec(r)}n=n.sibling}}function y_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,m=l.return;if(l_(l),l===a){Vt=null;break e}if(f!==null){f.return=m,Vt=f;break e}Vt=m}}}function hb(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(n,r,a,l){return new hb(n,r,a,l)}function wd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jr(n,r){var a=n.alternate;return a===null?(a=Vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function __(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Tc(n,r,a,l,f,m){var v=0;if(l=n,typeof n=="function")wd(n)&&(v=1);else if(typeof n=="string")v=Xb(n,a,en.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Hs(a.children,f,m,r);case g:v=8,f|=24;break;case E:return n=Vn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case B:return n=Vn(13,a,r,f),n.elementType=B,n.lanes=m,n;case x:return n=Vn(19,a,r,f),n.elementType=x,n.lanes=m,n;case X:return v_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case O:v=10;break e;case w:v=9;break e;case I:v=11;break e;case q:v=14;break e;case Z:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Vn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Hs(n,r,a,l){return n=Vn(7,n,l,r),n.lanes=a,n}function v_(n,r,a,l){n=Vn(22,n,l,r),n.elementType=X,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var v=Ir(m,2);v!==null&&(f._pendingVisibility|=2,an(v,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if(f._pendingVisibility&2){var v=Ir(m,2);v!==null&&(f._pendingVisibility&=-3,an(v,m,2))}}};return n.stateNode=f,n}function Rd(n,r,a){return n=Vn(6,n,null,r),n.lanes=a,n}function Cd(n,r,a){return r=Vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Xi(n){n.flags|=4}function E_(n,r){if(r.type!=="stylesheet"||r.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!rv(r)){if(r=Pn.current,r!==null&&((ze&4194176)===ze?ui!==null:(ze&62914560)!==ze&&!(ze&536870912)||r!==ui))throw tl=xf,Ug;n.flags|=8192}}function Sc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?gr():536870912,n.lanes|=r,$a|=r)}function _l(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function fb(n,r,a){var l=r.pendingProps;switch(Df(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(Ct),Oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Wo(r)?Xi(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Fn!==null&&(kd(Fn),Fn=null))),tt(r),null;case 26:return a=r.memoizedState,n===null?(Xi(r),a!==null?(tt(r),E_(r,a)):(tt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Xi(r),tt(r),E_(r,a)):(tt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Xi(r),tt(r),r.flags&=-16777217),null;case 27:fa(r),a=Sn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}n=en.current,Wo(r)?kg(r):(n=X_(f,l,a),r.stateNode=n,Xi(r))}return tt(r),null;case 5:if(fa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(n=en.current,Wo(r))kg(r);else{switch(f=Pc(Sn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[xt]=r,n[At]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xi(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Sn.current,Wo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[xt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(n.nodeValue,a)),n||xs(r)}else n=Pc(n).createTextNode(l),n[xt]=r,r.stateNode=n}return tt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Wo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else Zo(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;tt(r),f=!1}else Fn!==null&&(kd(Fn),Fn=null),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),tt(r),null;case 4:return Oi(),n===null&&Kd(r.stateNode.containerInfo),tt(r),null;case 10:return Ki(r.type),tt(r),null;case 19:if(st(Rt),f=r.memoizedState,f===null)return tt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)_l(f,!1);else{if(lt!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(m=sc(n),m!==null){for(r.flags|=128,_l(f,!1),n=m.updateQueue,r.updateQueue=n,Sc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)__(a,n),a=a.sibling;return Qe(Rt,Rt.current&1|2),r.child}n=n.sibling}f.tail!==null&&on()>Ac&&(r.flags|=128,l=!0,_l(f,!1),r.lanes=4194304)}else{if(!l)if(n=sc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Sc(r,n),_l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qe)return tt(r),null}else 2*on()-f.renderingStartTime>Ac&&a!==536870912&&(r.flags|=128,l=!0,_l(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=on(),r.sibling=null,n=Rt.current,Qe(Rt,l?n&1|2:n&1),r):(tt(r),null);case 22:case 23:return Hi(r),Mf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&st(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(Ct),tt(r),null;case 25:return null}throw Error(s(156,r.tag))}function db(n,r){switch(Df(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ki(Ct),Oi(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return fa(r),null;case 13:if(Hi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return st(Rt),null;case 4:return Oi(),null;case 10:return Ki(r.type),null;case 22:case 23:return Hi(r),Mf(),n!==null&&st(Ms),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ki(Ct),null;case 25:return null;default:return null}}function T_(n,r){switch(Df(r),r.tag){case 3:Ki(Ct),Oi();break;case 26:case 27:case 5:fa(r);break;case 4:Oi();break;case 13:Hi(r);break;case 19:st(Rt);break;case 10:Ki(r.type);break;case 22:case 23:Hi(r),Mf(),n!==null&&st(Ms);break;case 24:Ki(Ct)}}var mb={getCacheForType:function(n){var r=$t(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},pb=typeof WeakMap=="function"?WeakMap:Map,nt=0,Ze=null,xe=null,ze=0,Je=0,_n=null,Wi=!1,Ka=!1,Id=!1,Zi=0,lt=0,Br=0,qs=0,Od=0,Un=0,$a=0,vl=null,hi=null,Dd=!1,Nd=0,Ac=1/0,bc=null,Hr=null,wc=!1,Fs=null,El=0,xd=0,Pd=null,Tl=0,Md=null;function vn(){if(nt&2&&ze!==0)return ze&-ze;if(b.T!==null){var n=La;return n!==0?n:Hd()}return Nu()}function S_(){Un===0&&(Un=!(ze&536870912)||qe?Po():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),Un}function an(n,r,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(Qa(n,0),Ji(n,ze,Un,!1)),ft(n,a),(!(nt&2)||n!==Ze)&&(n===Ze&&(!(nt&2)&&(qs|=a),lt===4&&Ji(n,ze,Un,!1)),fi(n))}function A_(n,r,a){if(nt&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||pr(n,r),f=l?_b(n,r):Ld(n,r,!0),m=l;do{if(f===0){Ka&&!l&&Ji(n,r,0,!1);break}else if(f===6)Ji(n,r,0,!Wi);else{if(a=n.current.alternate,m&&!gb(a)){f=Ld(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var S=n;f=vl;var C=S.current.memoizedState.isDehydrated;if(C&&(Qa(S,v).flags|=256),v=Ld(S,v,!1),v!==2){if(Id&&!C){S.errorRecoveryDisabledLanes|=m,qs|=m,f=4;break e}m=hi,hi=f,m!==null&&kd(m)}f=v}if(m=!1,f!==2)continue}}if(f===1){Qa(n,0),Ji(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Ji(l,r,Un,!Wi);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=Nd+300-on(),10<m)){if(Ji(l,r,Un,!Wi),An(l,0)!==0)break e;l.timeoutHandle=$_(b_.bind(null,l,a,hi,bc,Dd,r,Un,qs,$a,Wi,2,-0,0),m);break e}b_(l,a,hi,bc,Dd,r,Un,qs,$a,Wi,0,-0,0)}}break}while(!0);fi(n)}function kd(n){hi===null?hi=n:hi.push.apply(hi,n)}function b_(n,r,a,l,f,m,v,S,C,U,W,te,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:Wb},m_(r),r=Jb(),r!==null)){n.cancelPendingCommit=r(N_.bind(null,n,a,l,f,v,S,C,1,te,G)),Ji(n,m,v,!U);return}N_(n,a,l,f,v,S,C,W,te,G)}function gb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(n,r,a,l){r&=~Od,r&=~qs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-tn(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&yr(n,a,r)}function Rc(){return nt&6?!0:(Sl(0),!1)}function Vd(){if(xe!==null){if(Je===0)var n=xe.return;else n=xe,Gi=zs=null,Hf(n),Va=null,nl=0,n=xe;for(;n!==null;)T_(n.alternate,n),n=n.return;xe=null}}function Qa(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Vd(),Ze=n,xe=a=jr(n.current,null),ze=r,Je=0,_n=null,Wi=!1,Ka=pr(n,r),Id=!1,$a=Un=Od=qs=Br=lt=0,hi=vl=null,Dd=!1,r&8&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-tn(l),m=1<<f;r|=n[f],l&=~m}return Zi=r,Xu(),a}function w_(n,r){De=null,b.H=ci,r===el?(r=jg(),Je=3):r===Ug?(r=jg(),Je=4):Je=r===Ly?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,xe===null&&(lt=1,gc(n,Dn(r,n.current)))}function R_(){var n=b.H;return b.H=ci,n===null?ci:n}function C_(){var n=b.A;return b.A=mb,n}function Ud(){lt=4,Wi||(ze&4194176)!==ze&&Pn.current!==null||(Ka=!0),!(Br&134217727)&&!(qs&134217727)||Ze===null||Ji(Ze,ze,Un,!1)}function Ld(n,r,a){var l=nt;nt|=2;var f=R_(),m=C_();(Ze!==n||ze!==r)&&(bc=null,Qa(n,r)),r=!1;var v=lt;e:do try{if(Je!==0&&xe!==null){var S=xe,C=_n;switch(Je){case 8:Vd(),v=6;break e;case 3:case 2:case 6:Pn.current===null&&(r=!0);var U=Je;if(Je=0,_n=null,Ya(n,S,C,U),a&&Ka){v=0;break e}break;default:U=Je,Je=0,_n=null,Ya(n,S,C,U)}}yb(),v=lt;break}catch(W){w_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Gi=zs=null,nt=l,b.H=f,b.A=m,xe===null&&(Ze=null,ze=0,Xu()),v}function yb(){for(;xe!==null;)I_(xe)}function _b(n,r){var a=nt;nt|=2;var l=R_(),f=C_();Ze!==n||ze!==r?(bc=null,Ac=on()+500,Qa(n,r)):Ka=pr(n,r);e:do try{if(Je!==0&&xe!==null){r=xe;var m=_n;t:switch(Je){case 1:Je=0,_n=null,Ya(n,r,m,1);break;case 2:if(Lg(m)){Je=0,_n=null,O_(r);break}r=function(){Je===2&&Ze===n&&(Je=7),fi(n)},m.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Lg(m)?(Je=0,_n=null,O_(r)):(Je=0,_n=null,Ya(n,r,m,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var S=xe;if(!v||rv(v)){Je=0,_n=null;var C=S.sibling;if(C!==null)xe=C;else{var U=S.return;U!==null?(xe=U,Cc(U)):xe=null}break t}}Je=0,_n=null,Ya(n,r,m,5);break;case 6:Je=0,_n=null,Ya(n,r,m,6);break;case 8:Vd(),lt=6;break e;default:throw Error(s(462))}}vb();break}catch(W){w_(n,W)}while(!0);return Gi=zs=null,b.H=l,b.A=f,nt=a,xe!==null?0:(Ze=null,ze=0,Xu(),lt)}function vb(){for(;xe!==null&&!ff();)I_(xe)}function I_(n){var r=Xy(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,r===null?Cc(n):xe=r}function O_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Fy(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Fy(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Hf(r);default:T_(a,r),r=xe=__(r,Zi),r=Xy(a,r,Zi)}n.memoizedProps=n.pendingProps,r===null?Cc(n):xe=r}function Ya(n,r,a,l){Gi=zs=null,Hf(r),Va=null,nl=0;var f=r.return;try{if(ob(n,f,r,a,ze)){lt=1,gc(n,Dn(a,n.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;lt=1,gc(n,Dn(a,n.current)),xe=null;return}r.flags&32768?(qe||l===1?n=!0:Ka||ze&536870912?n=!1:(Wi=n=!0,(l===2||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(r,n)):Cc(r)}function Cc(n){var r=n;do{if(r.flags&32768){D_(r,Wi);return}n=r.return;var a=fb(r.alternate,r,Zi);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);lt===0&&(lt=5)}function D_(n,r){do{var a=db(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);lt=6,xe=null}function N_(n,r,a,l,f,m,v,S,C,U){var W=b.T,te=ue.p;try{ue.p=2,b.T=null,Eb(n,r,a,l,te,f,m,v,S,C,U)}finally{b.T=W,ue.p=te}}function Eb(n,r,a,l,f,m,v,S){do Xa();while(Fs!==null);if(nt&6)throw Error(s(327));var C=n.finishedWork;if(l=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Cf,Ou(n,l,U,m,v,S),n===Ze&&(xe=Ze=null,ze=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||wc||(wc=!0,xd=U,Pd=a,bb(Di,function(){return Xa(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=b.T,b.T=null,m=ue.p,ue.p=2,v=nt,nt|=4,ub(n,C),h_(C,n),FA(Xd,n.containerInfo),zc=!!Yd,Xd=Yd=null,n.current=C,o_(n,C.alternate,C),Oo(),nt=v,ue.p=m,b.T=a):n.current=C,wc?(wc=!1,Fs=n,El=l):x_(n,U),U=n.pendingLanes,U===0&&(Hr=null),No(C.stateNode),fi(n),r!==null)for(f=n.onRecoverableError,C=0;C<r.length;C++)U=r[C],f(U.value,{componentStack:U.stack});return El&3&&Xa(),U=n.pendingLanes,l&4194218&&U&42?n===Md?Tl++:(Tl=0,Md=n):Tl=0,Sl(0),null}function x_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,rl(r)))}function Xa(){if(Fs!==null){var n=Fs,r=xd;xd=0;var a=Du(El),l=b.T,f=ue.p;try{if(ue.p=32>a?32:a,b.T=null,Fs===null)var m=!1;else{a=Pd,Pd=null;var v=Fs,S=El;if(Fs=null,El=0,nt&6)throw Error(s(331));var C=nt;if(nt|=4,g_(v.current),d_(v,v.current,S,a),nt=C,Sl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(dr,v)}catch{}m=!0}return m}finally{ue.p=f,b.T=l,x_(n,r)}}return!1}function P_(n,r,a){r=Dn(a,r),r=nd(n.stateNode,r,2),n=Vr(n,r,2),n!==null&&(ft(n,2),fi(n))}function We(n,r,a){if(n.tag===3)P_(n,n,a);else for(;r!==null;){if(r.tag===3){P_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){n=Dn(a,n),a=Vy(2),l=Vr(r,a,2),l!==null&&(Uy(a,l,r,n),ft(l,2),fi(l));break}}r=r.return}}function zd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new pb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Id=!0,f.add(a),n=Tb.bind(null,n,r,a),r.then(n,n))}function Tb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(ze&a)===a&&(lt===4||lt===3&&(ze&62914560)===ze&&300>on()-Nd?!(nt&2)&&Qa(n,0):Od|=a,$a===ze&&($a=0)),fi(n)}function M_(n,r){r===0&&(r=gr()),n=Ir(n,r),n!==null&&(ft(n,r),fi(n))}function Sb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),M_(n,a)}function Ab(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),M_(n,a)}function bb(n,r){return ms(n,r)}var Ic=null,Wa=null,jd=!1,Oc=!1,Bd=!1,Gs=0;function fi(n){n!==Wa&&n.next===null&&(Wa===null?Ic=Wa=n:Wa=Wa.next=n),Oc=!0,jd||(jd=!0,Rb(wb))}function Sl(n,r){if(!Bd&&Oc){Bd=!0;do for(var a=!1,l=Ic;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-tn(42|n)+1)-1,m&=f&~(v&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,U_(l,m))}else m=ze,m=An(l,l===Ze?m:0),!(m&3)||pr(l,m)||(a=!0,U_(l,m));l=l.next}while(a);Bd=!1}}function wb(){Oc=jd=!1;var n=0;Gs!==0&&(Mb()&&(n=Gs),Gs=0);for(var r=on(),a=null,l=Ic;l!==null;){var f=l.next,m=k_(l,r);m===0?(l.next=null,a===null?Ic=f:a.next=f,f===null&&(Wa=a)):(a=l,(n!==0||m&3)&&(Oc=!0)),l=f}Sl(n)}function k_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-tn(m),S=1<<v,C=f[v];C===-1?(!(S&a)||S&l)&&(f[v]=pa(S,r)):C<=r&&(n.expiredLanes|=S),m&=~S}if(r=Ze,a=ze,a=An(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&Je===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ma(l),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||pr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ma(l),Du(a)){case 2:case 8:a=Nt;break;case 32:a=Di;break;case 268435456:a=Do;break;default:a=Di}return l=V_.bind(null,n),a=ms(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ma(l),n.callbackPriority=2,n.callbackNode=null,2}function V_(n,r){var a=n.callbackNode;if(Xa()&&n.callbackNode!==a)return null;var l=ze;return l=An(n,n===Ze?l:0),l===0?null:(A_(n,l,r),k_(n,on()),n.callbackNode!=null&&n.callbackNode===a?V_.bind(null,n):null)}function U_(n,r){if(Xa())return null;A_(n,r,!0)}function Rb(n){Vb(function(){nt&6?ms(St,n):n()})}function Hd(){return Gs===0&&(Gs=Po()),Gs}function L_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ti(""+n)}function z_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Cb(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=L_((f[At]||null).action),v=l.submitter;v&&(r=(r=v[At]||null)?L_(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var S=new Sa("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var C=v?z_(f,v):new FormData(f);Wf(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=v?z_(f,v):new FormData(f),Wf(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var qd=0;qd<Ng.length;qd++){var Fd=Ng[qd],Ib=Fd.toLowerCase(),Ob=Fd[0].toUpperCase()+Fd.slice(1);qn(Ib,"on"+Ob)}qn(Rg,"onAnimationEnd"),qn(Cg,"onAnimationIteration"),qn(Ig,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(KA,"onTransitionRun"),qn($A,"onTransitionStart"),qn(QA,"onTransitionCancel"),qn(Og,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function j_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,U=S.currentTarget;if(S=S.listener,C!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(W){pc(W)}f.currentTarget=null,m=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,U=S.currentTarget,S=S.listener,C!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(W){pc(W)}f.currentTarget=null,m=C}}}}function ke(n,r){var a=r[gs];a===void 0&&(a=r[gs]=new Set);var l=n+"__bubble";a.has(l)||(B_(r,n,2,!1),a.add(l))}function Gd(n,r,a){var l=0;r&&(l|=4),B_(a,n,l,r)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Kd(n){if(!n[Dc]){n[Dc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||Gd(a,!1,n),Gd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Dc]||(r[Dc]=!0,Gd("selectionchange",!1,r))}}function B_(n,r,a,l){switch(cv(r)){case 2:var f=nw;break;case 8:f=iw;break;default:f=sm}a=f.bind(null,r,a,n),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function $d(n,r,a,l,f){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;S!==null;){if(v=Hn(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=m=v;continue e}S=S.parentNode}}l=l.return}ku(function(){var U=m,W=Ta(a),te=[];e:{var G=Dg.get(n);if(G!==void 0){var Y=Sa,fe=n;switch(n){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":Y=Ia;break;case"focusin":fe="focus",Y=wa;break;case"focusout":fe="blur",Y=wa;break;case"beforeblur":case"afterblur":Y=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=qu;break;case Rg:case Cg:case Ig:Y=Ra;break;case Og:Y=Gu;break;case"scroll":case"scrollend":Y=Vu;break;case"wheel":Y=Oa;break;case"copy":case"cut":case"paste":Y=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=$o;break;case"toggle":case"beforetoggle":Y=$u}var be=(r&4)!==0,ut=!be&&(n==="scroll"||n==="scrollend"),L=be?G!==null?G+"Capture":null:G;be=[];for(var k=U,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=Ts(k,L),J!=null&&be.push(bl(k,J,H))),ut)break;k=k.return}0<be.length&&(G=new Y(G,fe,null,a,W),te.push({event:G,listeners:be}))}}if(!(r&7)){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==Rn&&(fe=a.relatedTarget||a.fromElement)&&(Hn(fe)||fe[Ni]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=U,fe=fe?Hn(fe):null,fe!==null&&(ut=ge(fe),be=fe.tag,fe!==ut||be!==5&&be!==27&&be!==6)&&(fe=null)):(Y=null,fe=U),Y!==fe)){if(be=In,J="onMouseLeave",L="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(be=$o,J="onPointerLeave",L="onPointerEnter",k="pointer"),ut=Y==null?G:Tr(Y),H=fe==null?G:Tr(fe),G=new be(J,k+"leave",Y,a,W),G.target=ut,G.relatedTarget=H,J=null,Hn(W)===U&&(be=new be(L,k+"enter",fe,a,W),be.target=H,be.relatedTarget=ut,J=be),ut=J,Y&&fe)t:{for(be=Y,L=fe,k=0,H=be;H;H=Za(H))k++;for(H=0,J=L;J;J=Za(J))H++;for(;0<k-H;)be=Za(be),k--;for(;0<H-k;)L=Za(L),H--;for(;k--;){if(be===L||L!==null&&be===L.alternate)break t;be=Za(be),L=Za(L)}be=null}else be=null;Y!==null&&H_(te,G,Y,be,!1),fe!==null&&ut!==null&&H_(te,ut,fe,be,!0)}}e:{if(G=U?Tr(U):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var he=pg;else if(wt(G))if(gg)he=HA;else{he=jA;var Ne=zA}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&jo(U.elementType)&&(he=pg):he=BA;if(he&&(he=he(n,U))){zi(te,he,a,W);break e}Ne&&Ne(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Ea(G,"number",G.value)}switch(Ne=U?Tr(U):window,n){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(Da=Ne,bf=U,Xo=null);break;case"focusout":Xo=bf=Da=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,bg(te,a,W);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":bg(te,a,W)}var pe;if(ai)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ue?$(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ue||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ue&&(pe=Ho()):(ni=W,Cr="value"in ni?ni.value:ni.textContent,Ue=!0)),Ne=Nc(U,ve),0<Ne.length&&(ve=new Go(ve,n,null,a,W),te.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=re(a),pe!==null&&(ve.data=pe)))),(pe=y?bt(n,a):Le(n,a))&&(ve=Nc(U,"onBeforeInput"),0<ve.length&&(Ne=new Go("onBeforeInput","beforeinput",null,a,W),te.push({event:Ne,listeners:ve}),Ne.data=pe)),Cb(te,n,U,a,W)}j_(te,r)})}function bl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Nc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ts(n,a),f!=null&&l.unshift(bl(n,f,m)),f=Ts(n,r),f!=null&&l.push(bl(n,f,m))),n=n.return}return l}function Za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function H_(n,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var S=a,C=S.alternate,U=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||U===null||(C=U,f?(U=Ts(a,m),U!=null&&v.unshift(bl(a,U,C))):f||(U=Ts(a,m),U!=null&&v.push(bl(a,U,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var Nb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function q_(n){return(typeof n=="string"?n:""+n).replace(Nb,`
`).replace(xb,"")}function F_(n,r){return r=q_(r),q_(n)===r}function xc(){}function Xe(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(n,""+l);break;case"className":br(n,"class",l);break;case"tabIndex":br(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(n,a,l);break;case"style":Mu(n,l,m);break;case"data":if(r!=="object"){br(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Xe(n,r,"name",f.name,f,null),Xe(n,r,"formEncType",f.formEncType,f,null),Xe(n,r,"formMethod",f.formMethod,f,null),Xe(n,r,"formTarget",f.formTarget,f,null)):(Xe(n,r,"encType",f.encType,f,null),Xe(n,r,"method",f.method,f,null),Xe(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=xc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ti(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Ar(n,"popover",l);break;case"xlinkActuate":bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,Ar(n,a,l))}}function Qd(n,r,a,l,f,m){switch(a){case"style":Mu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?wn(n,l):(typeof l=="number"||typeof l=="bigint")&&wn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[At]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ar(n,a,l)}}}function Ht(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(n,r,m,v,a,null)}}f&&Xe(n,r,"srcSet",a.srcSet,a,null),l&&Xe(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var S=m=v=f=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":U=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Xe(n,r,l,W,a,null)}}vs(n,m,S,C,U,v,f,!1),_s(n);return;case"select":ke("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Xe(n,r,f,S,a,null)}r=m,a=v,n.multiple=!!l,r!=null?He(n,!!l,r,!1):a!=null&&He(n,!!l,a,!0);return;case"textarea":ke("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xe(n,r,v,S,a,null)}Rr(n,l,f,m),_s(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(n,r,C,l,a,null)}return;case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Al.length;l++)ke(Al[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(n,r,U,l,a,null)}return;default:if(jo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(n,r,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Xe(n,r,S,l,a,null))}function Pb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,S=null,C=null,U=null,W=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(Y)||Xe(n,r,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":U=Y;break;case"defaultChecked":W=Y;break;case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Xe(n,r,G,Y,l,te)}}wr(n,v,S,C,U,W,m,f);return;case"select":Y=v=S=G=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(m)||Xe(n,r,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==C&&Xe(n,r,f,m,l,C)}r=S,a=v,l=Y,G!=null?He(n,!!a,G,!1):!!l!=!!a&&(r!=null?He(n,!!a,r,!0):He(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(n,r,S,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Xe(n,r,v,f,l,m)}Es(n,G,Y);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:Xe(n,r,fe,null,l,G)}for(C in l)if(G=l[C],Y=a[C],l.hasOwnProperty(C)&&G!==Y&&(G!=null||Y!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xe(n,r,C,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&Xe(n,r,be,null,l,G);for(U in l)if(G=l[U],Y=a[U],l.hasOwnProperty(U)&&G!==Y&&(G!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Xe(n,r,U,G,l,Y)}return;default:if(jo(r)){for(var ut in a)G=a[ut],a.hasOwnProperty(ut)&&G!==void 0&&!l.hasOwnProperty(ut)&&Qd(n,r,ut,void 0,l,G);for(W in l)G=l[W],Y=a[W],!l.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||Qd(n,r,W,G,l,Y);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&Xe(n,r,L,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||Xe(n,r,te,G,l,Y)}var Yd=null,Xd=null;function Pc(n){return n.nodeType===9?n:n.ownerDocument}function G_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Wd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Mb(){var n=window.event;return n&&n.type==="popstate"?n===Zd?!1:(Zd=n,!0):(Zd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(n){return Q_.resolve(null).then(n).catch(Ub)}:$_;function Ub(n){setTimeout(function(){throw n})}function Jd(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),xl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);xl(r)}function em(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Lb(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Er])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function zb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function Y_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function X_(n,r,a){switch(r=Pc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Ln=new Map,W_=new Set;function Mc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var er=ue.d;ue.d={f:jb,r:Bb,D:Hb,C:qb,L:Fb,m:Gb,X:$b,S:Kb,M:Qb};function jb(){var n=er.f(),r=Rc();return n||r}function Bb(n){var r=xi(n);r!==null&&r.tag===5&&r.type==="form"?by(r):er.r(n)}var Ja=typeof document>"u"?null:document;function Z_(n,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var f=at(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),W_.has(f)||(W_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",n),et(r),l.head.appendChild(r)))}}function Hb(n){er.D(n),Z_("dns-prefetch",n,null)}function qb(n,r){er.C(n,r),Z_("preconnect",n,r)}function Fb(n,r,a){er.L(n,r,a);var l=Ja;if(l&&n&&r){var f='link[rel="preload"][as="'+at(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+at(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+at(a.imageSizes)+'"]')):f+='[href="'+at(n)+'"]';var m=f;switch(r){case"style":m=eo(n);break;case"script":m=to(n)}Ln.has(m)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Ln.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(wl(m))||r==="script"&&l.querySelector(Rl(m))||(r=l.createElement("link"),Ht(r,"link",n),et(r),l.head.appendChild(r)))}}function Gb(n,r){er.m(n,r);var a=Ja;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=to(n)}if(!Ln.has(m)&&(n=D({rel:"modulepreload",href:n},r),Ln.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(m)))return}l=a.createElement("link"),Ht(l,"link",n),et(l),a.head.appendChild(l)}}}function Kb(n,r,a){er.S(n,r,a);var l=Ja;if(l&&n){var f=Sr(l).hoistableStyles,m=eo(n);r=r||"default";var v=f.get(m);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(wl(m)))S.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Ln.get(m))&&tm(n,a);var C=v=l.createElement("link");et(C),Ht(C,"link",n),C._p=new Promise(function(U,W){C.onload=U,C.onerror=W}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(m,v)}}}function $b(n,r){er.X(n,r);var a=Ja;if(a&&n){var l=Sr(a).hoistableScripts,f=to(n),m=l.get(f);m||(m=a.querySelector(Rl(f)),m||(n=D({src:n,async:!0},r),(r=Ln.get(f))&&nm(n,r),m=a.createElement("script"),et(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Qb(n,r){er.M(n,r);var a=Ja;if(a&&n){var l=Sr(a).hoistableScripts,f=to(n),m=l.get(f);m||(m=a.querySelector(Rl(f)),m||(n=D({src:n,async:!0,type:"module"},r),(r=Ln.get(f))&&nm(n,r),m=a.createElement("script"),et(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function J_(n,r,a,l){var f=(f=Sn.current)?Mc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=Sr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=eo(a.href);var m=Sr(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(wl(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Ln.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(n,a),m||Yb(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=Sr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function eo(n){return'href="'+at(n)+'"'}function wl(n){return'link[rel="stylesheet"]['+n+"]"}function ev(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function Yb(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),et(r),n.head.appendChild(r))}function to(n){return'[src="'+at(n)+'"]'}function Rl(n){return"script[async]"+n}function tv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+at(a.href)+'"]');if(l)return r.instance=l,et(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),et(l),Ht(l,"style",f),kc(l,a.precedence,n),r.instance=l;case"stylesheet":f=eo(a.href);var m=n.querySelector(wl(f));if(m)return r.state.loading|=4,r.instance=m,et(m),m;l=ev(a),(f=Ln.get(f))&&tm(l,f),m=(n.ownerDocument||n).createElement("link"),et(m);var v=m;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(m,"link",l),r.state.loading|=4,kc(m,a.precedence,n),r.instance=m;case"script":return m=to(a.src),(f=n.querySelector(Rl(m)))?(r.instance=f,et(f),f):(l=a,(f=Ln.get(m))&&(l=D({},a),nm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),et(f),Ht(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,n));return r.instance}function kc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Vc=null;function nv(n,r,a){if(Vc===null){var l=new Map,f=Vc=new Map;f.set(a,l)}else f=Vc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Er]||m[xt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=n+v;var S=l.get(v);S?S.push(m):l.set(v,[m])}}return l}function iv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Xb(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rv(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Cl=null;function Wb(){}function Zb(n,r,a){if(Cl===null)throw Error(s(475));var l=Cl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=eo(a.href),m=n.querySelector(wl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Uc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,et(m);return}m=n.ownerDocument||n,a=ev(a),(f=Ln.get(f))&&tm(a,f),m=m.createElement("link"),et(m);var v=m;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Uc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Jb(){if(Cl===null)throw Error(s(475));var n=Cl;return n.stylesheets&&n.count===0&&im(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&im(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lc=null;function im(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lc=new Map,r.forEach(ew,n),Lc=null,Uc.call(n))}function ew(n,r){if(!(r.state.loading&4)){var a=Lc.get(n);if(a)var l=a.get(null);else{a=new Map,Lc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=Uc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Il={$$typeof:O,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function tw(n,r,a,l,f,m,v,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function sv(n,r,a,l,f,m,v,S,C,U,W,te){return n=new tw(n,r,a,v,S,C,U,te),r=1,m===!0&&(r|=24),m=Vn(3,null,null,r),n.current=m,m.stateNode=n,r=kf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},pd(m),n}function av(n){return n?(n=Pa,n):Pa}function ov(n,r,a,l,f,m){f=av(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Vr(n,l,r),a!==null&&(an(a,n,r),hl(a,n,r))}function lv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function rm(n,r){lv(n,r),(n=n.alternate)&&lv(n,r)}function uv(n){if(n.tag===13){var r=Ir(n,67108864);r!==null&&an(r,n,67108864),rm(n,67108864)}}var zc=!0;function nw(n,r,a,l){var f=b.T;b.T=null;var m=ue.p;try{ue.p=2,sm(n,r,a,l)}finally{ue.p=m,b.T=f}}function iw(n,r,a,l){var f=b.T;b.T=null;var m=ue.p;try{ue.p=8,sm(n,r,a,l)}finally{ue.p=m,b.T=f}}function sm(n,r,a,l){if(zc){var f=am(l);if(f===null)$d(n,r,l,jc,a),hv(n,l);else if(sw(f,n,r,a,l))l.stopPropagation();else if(hv(n,l),r&4&&-1<rw.indexOf(n)){for(;f!==null;){var m=xi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Bn(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-tn(v);S.entanglements[1]|=C,v&=~C}fi(m),!(nt&6)&&(Ac=on()+500,Sl(0))}}break;case 13:S=Ir(m,2),S!==null&&an(S,m,2),Rc(),rm(m,2)}if(m=am(l),m===null&&$d(n,r,l,jc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else $d(n,r,l,null,a)}}function am(n){return n=Ta(n),om(n)}var jc=null;function om(n){if(jc=null,n=Hn(n),n!==null){var r=ge(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Ge(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return jc=n,null}function cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case St:return 2;case Nt:return 8;case Di:case Ru:return 32;case Do:return 268435456;default:return 32}default:return 32}}var lm=!1,qr=null,Fr=null,Gr=null,Ol=new Map,Dl=new Map,Kr=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(n,r){switch(n){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Nl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=xi(r),r!==null&&uv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function sw(n,r,a,l,f){switch(r){case"focusin":return qr=Nl(qr,n,r,a,l,f),!0;case"dragenter":return Fr=Nl(Fr,n,r,a,l,f),!0;case"mouseover":return Gr=Nl(Gr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Ol.set(m,Nl(Ol.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Dl.set(m,Nl(Dl.get(m)||null,n,r,a,l,f)),!0}return!1}function fv(n){var r=Hn(n.target);if(r!==null){var a=ge(r);if(a!==null){if(r=a.tag,r===13){if(r=Ge(a),r!==null){n.blockedOn=r,vr(n.priority,function(){if(a.tag===13){var l=vn(),f=Ir(a,l);f!==null&&an(f,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return r=xi(a),r!==null&&uv(r),n.blockedOn=a,!1;r.shift()}return!0}function dv(n,r,a){Bc(n)&&a.delete(r)}function aw(){lm=!1,qr!==null&&Bc(qr)&&(qr=null),Fr!==null&&Bc(Fr)&&(Fr=null),Gr!==null&&Bc(Gr)&&(Gr=null),Ol.forEach(dv),Dl.forEach(dv)}function Hc(n,r){n.blockedOn===r&&(n.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,aw)))}var qc=null;function mv(n){qc!==n&&(qc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qc===n&&(qc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var m=xi(a);m!==null&&(n.splice(r,3),r-=3,Wf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function xl(n){function r(C){return Hc(C,n)}qr!==null&&Hc(qr,n),Fr!==null&&Hc(Fr,n),Gr!==null&&Hc(Gr,n),Ol.forEach(r),Dl.forEach(r);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)fv(a),a.blockedOn===null&&Kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[At]||null;if(typeof m=="function")v||mv(a);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[At]||null)S=v.formAction;else if(om(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),mv(a)}}}function um(n){this._internalRoot=n}Fc.prototype.render=um.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();ov(a,l,n,r,null,null)},Fc.prototype.unmount=um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Xa(),ov(n.current,2,null,n,null,null),Rc(),r[Ni]=null}};function Fc(n){this._internalRoot=n}Fc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Nu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Kr.length&&r!==0&&r<Kr[a].priority;a++);Kr.splice(a,0,n),a===0&&fv(n)}};var pv=e.version;if(pv!=="19.0.0")throw Error(s(527,pv,"19.0.0"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var ow={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{dr=Gc.inject(ow),Kt=Gc}catch{}}return Ml.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=xy,m=Py,v=My,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=sv(n,1,!1,null,null,a,l,f,m,v,S,null),n[Ni]=r.current,Kd(n.nodeType===8?n.parentNode:n),new um(r)},Ml.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=xy,v=Py,S=My,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=sv(n,1,!0,r,a??null,l,f,m,v,S,C,U),r.context=av(null),a=r.current,l=vn(),f=kr(l),f.callback=null,Vr(a,f,l),r.current.lanes=l,ft(r,l),fi(r),n[Ni]=r.current,Kd(n),new Fc(r)},Ml.version="19.0.0",Ml}var wv;function yw(){if(wv)return fm.exports;wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=gw(),fm.exports}var _w=yw(),kl={},Rv;function vw(){if(Rv)return kl;Rv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=h,kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,O){const I=new u,B=w.length;if(B<2)return I;const x=(O==null?void 0:O.decode)||E;let q=0;do{const Z=w.indexOf("=",q);if(Z===-1)break;const X=w.indexOf(";",q),oe=X===-1?B:X;if(Z>oe){q=w.lastIndexOf(";",Z-1)+1;continue}const se=d(w,q,Z),me=p(w,Z,se),P=w.slice(se,me);if(I[P]===void 0){let R=d(w,Z+1,oe),b=p(w,oe,R);const D=x(w.slice(R,b));I[P]=D}q=oe+1}while(q<B);return I}function d(w,O,I){do{const B=w.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<I);return I}function p(w,O,I){for(;O>I;){const B=w.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return I}function g(w,O,I){const B=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const x=B(O);if(!e.test(x))throw new TypeError(`argument val is invalid: ${O}`);let q=w+"="+x;if(!I)return q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);q+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);q+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);q+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(q+="; HttpOnly"),I.secure&&(q+="; Secure"),I.partitioned&&(q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return q}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return kl}vw();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cv="popstate";function Ew(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Mm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Yl(o)}return Sw(e,t,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ei(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tw(){return Math.random().toString(36).substring(2,10)}function Iv(i,e){return{usr:i.state,key:i.key,idx:e}}function Mm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:t,key:e&&e.key||s||Tw()}}function Yl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function vo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Sw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let x=E(),q=x==null?null:x-g;g=x,p&&p({action:d,location:B.location,delta:q})}function w(x,q){d="PUSH";let Z=Mm(B.location,x,q);g=E()+1;let X=Iv(Z,g),oe=B.createHref(Z);try{h.pushState(X,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(oe)}u&&p&&p({action:d,location:B.location,delta:1})}function O(x,q){d="REPLACE";let Z=Mm(B.location,x,q);g=E();let X=Iv(Z,g),oe=B.createHref(Z);h.replaceState(X,"",oe),u&&p&&p({action:d,location:B.location,delta:0})}function I(x){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof x=="string"?x:Yl(x);return Z=Z.replace(/ $/,"%20"),it(q,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,q)}let B={get action(){return d},get location(){return i(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,T),p=x,()=>{o.removeEventListener(Cv,T),p=null}},createHref(x){return e(o,x)},createURL:I,encodeLocation(x){let q=I(x);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:w,replace:O,go(x){return h.go(x)}};return B}function ST(i,e,t="/"){return Aw(i,e,t,!1)}function Aw(i,e,t,s){let o=typeof e=="string"?vo(e):e,u=rs(o.pathname||"/",t);if(u==null)return null;let h=AT(i);bw(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=kw(u);d=Pw(h[p],g,s)}return d}function AT(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=rr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),AT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Nw(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of bT(u.path))o(u,h,p)}),e}function bT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=bT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function bw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:xw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var ww=/^:[\w-]+$/,Rw=3,Cw=2,Iw=1,Ow=10,Dw=-2,Ov=i=>i==="*";function Nw(i,e){let t=i.split("/"),s=t.length;return t.some(Ov)&&(s+=Dw),e&&(s+=Cw),t.filter(o=>!Ov(o)).reduce((o,u)=>o+(ww.test(u)?Rw:u===""?Iw:Ow),s)}function xw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Pw(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:zw(rr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return h}function ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Mw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let I=d[w]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const O=d[w];return T&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Mw(i,e=!1,t=!0){Ei(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function rs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Vw(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?vo(i):i;return{pathname:t?t.startsWith("/")?t:Uw(t,e):e,search:jw(s),hash:Bw(o)}}function Uw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lw(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wT(i){let e=Lw(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function RT(i,e,t,s=!1){let o;typeof i=="string"?o=vo(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=Vw(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var rr=i=>i.join("/").replace(/\/\/+/g,"/"),zw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Hw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var CT=["POST","PUT","PATCH","DELETE"];new Set(CT);var qw=["GET",...CT];new Set(qw);var Eo=K.createContext(null);Eo.displayName="DataRouter";var jh=K.createContext(null);jh.displayName="DataRouterState";var IT=K.createContext({isTransitioning:!1});IT.displayName="ViewTransition";var Fw=K.createContext(new Map);Fw.displayName="Fetchers";var Gw=K.createContext(null);Gw.displayName="Await";var bi=K.createContext(null);bi.displayName="Navigation";var lu=K.createContext(null);lu.displayName="Location";var wi=K.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var mp=K.createContext(null);mp.displayName="RouteError";function Kw(i,{relative:e}={}){it(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(bi),{hash:o,pathname:u,search:h}=hu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:rr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function uu(){return K.useContext(lu)!=null}function sa(){return it(uu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(lu).location}var OT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(i){K.useContext(bi).static||K.useLayoutEffect(i)}function cu(){let{isDataRoute:i}=K.useContext(wi);return i?oR():$w()}function $w(){it(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(Eo),{basename:e,navigator:t}=K.useContext(bi),{matches:s}=K.useContext(wi),{pathname:o}=sa(),u=JSON.stringify(wT(s)),h=K.useRef(!1);return DT(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(Ei(h.current,OT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=RT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}var Qw=K.createContext(null);function Yw(i){let e=K.useContext(wi).outlet;return e&&K.createElement(Qw.Provider,{value:i},e)}function hu(i,{relative:e}={}){let{matches:t}=K.useContext(wi),{pathname:s}=sa(),o=JSON.stringify(wT(t));return K.useMemo(()=>RT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Xw(i,e){return NT(i,e)}function NT(i,e,t,s){var Z;it(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(bi),{matches:h}=K.useContext(wi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";xT(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=sa(),O;if(e){let X=typeof e=="string"?vo(e):e;it(E==="/"||((Z=X.pathname)==null?void 0:Z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=w;let I=O.pathname||"/",B=I;if(E!=="/"){let X=E.replace(/^\//,"").split("/");B="/"+I.replace(/^\//,"").split("/").slice(X.length).join("/")}let x=!u&&t&&t.matches&&t.matches.length>0?t.matches:ST(i,{pathname:B});Ei(T||x!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ei(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=tR(x&&x.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:rr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:rr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&q?K.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},q):q}function Ww(){let i=aR(),e=Hw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,h)}var Zw=K.createElement(Ww,null),Jw=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(wi.Provider,{value:this.props.routeContext},K.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eR({routeContext:i,match:e,children:t}){let s=K.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(wi.Provider,{value:i},t)}function tR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,w=!1,O=null,I=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||Zw,h&&(d<0&&E===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):d===E&&(w=!0,I=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),x=()=>{let q;return T?q=O:w?q=I:g.route.Component?q=K.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,K.createElement(eR,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?K.createElement(Jw,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:x(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):x()},null)}function pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nR(i){let e=K.useContext(Eo);return it(e,pp(i)),e}function iR(i){let e=K.useContext(jh);return it(e,pp(i)),e}function rR(i){let e=K.useContext(wi);return it(e,pp(i)),e}function gp(i){let e=rR(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function sR(){return gp("useRouteId")}function aR(){var s;let i=K.useContext(mp),e=iR("useRouteError"),t=gp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function oR(){let{router:i}=nR("useNavigate"),e=gp("useNavigate"),t=K.useRef(!1);return DT(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{Ei(t.current,OT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Dv={};function xT(i,e,t){!e&&!Dv[i]&&(Dv[i]=!0,Ei(!1,t))}K.memo(lR);function lR({routes:i,future:e,state:t}){return NT(i,void 0,t,e)}function uR(i){return Yw(i.context)}function $s(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){it(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=vo(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=t,O=K.useMemo(()=>{let I=rs(p,h);return I==null?null:{location:{pathname:I,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return Ei(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:K.createElement(bi.Provider,{value:d},K.createElement(lu.Provider,{children:e,value:O}))}function hR({children:i,location:e}){return Xw(km(i),e)}function km(i,e=[]){let t=[];return K.Children.forEach(i,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,km(s.props.children,u));return}it(s.type===$s,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=km(s.props.children,u)),t.push(h)}),t}var th="get",nh="application/x-www-form-urlencoded";function Bh(i){return i!=null&&typeof i.tagName=="string"}function fR(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function dR(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function mR(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function pR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function gR(i,e){return i.button===0&&(!e||e==="_self")&&!pR(i)}var Kc=null;function yR(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!_R.has(i)?(Ei(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):i}function vR(i,e){let t,s,o,u,h;if(dR(i)){let d=i.getAttribute("action");s=d?rs(d,e):null,t=i.getAttribute("method")||th,o=ym(i.getAttribute("enctype"))||nh,u=new FormData(i)}else if(fR(i)||mR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?rs(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||th,o=ym(i.getAttribute("formenctype"))||ym(d.getAttribute("enctype"))||nh,u=new FormData(d,i),!yR()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,s=null,o=nh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function yp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ER(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function SR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ER(u,t);return h.links?h.links():[]}return[]}));return RR(s.flat(1).filter(TR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function AR(i,e){return bR(i.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function bR(i){return[...new Set(i)]}function wR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function RR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(wR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function CR(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IR(){let i=K.useContext(Eo);return yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OR(){let i=K.useContext(jh);return yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _p=K.createContext(void 0);_p.displayName="FrameworkContext";function PT(){let i=K.useContext(_p);return yp(i,"You must render this element inside a <HydratedRouter> element"),i}function DR(i,e){let t=K.useContext(_p),[s,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=K.useRef(null);K.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=q=>{q.forEach(Z=>{h(Z.isIntersecting)})},x=new IntersectionObserver(B,{threshold:.5});return w.current&&x.observe(w.current),()=>{x.disconnect()}}},[i]),K.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let O=()=>{o(!0)},I=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(d,O),onBlur:Vl(p,I),onMouseEnter:Vl(g,O),onMouseLeave:Vl(E,I),onTouchStart:Vl(T,O)}]:[!1,w,{}]}function Vl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function NR({page:i,...e}){let{router:t}=IR(),s=K.useMemo(()=>ST(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?K.createElement(PR,{page:i,matches:s,...e}):null}function xR(i){let{manifest:e,routeModules:t}=PT(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return SR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function PR({page:i,matches:e,...t}){let s=sa(),{manifest:o,routeModules:u}=PT(),{loaderData:h,matches:d}=OR(),p=K.useMemo(()=>Nv(i,e,d,o,s,"data"),[i,e,d,o,s]),g=K.useMemo(()=>Nv(i,e,d,o,s,"assets"),[i,e,d,o,s]),E=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,I=!1;if(e.forEach(x=>{var Z;let q=o.routes[x.route.id];!q||!q.hasLoader||(!p.some(X=>X.route.id===x.route.id)&&x.route.id in h&&((Z=u[x.route.id])!=null&&Z.shouldRevalidate)||q.hasClientLoader?I=!0:O.add(x.route.id))}),O.size===0)return[];let B=CR(i);return I&&O.size>0&&B.searchParams.set("_routes",e.filter(x=>O.has(x.route.id)).map(x=>x.route.id).join(",")),[B.pathname+B.search]},[h,s,o,p,e,i,u]),T=K.useMemo(()=>AR(g,o),[g,o]),w=xR(g);return K.createElement(K.Fragment,null,E.map(O=>K.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>K.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),w.map(({key:O,link:I})=>K.createElement("link",{key:O,...I})))}function MR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MT&&(window.__reactRouterVersion="7.1.5")}catch{}function kR({basename:i,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=Ew({window:t,v5Compat:!0}));let o=s.current,[u,h]=K.useState({action:o.action,location:o.location}),d=K.useCallback(p=>{K.startTransition(()=>h(p))},[h]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.createElement(cR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VT=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},O){let{basename:I}=K.useContext(bi),B=typeof g=="string"&&kT.test(g),x,q=!1;if(typeof g=="string"&&B&&(x=g,MT))try{let b=new URL(window.location.href),D=g.startsWith("//")?new URL(b.protocol+g):new URL(g),V=rs(D.pathname,I);D.origin===b.origin&&V!=null?g=V+D.search+D.hash:q=!0}catch{Ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=Kw(g,{relative:o}),[X,oe,se]=DR(s,w),me=LR(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function P(b){e&&e(b),b.defaultPrevented||me(b)}let R=K.createElement("a",{...w,...se,href:x||Z,onClick:q||u?e:P,ref:MR(O,oe),target:p,"data-discover":!B&&t==="render"?"true":void 0});return X&&!B?K.createElement(K.Fragment,null,R,K.createElement(NR,{page:Z})):R});VT.displayName="Link";var Vm=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let T=hu(h,{relative:g.relative}),w=sa(),O=K.useContext(jh),{navigator:I,basename:B}=K.useContext(bi),x=O!=null&&qR(T)&&d===!0,q=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,Z=w.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&B&&(X=rs(X,B)||X);const oe=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let se=Z===q||!o&&Z.startsWith(q)&&Z.charAt(oe)==="/",me=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),P={isActive:se,isPending:me,isTransitioning:x},R=se?e:void 0,b;typeof s=="function"?b=s(P):b=[s,se?"active":null,me?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(P):u;return K.createElement(VT,{...g,"aria-current":R,className:b,ref:E,style:D,to:h,viewTransition:d},typeof p=="function"?p(P):p)});Vm.displayName="NavLink";var VR=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=th,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},O)=>{let I=BR(),B=HR(d,{relative:g}),x=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&kT.test(d),Z=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,se=(oe==null?void 0:oe.getAttribute("formmethod"))||h;I(oe||X.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return K.createElement("form",{ref:O,method:x,action:B,onSubmit:s?p:Z,...w,"data-discover":!q&&i==="render"?"true":void 0})});VR.displayName="Form";function UR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UT(i){let e=K.useContext(Eo);return it(e,UR(i)),e}function LR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=cu(),p=sa(),g=hu(i,{relative:u});return K.useCallback(E=>{if(gR(E,e)){E.preventDefault();let T=t!==void 0?t:Yl(p)===Yl(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var zR=0,jR=()=>`__${String(++zR)}__`;function BR(){let{router:i}=UT("useSubmit"),{basename:e}=K.useContext(bi),t=sR();return K.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=vR(s,e);if(o.navigate===!1){let E=o.fetcherKey||jR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function HR(i,{relative:e}={}){let{basename:t}=K.useContext(bi),s=K.useContext(wi);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},h=sa();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:rr([t,u.pathname])),Yl(u)}function qR(i,e={}){let t=K.useContext(IT);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UT("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=rs(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=rs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ph(o.pathname,h)!=null||ph(o.pathname,u)!=null}new TextEncoder;const FR=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},GR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,O=g&63;p||(O=64,h||(w=64)),s.push(t[E],t[T],t[w],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(LT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):GR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new KR;const w=u<<2|d>>4;if(s.push(w),g!==64){const O=d<<4&240|g>>2;if(s.push(O),T!==64){const I=g<<6&192|T;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(i){const e=LT(i);return zT.encodeByteArray(e,!0)},gh=function(i){return $R(i).replace(/\./g,"")},jT=function(i){try{return zT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>QR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof xv>"u")return;const i=xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jT(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return FR()||YR()||XR()||WR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},BT=i=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},HT=i=>{const e=BT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},qT=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},FT=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(t)),gh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function eC(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rC(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sC(){return!eC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function oC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="FirebaseError";class Ri extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lC,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?uC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,d,s)}}function uC(i,e){return i.replace(cC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cC=/\{\$([^}]+)}/g;function hC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Pv(u)&&Pv(h)){if(!Zs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function fC(i,e){const t=new dC(i,e);return t.subscribe.bind(t)}class dC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i){return i&&i._delegate?i._delegate:i}class ss{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ZR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yC(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gC(i){return i===Qs?void 0:i}function yC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const vC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},EC=Pe.INFO,TC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},SC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=TC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=EC,this._logHandler=SC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const AC=(i,e)=>e.some(t=>i instanceof t);let Mv,kv;function bC(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wC(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,Um=new WeakMap,$T=new WeakMap,vm=new WeakMap,Ep=new WeakMap;function RC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(es(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&KT.set(t,i)}).catch(()=>{}),Ep.set(e,i),e}function CC(i){if(Um.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Um.set(i,e)}let Lm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$T.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IC(i){Lm=i(Lm)}function OC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Em(this),e,...t);return $T.set(s,e.sort?e.sort():[e]),es(s)}:wC().includes(i)?function(...e){return i.apply(Em(this),e),es(KT.get(this))}:function(...e){return es(i.apply(Em(this),e))}}function DC(i){return typeof i=="function"?OC(i):(i instanceof IDBTransaction&&CC(i),AC(i,bC())?new Proxy(i,Lm):i)}function es(i){if(i instanceof IDBRequest)return RC(i);if(vm.has(i))return vm.get(i);const e=DC(i);return e!==i&&(vm.set(i,e),Ep.set(e,i)),e}const Em=i=>Ep.get(i);function NC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=es(h);return s&&h.addEventListener("upgradeneeded",p=>{s(es(h.result),p.oldVersion,p.newVersion,es(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const xC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],Tm=new Map;function Vv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=PC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xC.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Tm.set(e,u),u}IC(i=>({...i,get:(e,t,s)=>Vv(e,t)||i.get(e,t,s),has:(e,t)=>!!Vv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function kC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",Uv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new vp("@firebase/app"),VC="@firebase/app-compat",UC="@firebase/analytics-compat",LC="@firebase/analytics",zC="@firebase/app-check-compat",jC="@firebase/app-check",BC="@firebase/auth",HC="@firebase/auth-compat",qC="@firebase/database",FC="@firebase/data-connect",GC="@firebase/database-compat",KC="@firebase/functions",$C="@firebase/functions-compat",QC="@firebase/installations",YC="@firebase/installations-compat",XC="@firebase/messaging",WC="@firebase/messaging-compat",ZC="@firebase/performance",JC="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/vertexai",aI="@firebase/firestore-compat",oI="firebase",lI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",uI={[zm]:"fire-core",[VC]:"fire-core-compat",[LC]:"fire-analytics",[UC]:"fire-analytics-compat",[jC]:"fire-app-check",[zC]:"fire-app-check-compat",[BC]:"fire-auth",[HC]:"fire-auth-compat",[qC]:"fire-rtdb",[FC]:"fire-data-connect",[GC]:"fire-rtdb-compat",[KC]:"fire-fn",[$C]:"fire-fn-compat",[QC]:"fire-iid",[YC]:"fire-iid-compat",[XC]:"fire-fcm",[WC]:"fire-fcm-compat",[ZC]:"fire-perf",[JC]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[rI]:"fire-fst",[aI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,cI=new Map,Bm=new Map;function Lv(i,e){try{i.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Js(i){const e=i.name;if(Bm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,i);for(const t of yh.values())Lv(t,i);for(const t of cI.values())Lv(t,i);return!0}function qh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new fu("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=lI;function QT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(t||(t=qT()),!t)throw ts.create("no-options");const u=yh.get(o);if(u){if(Zs(t,u.options)&&Zs(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const h=new _C(o);for(const p of Bm.values())h.addComponent(p);const d=new fI(t,s,h);return yh.set(o,d),d}function Tp(i=jm){const e=yh.get(i);if(!e&&i===jm&&qT())return QT();if(!e)throw ts.create("no-app",{appName:i});return e}function pi(i,e,t){var s;let o=(s=uI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(d.join(" "));return}Js(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",mI=1,Xl="firebase-heartbeat-store";let Sm=null;function YT(){return Sm||(Sm=NC(dI,mI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function pI(i){try{const t=(await YT()).transaction(Xl),s=await t.objectStore(Xl).get(XT(i));return await t.done,s}catch(e){if(e instanceof Ri)or.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(t.message)}}}async function zv(i,e){try{const s=(await YT()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,XT(i)),await s.done}catch(t){if(t instanceof Ri)or.warn(t.message);else{const s=ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});or.warn(s.message)}}}function XT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yI){const h=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jv(),{heartbeatsToSend:s,unsentEntries:o}=vI(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return or.warn(t),""}}}function jv(){return new Date().toISOString().substring(0,10)}function vI(i,e=gI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Bv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?oC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Bv(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function TI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i){Js(new ss("platform-logger",e=>new MC(e),"PRIVATE")),Js(new ss("heartbeat",e=>new _I(e),"PRIVATE")),pi(zm,Uv,i),pi(zm,Uv,"esm2017"),pi("fire-js","")}SI("");var AI="firebase",bI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(AI,bI,"app");function Sp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=WT,ZT=new fu("auth","Firebase",WT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new vp("@firebase/auth");function RI(i,...e){_h.logLevel<=Pe.WARN&&_h.warn(`Auth (${aa}): ${i}`,...e)}function ih(i,...e){_h.logLevel<=Pe.ERROR&&_h.error(`Auth (${aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw Ap(i,...e)}function gi(i,...e){return Ap(i,...e)}function JT(i,e,t){const s=Object.assign(Object.assign({},wI()),{[e]:t});return new fu("auth","Firebase",s).create(e,{appName:i.name})}function sr(i){return JT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ZT.create(i,...e)}function Ee(i,e,...t){if(!i)throw Ap(e,...t)}function tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ih(e),new Error(e)}function lr(i,e){i||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function CI(){return Hv()==="http:"||Hv()==="https:"}function Hv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CI()||nC()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=JR()||iC()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i,e){lr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new mu(3e4,6e4);function fs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ds(i,e,t,s,o={}){return t0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=du(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return tC()||(g.referrerPolicy="no-referrer"),e0.fetch()(n0(i,i.config.apiHost,t,d),g)})}async function t0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},DI),e);try{const o=new PI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw $c(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw $c(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw JT(i,E,g);Yn(i,E)}}catch(o){if(o instanceof Ri)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function pu(i,e,t,s,o={}){const u=await ds(i,e,t,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function n0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?bp(i.config,o):`${i.config.apiScheme}://${o}`}function xI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),NI.get())})}}function $c(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=gi(i,e,s);return o.customData._tokenResponse=t,o}function qv(i){return i!==void 0&&i.enterprise!==void 0}class MI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(i,e){return ds(i,"GET","/v2/recaptchaConfig",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,e){return ds(i,"POST","/v1/accounts:delete",e)}async function i0(i,e){return ds(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(i,e=!1){const t=fn(i),s=await t.getIdToken(e),o=wp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Fl(Am(o.auth_time)),issuedAtTime:Fl(Am(o.iat)),expirationTime:Fl(Am(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Am(i){return Number(i)*1e3}function wp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=jT(t);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fv(i){const e=wp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ri&&LI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Wl(i,i0(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?r0(u.providerUserInfo):[],d=BI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new qm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function jI(i){const e=fn(i);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function r0(i){return i.map(e=>{var{providerId:t}=e,s=Sp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){const t=await t0(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=n0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",e0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qI(i,e){return ds(i,"POST","/v2/accounts:revokeToken",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Fv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await HI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new oo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await Wl(this,VI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,I=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Z=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:oe,isAnonymous:se,providerData:me,stsTokenManager:P}=t;Ee(X&&P,e,"internal-error");const R=oo.fromJSON(this.name,P);Ee(typeof X=="string",e,"internal-error"),Qr(T,e.name),Qr(w,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),Qr(O,e.name),Qr(I,e.name),Qr(B,e.name),Qr(x,e.name),Qr(q,e.name),Qr(Z,e.name);const b=new nr({uid:X,auth:e,email:w,emailVerified:oe,displayName:T,isAnonymous:se,photoURL:I,phoneNumber:O,tenantId:B,stsTokenManager:R,createdAt:q,lastLoginAt:Z});return me&&Array.isArray(me)&&(b.providerData=me.map(D=>Object.assign({},D))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,t,s=!1){const o=new oo;o.updateFromServerResponse(t);const u=new nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?r0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new oo;d.updateFromIdToken(s);const p=new nr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;function ir(i){lr(i instanceof Function,"Expected a class definition");let e=Gv.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Gv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}s0.type="NONE";const Kv=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(i,e,t){return`firebase:${i}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(ir(Kv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(Kv);const h=rh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const T=nr._fromJSON(e,E);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(o0(e))return"Safari";if((e.includes("chrome/")||l0(e))&&!e.includes("edge/"))return"Chrome";if(c0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a0(i=Jt()){return/firefox\//i.test(i)}function o0(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l0(i=Jt()){return/crios\//i.test(i)}function u0(i=Jt()){return/iemobile/i.test(i)}function c0(i=Jt()){return/android/i.test(i)}function h0(i=Jt()){return/blackberry/i.test(i)}function f0(i=Jt()){return/webos/i.test(i)}function Rp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FI(i=Jt()){var e;return Rp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GI(){return rC()&&document.documentMode===10}function d0(i=Jt()){return Rp(i)||c0(i)||f0(i)||h0(i)||/windows phone/i.test(i)||u0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i,e=[]){let t;switch(i){case"Browser":t=$v(Jt());break;case"Worker":t=`${$v(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e={}){return ds(i,"GET","/v2/passwordPolicy",fs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=6;class YI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:QI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await i0(this,{idToken:e}),s=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(En(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(sr(this));const t=e?fn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),t=new YI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ir(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oa(i){return fn(i)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(i){Fh=i}function p0(i){return Fh.loadJS(i)}function ZI(){return Fh.recaptchaEnterpriseScript}function JI(){return Fh.gapiScript}function e1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class t1{constructor(){this.enterprise=new n1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class n1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i1="recaptcha-enterprise",g0="NO_RECAPTCHA";class r1{constructor(e){this.type=i1,this.auth=oa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{kI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new MI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;qv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(g0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&qv(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZI();p.length!==0&&(p+=d),p0(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function Yv(i,e,t,s=!1,o=!1){const u=new r1(i);let h;if(o)h=g0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Yv(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Yv(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i,e){const t=qh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Zs(u,e??{}))return o;Yn(o,"already-initialized")}return t.initialize({options:e})}function a1(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ir);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function o1(i,e,t){const s=oa(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=y0(e),{host:h,port:d}=l1(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Zs(g,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,u1()}function y0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function l1(i){const e=y0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Xv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Xv(h)}}}function Xv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function u1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function c1(i,e){return ds(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(i,e){return pu(i,"POST","/v1/accounts:signInWithPassword",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}async function d1(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Cp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Zl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Zl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,t,"signInWithPassword",h1);case"emailLink":return f1(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,s,"signUpPassword",c1);case"emailLink":return d1(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return pu(i,"POST","/v1/accounts:signInWithIdp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="http://localhost";class ea extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Sp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:m1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g1(i){const e=Ll(zl(i)).link,t=e?Ll(zl(e)).deep_link_id:null,s=Ll(zl(i)).deep_link_id;return(s?Ll(zl(s)).link:null)||s||t||e||i}class Ip{constructor(e){var t,s,o,u,h,d;const p=Ll(zl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=p1((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=g1(e);try{return new Ip(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,t){return Zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ip.parseLink(t);return Ee(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends _0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends gu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Xr.credential(t,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends gu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends gu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(i,e){return pu(i,"POST","/v1/accounts:signUp",fs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await nr._fromIdTokenResponse(e,s,o),h=Wv(s);return new ta({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Wv(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Wv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Ri{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Eh(e,t,s,o)}}function v0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,s):u})}async function _1(i,e,t=!1){const s=await Wl(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(i,e,t=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(sr(s));const o="reauthenticate";try{const u=await Wl(i,v0(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=wp(u.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(i.uid===d,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(i,e,t=!1){if(En(i.app))return Promise.reject(sr(i));const s="signIn",o=await v0(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function E1(i,e){return E0(oa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(i){const e=oa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T1(i,e,t){if(En(i.app))return Promise.reject(sr(i));const s=oa(i),h=await Fm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&T0(i),p}),d=await ta._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function S0(i,e,t){return En(i.app)?Promise.reject(sr(i)):E1(fn(i),To.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&T0(i),s})}function S1(i,e,t,s){return fn(i).onIdTokenChanged(e,t,s)}function A1(i,e,t){return fn(i).beforeAuthStateChanged(e,t)}function b1(i,e,t,s){return fn(i).onAuthStateChanged(e,t,s)}function w1(i){return fn(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1e3,C1=10;class b0 extends A0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);GI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,C1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},R1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b0.type="LOCAL";const I1=b0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends A0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}w0.type="SESSION";const R0=w0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await O1(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Op("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function N1(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function x1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function M1(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebaseLocalStorageDb",k1=1,Sh="firebaseLocalStorage",O0="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function V1(){const i=indexedDB.deleteDatabase(I0);return new yu(i).toPromise()}function Gm(){const i=indexedDB.open(I0,k1);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:O0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await V1(),e(await Gm()))})})}async function Zv(i,e,t){const s=Kh(i,!0).put({[O0]:e,value:t});return new yu(s).toPromise()}async function U1(i,e){const t=Kh(i,!1).get(e),s=await new yu(t).toPromise();return s===void 0?null:s.value}function Jv(i,e){const t=Kh(i,!0).delete(e);return new yu(t).toPromise()}const L1=800,z1=3;class D0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>z1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(M1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x1(),!this.activeServiceWorker)return;this.sender=new D1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await Zv(e,Th,"1"),await Jv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>U1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D0.type="LOCAL";const j1=D0;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(i,e){return e?ir(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function H1(i){return E0(i.auth,new Dp(i),i.bypassAuthState)}function q1(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),v1(t,new Dp(i),i.bypassAuthState)}async function F1(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),_1(t,new Dp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H1;case"linkViaPopup":case"linkViaRedirect":return F1;case"reauthViaPopup":case"reauthViaRedirect":return q1;default:Yn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new mu(2e3,1e4);class ao extends N0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G1.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="pendingRedirect",sh=new Map;class $1 extends N0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await Q1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q1(i,e){const t=W1(e),s=X1(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Y1(i,e){sh.set(i._key(),e)}function X1(i){return ir(i._redirectPersistence)}function W1(i){return rh(K1,i.config.apiKey,i.name)}async function Z1(i,e,t=!1){if(En(i.app))return Promise.reject(sr(i));const s=oa(i),o=B1(s,e),h=await new $1(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=10*60*1e3;class eO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!x0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(gi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J1&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function x0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(i,e={}){return ds(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rO=/^https?/;async function sO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nO(i);for(const t of e)try{if(aO(t))return}catch{}Yn(i,"unauthorized-domain")}function aO(i){const e=Hm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!rO.test(t))return!1;if(iO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new mu(3e4,6e4);function tE(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function lO(i){return new Promise((e,t)=>{var s,o,u;function h(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),t(gi(i,"network-request-failed"))},timeout:oO.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)h();else{const d=e1("iframefcb");return yi()[d]=()=>{gapi.load?h():t(gi(i,"network-request-failed"))},p0(`${JI()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ah=null,e})}let ah=null;function uO(i){return ah=ah||lO(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new mu(5e3,15e3),hO="__/auth/iframe",fO="emulator/auth/iframe",dO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pO(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?bp(e,fO):`https://${i.config.authDomain}/${hO}`,s={apiKey:e.apiKey,appName:i.name,v:aa},o=mO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${du(s).slice(1)}`}async function gO(i){const e=await uO(i),t=yi().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:pO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=gi(i,"network-request-failed"),d=yi().setTimeout(()=>{u(h)},cO.get());function p(){yi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_O=500,vO=600,EO="_blank",TO="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SO(i,e,t,s=_O,o=vO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},yO),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();t&&(d=l0(g)?EO:t),a0(g)&&(e=e||TO,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,I])=>`${w}${O}=${I},`,"");if(FI(g)&&d!=="_self")return AO(e||"",d),new nE(null);const T=window.open(e||"",d,E);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new nE(T)}function AO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="__/auth/handler",wO="emulator/auth/handler",RO=encodeURIComponent("fac");async function iE(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:aa,eventId:o};if(e instanceof _0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",hC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof gu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${RO}=${encodeURIComponent(p)}`:"";return`${CO(i)}?${du(d).slice(1)}${g}`}function CO({config:i}){return i.emulator?bp(i,wO):`https://${i.authDomain}/${bO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=Z1,this._overrideRedirectResult=Y1}async _openPopup(e,t,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await iE(e,t,s,Hm(),o);return SO(e,h,Op())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await iE(e,t,s,Hm(),o);return N1(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gO(e),s=new eO(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bm,{type:bm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[bm];h!==void 0&&t(!!h),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return d0()||o0()||Rp()}}const OO=IO;var rE="@firebase/auth",sE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xO(i){Js(new ss("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(i)},g=new XI(s,o,u,p);return a1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Js(new ss("auth-internal",e=>{const t=oa(e.getProvider("auth").getImmediate());return(s=>new DO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(rE,sE,NO(i)),pi(rE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=5*60,MO=FT("authIdTokenMaxAge")||PO;let aE=null;const kO=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>MO)return;const o=t==null?void 0:t.token;aE!==o&&(aE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VO(i=Tp()){const e=qh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=s1(i,{popupRedirectResolver:OO,persistence:[j1,I1,R0]}),s=FT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=kO(u.toString());A1(t,h,()=>h(t.currentUser)),S1(t,d=>h(d))}}const o=BT("auth");return o&&o1(t,`http://${o}`),t}function UO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}WI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",UO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xO("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,P0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function b(){}b.prototype=R.prototype,P.D=R.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(D,V,j){for(var N=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)N[Tt-2]=arguments[Tt];return R.prototype[V].apply(D,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,b){b||(b=0);var D=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)D[V]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(V=0;16>V;++V)D[V]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=P.g[0],b=P.g[1],V=P.g[2];var j=P.g[3],N=R+(j^b&(V^j))+D[0]+3614090360&4294967295;R=b+(N<<7&4294967295|N>>>25),N=j+(V^R&(b^V))+D[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(b^j&(R^b))+D[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=b+(R^V&(j^R))+D[3]+3250441966&4294967295,b=V+(N<<22&4294967295|N>>>10),N=R+(j^b&(V^j))+D[4]+4118548399&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(V^R&(b^V))+D[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(b^j&(R^b))+D[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=b+(R^V&(j^R))+D[7]+4249261313&4294967295,b=V+(N<<22&4294967295|N>>>10),N=R+(j^b&(V^j))+D[8]+1770035416&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(V^R&(b^V))+D[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(b^j&(R^b))+D[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=b+(R^V&(j^R))+D[11]+2304563134&4294967295,b=V+(N<<22&4294967295|N>>>10),N=R+(j^b&(V^j))+D[12]+1804603682&4294967295,R=b+(N<<7&4294967295|N>>>25),N=j+(V^R&(b^V))+D[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(b^j&(R^b))+D[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=b+(R^V&(j^R))+D[15]+1236535329&4294967295,b=V+(N<<22&4294967295|N>>>10),N=R+(V^j&(b^V))+D[1]+4129170786&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^V&(R^b))+D[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^b&(j^R))+D[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(V^j))+D[0]+3921069994&4294967295,b=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(b^V))+D[5]+3593408605&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^V&(R^b))+D[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^b&(j^R))+D[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(V^j))+D[4]+3889429448&4294967295,b=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(b^V))+D[9]+568446438&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^V&(R^b))+D[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^b&(j^R))+D[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(V^j))+D[8]+1163531501&4294967295,b=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(b^V))+D[13]+2850285829&4294967295,R=b+(N<<5&4294967295|N>>>27),N=j+(b^V&(R^b))+D[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^b&(j^R))+D[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=b+(j^R&(V^j))+D[12]+2368359562&4294967295,b=V+(N<<20&4294967295|N>>>12),N=R+(b^V^j)+D[5]+4294588738&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^V)+D[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^b)+D[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=b+(V^j^R)+D[14]+4259657740&4294967295,b=V+(N<<23&4294967295|N>>>9),N=R+(b^V^j)+D[1]+2763975236&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^V)+D[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^b)+D[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=b+(V^j^R)+D[10]+3200236656&4294967295,b=V+(N<<23&4294967295|N>>>9),N=R+(b^V^j)+D[13]+681279174&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^V)+D[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^b)+D[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=b+(V^j^R)+D[6]+76029189&4294967295,b=V+(N<<23&4294967295|N>>>9),N=R+(b^V^j)+D[9]+3654602809&4294967295,R=b+(N<<4&4294967295|N>>>28),N=j+(R^b^V)+D[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^b)+D[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=b+(V^j^R)+D[2]+3299628645&4294967295,b=V+(N<<23&4294967295|N>>>9),N=R+(V^(b|~j))+D[0]+4096336452&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~V))+D[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~b))+D[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=b+(j^(V|~R))+D[5]+4237533241&4294967295,b=V+(N<<21&4294967295|N>>>11),N=R+(V^(b|~j))+D[12]+1700485571&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~V))+D[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~b))+D[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=b+(j^(V|~R))+D[1]+2240044497&4294967295,b=V+(N<<21&4294967295|N>>>11),N=R+(V^(b|~j))+D[8]+1873313359&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~V))+D[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~b))+D[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=b+(j^(V|~R))+D[13]+1309151649&4294967295,b=V+(N<<21&4294967295|N>>>11),N=R+(V^(b|~j))+D[4]+4149444226&4294967295,R=b+(N<<6&4294967295|N>>>26),N=j+(b^(R|~V))+D[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~b))+D[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=b+(j^(V|~R))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+j&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var b=R-this.blockSize,D=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=b;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<R;)if(D[V++]=P.charCodeAt(j++),V==this.blockSize){o(this,D),V=0;break}}else for(;j<R;)if(D[V++]=P[j++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var b=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=b&255,b/=256;for(this.u(P),P=Array(16),R=b=0;4>R;++R)for(var D=0;32>D;D+=8)P[b++]=this.g[R]>>>D&255;return P};function u(P,R){var b=d;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=R(P)}function h(P,R){this.h=R;for(var b=[],D=!0,V=P.length-1;0<=V;V--){var j=P[V]|0;D&&j==R||(b[V]=j,D=!1)}this.g=b}var d={};function p(P){return-128<=P&&128>P?u(P,function(R){return new h([R|0],0>R?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return x(g(-P));for(var R=[],b=1,D=0;P>=b;D++)R[D]=P/b|0,b*=4294967296;return new h(R,0)}function E(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return x(E(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(R,8)),D=T,V=0;V<P.length;V+=8){var j=Math.min(8,P.length-V),N=parseInt(P.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),D=D.j(j).add(g(N))):(D=D.j(b),D=D.add(g(N)))}return D}var T=p(0),w=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-x(this).m();for(var P=0,R=1,b=0;b<this.g.length;b++){var D=this.i(b);P+=(0<=D?D:4294967296+D)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(B(this))return"-"+x(this).toString(P);for(var R=g(Math.pow(P,6)),b=this,D="";;){var V=oe(b,R).g;b=q(b,V.j(R));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=V,I(b))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function B(P){return P.h==-1}i.l=function(P){return P=q(this,P),B(P)?-1:I(P)?0:1};function x(P){for(var R=P.g.length,b=[],D=0;D<R;D++)b[D]=~P.g[D];return new h(b,~P.h).add(w)}i.abs=function(){return B(this)?x(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],D=0,V=0;V<=R;V++){var j=D+(this.i(V)&65535)+(P.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);D=N>>>16,j&=65535,N&=65535,b[V]=N<<16|j}return new h(b,b[b.length-1]&-2147483648?-1:0)};function q(P,R){return P.add(x(R))}i.j=function(P){if(I(this)||I(P))return T;if(B(this))return B(P)?x(this).j(x(P)):x(x(this).j(P));if(B(P))return x(this.j(x(P)));if(0>this.l(O)&&0>P.l(O))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,b=[],D=0;D<2*R;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<P.g.length;V++){var j=this.i(D)>>>16,N=this.i(D)&65535,Tt=P.i(V)>>>16,pt=P.i(V)&65535;b[2*D+2*V]+=N*pt,Z(b,2*D+2*V),b[2*D+2*V+1]+=j*pt,Z(b,2*D+2*V+1),b[2*D+2*V+1]+=N*Tt,Z(b,2*D+2*V+1),b[2*D+2*V+2]+=j*Tt,Z(b,2*D+2*V+2)}for(D=0;D<R;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=R;D<2*R;D++)b[D]=0;return new h(b,0)};function Z(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function X(P,R){this.g=P,this.h=R}function oe(P,R){if(I(R))throw Error("division by zero");if(I(P))return new X(T,T);if(B(P))return R=oe(x(P),R),new X(x(R.g),x(R.h));if(B(R))return R=oe(P,x(R)),new X(x(R.g),R.h);if(30<P.g.length){if(B(P)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,D=R;0>=D.l(P);)b=se(b),D=se(D);var V=me(b,1),j=me(D,1);for(D=me(D,2),b=me(b,2);!I(D);){var N=j.add(D);0>=N.l(P)&&(V=V.add(b),j=N),D=me(D,1),b=me(b,1)}return R=q(P,V.j(R)),new X(V,R)}for(V=T;0<=P.l(R);){for(b=Math.max(1,Math.floor(P.m()/R.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=g(b),N=j.j(R);B(N)||0<N.l(P);)b-=D,j=g(b),N=j.j(R);I(j)&&(j=w),V=V.add(j),P=q(P,N)}return new X(V,P)}i.A=function(P){return oe(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)&P.i(D);return new h(b,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)|P.i(D);return new h(b,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)^P.i(D);return new h(b,this.h^P.h)};function se(P){for(var R=P.g.length+1,b=[],D=0;D<R;D++)b[D]=P.i(D)<<1|P.i(D-1)>>>31;return new h(b,P.h)}function me(P,R){var b=R>>5;R%=32;for(var D=P.g.length-b,V=[],j=0;j<D;j++)V[j]=0<R?P.i(j+b)>>>R|P.i(j+b+1)<<32-R:P.i(j+b);return new h(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,P0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ns=h}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M0,jl,k0,oh,Km,V0,U0,L0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,$){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return y.prototype[z].apply(A,re)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function x(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,$=A.length||0;c.length=z+$;for(let re=0;re<$;re++)c[z+re]=A[re]}else c.push(A)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var se=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let $=0;$<b.length;$++)_=b[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const A=pt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new q(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Ge=new Tt,M=()=>{const c=d.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Oe(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}I(Oe,le);var Ce={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function st(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,_,A,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=Sn(c,y,A,z);return-1<re?(y=c[re],_||(y.fa=!1)):(y=new st(y,this.src,$,!!A,z),y.fa=_,c.push(y)),y};function Ii(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(A,z,1),$&&(Qe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Sn(c,y,_,A){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return z}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function Oi(c,y,_,A,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Oi(c,y[$],_,A,z);return null}return _=wu(_),c&&c[gt]?c.K(y,_,g(A)?!!A.capture:!1,z):Io(c,y,_,!1,A,z)}function Io(c,y,_,A,z,$){if(!y)throw Error("Invalid event type");var re=g(z)?!!z.capture:!!z,Ue=Oo(c);if(Ue||(c[hr]=Ue=new en(c)),_=Ue.add(y,_,A,re,$),_.proxy)return _;if(A=fa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ue||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ma(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fa(){function c(_){return y.call(c.src,c.listener,_)}const y=ff;return c}function da(c,y,_,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)da(c,y[$],_,A,z);else A=g(A)?!!A.capture:!!A,_=wu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Sn($,_,A,z),-1<_&&(Qe($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Oo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Sn(y,_,A,z)),(_=-1<c?y[c]:null)&&ms(_))}function ms(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Ii(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ma(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Oo(y))?(Ii(_,c),_.h==0&&(_.src=null,y[hr]=null)):Qe(c)}}}function ma(c){return c in fr?fr[c]:fr[c]="on"+c}function ff(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ms(c),c=_.call(A,y)}return c}function Oo(c){return c=c[hr],c instanceof en?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function St(){de.call(this),this.i=new en(this),this.M=this,this.F=null}I(St,de),St.prototype[gt]=!0,St.prototype.removeEventListener=function(c,y,_,A){da(this,c,y,_,A)};function Nt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(A,c),D(y,z)}if(z=!0,_)for(var $=_.length-1;0<=$;$--){var re=y.g=_[$];z=Di(re,A,!0,y)&&z}if(re=y.g=c,z=Di(re,A,!0,y)&&z,z=Di(re,A,!1,y)&&z,_)for($=0;$<_.length;$++)re=y.g=_[$],z=Di(re,A,!1,y)&&z}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Qe(_[A]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},St.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Di(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var re=y[$];if(re&&!re.da&&re.capture==_){var Ue=re.listener,bt=re.ha||re.src;re.fa&&Ii(c.i,re),z=Ue.call(bt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ru(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Do(c){c.g=Ru(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class df extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){de.call(this),this.h=c,this.g={}}I(ps,de);var dr=[];function Kt(c){me(c.g,function(y,_){this.g.hasOwnProperty(_)&&ms(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Kt(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var No=d.JSON.stringify,Wn=d.JSON.parse,tn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Cu(c){return c.h||(c.h=c.i())}function Iu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){le.call(this,"d")}I(mr,le);function Bn(){le.call(this,"c")}I(Bn,le);var An={},pr=null;function pa(){return pr=pr||new St}An.La="serverreachability";function Po(c){le.call(this,An.La,c)}I(Po,le);function gr(c){const y=pa();Nt(y,new Po(y))}An.STAT_EVENT="statevent";function ga(c,y){le.call(this,An.STAT_EVENT,c),this.stat=y}I(ga,le);function ft(c){const y=pa();Nt(y,new ga(y,c))}An.Ma="timingevent";function Ou(c,y){le.call(this,An.Ma,c),this.size=y}I(Ou,le);function yr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Du(c,y,_,A,z,$){c.info(function(){if(c.g)if($)for(var re="",Ue=$.split("&"),bt=0;bt<Ue.length;bt++){var Le=Ue[bt].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var wt=Mt.split("_");re=2<=wt.length&&wt[1]=="type"?re+(Mt+"="+Le+"&"):re+(Mt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+re})}function Nu(c,y,_,A,z,$,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+re})}function vr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xt(c,_)+(A?" "+A:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function xt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<z.length;re++)z[re]=""}}}}return No(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gs;function ya(){}I(ya,xo),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},gs=new ya;function ei(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var Er={},ys={};function Hn(c,y,_){c.L=1,c.v=Es(at(y)),c.m=_,c.P=!0,xi(c,null)}function xi(c,y){c.F=Date.now(),et(c),c.A=at(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ki(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Mo,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new df(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(dr[0]=z.toString()),z=dr);for(var $=0;$<z.length;$++){var re=Oi(_,z[$],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gr(),Du(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const wt=In(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=zi?gr(3):gr(2)),_a(this);var _=this.g.Z();this.X=_;t:if(Tr(this)){var A=Uu(this.g);c="";var z=A.length,$=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),dn(this);var re="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Nu(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,bt=this.g;if((Ue=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var Le=Ue;break t}}Le=null}if(_=Le)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,_);else{this.o=!1,this.s=3,ft(12),ln(this),dn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=Sr(this,re),zt==ys){wt==4&&(this.s=4,ft(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Er){this.s=4,ft(15),vr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,zt,null),mn(this,zt);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||re.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,re,"[Invalid Chunked Response]"),ln(this),dn(this);else if(0<re.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Cs(Mt),Mt.M=!0,ft(11))}}else vr(this.i,this.l,re,null),mn(this,re);wt==4&&ln(this),this.o&&!this.J&&(wt==4?Hu(this.j,this):(this.o=!1,et(this)))}else vf(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),ln(this),dn(this)}}}catch{}finally{}};function Tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ys:(_=Number(y.substring(_,A)),isNaN(_)?Er:(A+=1,A+_>y.length?ys:(y=y.slice(A,A+_),c.C=A+_,y)))}ei.prototype.cancel=function(){this.J=!0,ln(this)};function et(c){c.S=Date.now()+c.I,ko(c,c.I)}function ko(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(w(c.ba,c),y)}function _a(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(gr(),ft(17)),ln(this),this.s=2,dn(this)):ko(this,this.S-c)};function dn(c){c.j.G==0||c.J||Hu(c.j,c)}function ln(c){_a(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Kt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function mn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ar(_.h,c))){if(!c.K&&Ar(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ia(_),Ra(_);else break e;Ko(_),ft(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(w(_.Za,_),6e3));if(1>=xu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&Ia(_),!Z(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Mt=Le[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const wt=Le[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const zi=Le[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const oi=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var $=A.h;$.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(br($,$.h),$.h=null))}if(A.D){const Qo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(A.ya=Qo,He(A.I,A.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=Fu(A,A.J?A.ia:null,A.W),re.K){bn(A.h,re);var Ue=re,bt=A.L;bt&&(Ue.I=bt),Ue.B&&(_a(Ue),et(Ue)),A.g=re}else ju(A);0<_.i.length&&Ca(_)}else Le[0]!="stop"&&Le[0]!="close"||Li(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Li(_,7):Fo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}gr(4)}catch{}}var mf=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function br(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function pf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function _s(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pf(c),A=Pu(c),z=A.length,$=0;$<z;$++)y.call(void 0,A[$],_&&_[$],c)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var $=c[_].substring(0,A);z=c[_].substring(A+1)}else $=c[_];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ea(this,_),this.m=c.m}else c&&(y=String(c).match(Lo))?(this.h=!1,wr(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),vs(this,y[4]),this.l=Rr(y[5]||"",!0),Ea(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Pi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wn(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wn(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(wn(_,_.charAt(0)=="/"?jo:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",wn(_,_f)),c.join("")};function at(c){return new Pi(c)}function wr(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ea(c,y,_){y instanceof ti?(c.i=y,Bo(c.i,c.h)):(_||(y=wn(y,yf)),c.i=new ti(y,c.h))}function He(c,y,_){c.i.set(y,_)}function Es(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,gf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Mu=/[#\?:]/g,jo=/[#\?]/g,yf=/[#\?@]/g,_f=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ti.prototype,i.add=function(c,y){Rn(this),this.i=null,c=Vi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ta(c,y){Rn(c),y=Vi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return Rn(c),y=Vi(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let $=0;$<z.length;$++)_.push(y[A])}return _},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=Vi(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ki(c,y,_){Ta(c,y),0<_.length&&(c.i=null,c.g.set(Vi(c,y),B(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var z=$;re[A]!==""&&(z+="="+encodeURIComponent(String(re[A]))),c.push(z)}}return this.i=c.join("&")};function Vi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bo(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Ta(this,A),ki(this,z,_))},c)),c.j=y}function ku(c,y){const _=new _r;if(d.Image){const A=new Image;A.onload=O(Cn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=O(Cn,_,"TestLoadImage: error",!1,y,A),A.onabort=O(Cn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(Cn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ts(c,y){const _=new _r,A=new AbortController,z=setTimeout(()=>{A.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Ss(){this.g=new tn}function ni(c,y,_){const A=_||"";try{_s(c,function(z,$){let re=z;g(z)&&(re=No(z)),y.push(A+$+"="+encodeURIComponent(re))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Cr,xo),Cr.prototype.g=function(){return new Ui(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ui,St),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return me(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):He(c,y,_))}function Ke(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ke,St);var Sa=/^https?$/i,As=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gs.g(),this.v=this.o?Cu(this.o):Cu(gs),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Vu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of _)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Vu(this,$)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),si(c)}function Aa(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},i.bb=function(){ba(this)};function ba(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ru(c.Ea,0,c);else if(Nt(c,"readystatechange"),In(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=re===0){var z=String(c.D).match(Lo)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Sa.test(z?z.toLowerCase():"")}_=A}if(_)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var $=2<In(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Aa(c)}}finally{si(c)}}}}function si(c,y){if(c.g){bs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{_.onreadystatechange=A}catch{}}}function bs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=V(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}P(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){ft(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Fu(this,null,this.W),Ca(this)};function Fo(c){if(Lu(c),c.G==3){var y=c.U++,_=at(c.I);if(He(_,"SID",c.K),He(_,"RID",y),He(_,"TYPE","terminate"),Rs(c,_),y=new ei(c,c.j,y),y.L=2,y.v=Es(at(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}qu(c)}function Ra(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Lu(c){Ra(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ca(c){if(!Uo(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||M(),ge||(Te(),ge=!0),Ge.add(y,c),c.B=0}}function Ef(c,y){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(w(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ei(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),D($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zu(this,z,y),_=at(this.I),He(_,"RID",c),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Rs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(qo($)))+"&"+y:this.m&&Pt(_,this.m,$)),br(this.h,z),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",y),He(_,"SID","null"),z.T=!0,Hn(z,_,null)):Hn(z,_,y),this.G=2}}else this.G==3&&(c?Go(this,c):this.i.length==0||Uo(this.h)||Go(this))};function Go(c,y){var _;y?_=y.l:_=c.U++;const A=at(c.I);He(A,"SID",c.K),He(A,"RID",_),He(A,"AID",c.T),Rs(c,A),c.m&&c.o&&Pt(A,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),br(c.h,_),Hn(_,A,y)}function Rs(c,y){c.H&&me(c.H,function(_,A){He(y,A,_)}),c.l&&_s({},function(_,A){He(y,A,_)})}function zu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const re=["count="+_];$==-1?0<_?($=z[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let Ue=!0;for(let bt=0;bt<_;bt++){let Le=z[bt].g;const Mt=z[bt].map;if(Le-=$,0>Le)$=Math.max(0,z[bt].g-100),Ue=!1;else try{ni(Mt,re,"req"+Le+"_")}catch{A&&A(Mt)}}if(Ue){A=re.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||M(),ge||(Te(),ge=!0),Ge.add(y,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(w(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ra(this),Bu(this))};function Cs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=at(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(at(y)),_.m=null,_.P=!0,xi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Ko(this),ft(19))};function Ia(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Ia(c),Cs(c),c.g=null;var A=2}else if(Ar(c.h,y))_=y.D,bn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=pa(),Nt(A,new Ou(A,_)),Ca(c)}else ju(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Ef(c,y)||A==2&&Ko(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function $o(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const z=!A;A=new Pi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||wr(A,"https"),Es(A),z?ku(A.toString(),_):Ts(A.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=nn(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ka,y),x(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var A=_ instanceof Pi?at(_):new Pi(_);if(A.g!="")y&&(A.g=y+"."+A.g),vs(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Pi(null);A&&wr($,A),y&&($.g=y),z&&vs($,z),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&He(A,_,y),He(A,"VER",c.la),Rs(c,A),A}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new Cr({eb:_})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){St.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}I(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Fo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=No(c),c=_);y.i.push(new mf(y.Ya++,c)),y.G==3&&Ca(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,rn.aa.N.call(this)};function $u(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I($u,mr);function Qu(){Bn.call(this),this.status=1}I(Qu,Bn);function ai(c){this.g=c}I(ai,Ku),ai.prototype.ua=function(){Nt(this.g,"a")},ai.prototype.ta=function(c){Nt(this.g,new $u(c))},ai.prototype.sa=function(c){Nt(this.g,new Qu)},ai.prototype.ra=function(){Nt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,L0=function(){return new Oa},U0=function(){return pa()},V0=An,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,oh=At,Ni.COMPLETE="complete",k0=Ni,Iu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.K,jl=Iu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,M0=Ke}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new vp("@firebase/firestore");function no(){return na.logLevel}function ce(i,...e){if(na.logLevel<=Pe.DEBUG){const t=e.map(Np);na.debug(`Firestore (${So}): ${i}`,...t)}}function ur(i,...e){if(na.logLevel<=Pe.ERROR){const t=e.map(Np);na.error(`Firestore (${So}): ${i}`,...t)}}function ho(i,...e){if(na.logLevel<=Pe.WARN){const t=e.map(Np);na.warn(`Firestore (${So}): ${i}`,...t)}}function Np(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+i;throw ur(e),new Error(e)}function $e(i,e){i||Se()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class zO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jO{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new z0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Xt(e)}}class BO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new BO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,En(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new cE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function fo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fE);return new Ot(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hE)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ot(0,0))}static max(){return new Ae(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__name__";class mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=mi.isNumericId(e),o=mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class ct extends mi{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const GO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return GO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dE}static keyField(){return new Ft([dE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function KO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ot(t+1,0):new Ot(t,s));return new as(o,_e.empty(),e)}function $O(i){return new as(i.readTime,i.key,Jl)}class as{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new as(Ae.min(),_e.empty(),Jl)}static max(){return new as(Ae.max(),_e.empty(),Jl)}}function QO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==YO)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function WO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function Qh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function ZO(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="";function JO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=mE(e)),e=eD(i.get(t),e);return mE(e)}function eD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case B0:t+="";break;default:t+=u}}return t}function mE(i){return i+B0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function la(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function H0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Dt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new q0("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if($e(!!i),typeof i=="string"){let e=0;const t=tD.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="server_timestamp",G0="__type__",K0="__previous_value__",$0="__local_write_time__";function Pp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[G0])===null||t===void 0?void 0:t.stringValue)===F0}function Yh(i){const e=i.mapValue.fields[K0];return Pp(e)?Yh(e):e}function eu(i){const e=os(i.mapValue.fields[$0].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const bh="(default)";class tu{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__type__",iD="__max__",Xc={mapValue:{}},Y0="__vector__",wh="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pp(i)?4:sD(i)?9007199254740991:rD(i)?10:11:Se()}function Ti(i,e){if(i===e)return!0;const t=us(i);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),d=os(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),d=mt(u.doubleValue);return h===d?Ah(h)===Ah(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(pE(h)!==pE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ti(h[p],d[p])))return!1;return!0}(i,e);default:return Se()}}function nu(i,e){return(i.values||[]).find(t=>Ti(t,e))!==void 0}function mo(i,e){if(i===e)return 0;const t=us(i),s=us(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=mt(u.integerValue||u.doubleValue),p=mt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return yE(i.timestampValue,e.timestampValue);case 4:return yE(eu(i),eu(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ls(u),p=ls(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Ve(d[g],p[g]);if(E!==0)return E}return Ve(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ve(mt(u.latitude),mt(h.latitude));return d!==0?d:Ve(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return _E(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const T=u.fields||{},w=h.fields||{},O=(d=T[wh])===null||d===void 0?void 0:d.arrayValue,I=(p=w[wh])===null||p===void 0?void 0:p.arrayValue,B=Ve(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return B!==0?B:_E(O,I)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xc.mapValue&&h===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(h===Xc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Ve(p[T],E[T]);if(w!==0)return w;const O=mo(d[p[T]],g[E[T]]);if(O!==0)return O}return Ve(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se()}}function yE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=os(i),s=os(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function _E(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=mo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function po(i){return $m(i)}function $m(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=os(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ls(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=$m(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${$m(t.fields[h])}`;return o+"}"}(i.mapValue):Se()}function lh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(i);return e?16+lh(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+lh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return la(s.fields,(u,h)=>{o+=u.length+lh(h)}),o}(i.mapValue);default:throw Se()}}function Qm(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function vE(i){return!!i&&"nullValue"in i}function EE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function rD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q0])===null||t===void 0?void 0:t.stringValue)===Y0}function Gl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return la(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Gl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function sD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=Gl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){la(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new zn(Gl(this.value))}}function X0(i){const e=[];return la(i.fields,(t,s)=>{const o=new Ft([t]);if(uh(s)){const u=X0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),zn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ae.min(),Ae.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ae.min(),Ae.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function TE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function aD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class It extends W0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lD(e,t,s):t==="array-contains"?new hD(e,s):t==="in"?new fD(e,s):t==="not-in"?new dD(e,s):t==="array-contains-any"?new mD(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new uD(e,s):new cD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends W0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Si(e,t)}matches(e){return Z0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Z0(i){return i.op==="and"}function J0(i){return oD(i)&&Z0(i)}function oD(i){for(const e of i.filters)if(e instanceof Si)return!1;return!0}function Ym(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+po(i.value);if(J0(i))return i.filters.map(e=>Ym(e)).join(",");{const e=i.filters.map(t=>Ym(t)).join(",");return`${i.op}(${e})`}}function eS(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(i,e):i instanceof Si?function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&eS(h,o.filters[d]),!0):!1}(i,e):void Se()}function tS(i){return i instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${po(t.value)}`}(i):i instanceof Si?function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"}(i):"Filter"}class lD extends It{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class uD extends It{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cD extends It{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class hD extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&nu(t.arrayValue,this.value)}}class fD extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class dD extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nu(this.value.arrayValue,t)}}class mD extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function AE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new pD(i,e,t,s,o,u,h)}function kp(i){const e=we(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ym(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>po(s)).join(",")),e.le=t}return e.le}function Vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!aD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!eS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!SE(i.startAt,e.startAt)&&SE(i.endAt,e.endAt)}function Xm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gD(i,e,t,s,o,u,h,d){return new Xh(i,e,t,s,o,u,h,d)}function Up(i){return new Xh(i)}function bE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function yD(i){return i.collectionGroup!==null}function Kl(i){const e=we(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ch(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new Ch(Ft.keyField(),s))}return e.he}function _i(i){const e=we(i);return e.Pe||(e.Pe=_D(e,Kl(i))),e.Pe}function _D(i,e){if(i.limitType==="F")return AE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)});const t=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return AE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Wm(i,e,t){return new Xh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Wh(i,e){return Vp(_i(i),_i(e))&&i.limitType===e.limitType}function iS(i){return`${kp(_i(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>tS(o)).join(", ")}]`),Qh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>po(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Zh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=TE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(h,d,p){const g=TE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(i,e)}function vD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rS(i){return(e,t)=>{let s=!1;for(const o of Kl(i)){const u=ED(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ED(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?mo(p,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new rt(_e.comparator);function cr(){return TD}const sS=new rt(_e.comparator);function Bl(...i){let e=sS;for(const t of i)e=e.insert(t.key,t);return e}function aS(i){let e=sS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ys(){return $l()}function oS(){return $l()}function $l(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const SD=new rt(_e.comparator),AD=new Dt(_e.comparator);function Me(...i){let e=AD;for(const t of i)e=e.add(t);return e}const bD=new Dt(Ve);function wD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function lS(i){return{integerValue:""+i}}function RD(i,e){return ZO(e)?lS(e):Lp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function CD(i,e,t){return i instanceof Ih?function(o,u){const h={fields:{[G0]:{stringValue:F0},[$0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=Yh(u)),u&&(h.fields[K0]=u),{mapValue:h}}(t,e):i instanceof iu?cS(i,e):i instanceof ru?hS(i,e):function(o,u){const h=uS(o,u),d=wE(h)+wE(o.Ie);return Qm(h)&&Qm(o.Ie)?lS(d):Lp(o.serializer,d)}(i,e)}function ID(i,e,t){return i instanceof iu?cS(i,e):i instanceof ru?hS(i,e):t}function uS(i,e){return i instanceof Oh?function(s){return Qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ih extends Jh{}class iu extends Jh{constructor(e){super(),this.elements=e}}function cS(i,e){const t=fS(e);for(const s of i.elements)t.some(o=>Ti(o,s))||t.push(s);return{arrayValue:{values:t}}}class ru extends Jh{constructor(e){super(),this.elements=e}}function hS(i,e){let t=fS(e);for(const s of i.elements)t=t.filter(o=>!Ti(o,s));return{arrayValue:{values:t}}}class Oh extends Jh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function wE(i){return mt(i.integerValue||i.doubleValue)}function fS(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function OD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?fo(s.elements,o.elements,Ti):s instanceof Oh&&o instanceof Oh?Ti(s.Ie,o.Ie):s instanceof Ih&&o instanceof Ih}(i.transform,e.transform)}class DD{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ef{}function dS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pS(i.key,ar.none()):new _u(i.key,i.data,ar.none());{const t=i.data,s=zn.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ca(i.key,s,new $n(o.toArray()),ar.none())}}function ND(i,e,t){i instanceof _u?function(o,u,h){const d=o.value.clone(),p=CE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof ca?function(o,u,h){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=CE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(mS(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ql(i,e,t,s){return i instanceof _u?function(u,h,d,p){if(!ch(u.precondition,h))return d;const g=u.value.clone(),E=IE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ca?function(u,h,d,p){if(!ch(u.precondition,h))return d;const g=IE(u.fieldTransforms,p,h),E=h.data;return E.setAll(mS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,d){return ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function xD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=uS(s.transform,o||null);u!=null&&(t===null&&(t=zn.empty()),t.set(s.field,u))}return t||null}function RE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,(u,h)=>OD(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends ef{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends ef{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function CE(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,ID(h,d,t[o]))}return s}function IE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,CD(u,h,e))}return s}class pS extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ND(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=oS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=dS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(t,s)=>RE(t,s))&&fo(this.baseMutations,e.baseMutations,(t,s)=>RE(t,s))}}class zp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return SD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new zp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function UD(i){switch(i){case ie.OK:return Se();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se()}}function gS(i){if(i===void 0)return ur("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Et.OK:return ie.OK;case Et.CANCELLED:return ie.CANCELLED;case Et.UNKNOWN:return ie.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ie.INTERNAL;case Et.UNAVAILABLE:return ie.UNAVAILABLE;case Et.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Et.NOT_FOUND:return ie.NOT_FOUND;case Et.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Et.ABORTED:return ie.ABORTED;case Et.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Et.DATA_LOSS:return ie.DATA_LOSS;default:return Se()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new ns([4294967295,4294967295],0);function OE(i){const e=LD().encode(i),t=new P0;return t.update(e),new Uint8Array(t.digest())}function DE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([t,s],0),new ns([o,u],0)]}class jp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ns.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ns.fromNumber(s)));return o.compare(zD)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=OE(e),[s,o]=DE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new jp(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=OE(e),[s,o]=DE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new tf(Ae.min(),o,new rt(Ve),cr(),Me())}}class vu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class yS{constructor(e,t){this.targetId=e,this.ge=t}}class _S{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class NE{constructor(){this.pe=0,this.ye=xE(),this.we=Gt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),t=Me(),s=Me();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new vu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=xE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class jD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new rt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Xm(u))if(s===0){const h=new _e(u.path);this.ze(t,h,Wt.newNoDocument(h,Ae.min()))}else $e(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ls(s).toUint8Array()}catch(p){if(p instanceof q0)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new jp(h,o,u)}catch(p){return ho(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&Xm(d.target)){const p=new _e(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Wt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Me();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new tf(e,t,this.Ue,this.Qe,s);return this.Qe=cr(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new rt(Ve),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new NE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new NE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Wc(){return new rt(_e.comparator)}function xE(){return new rt(_e.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qD={and:"AND",or:"OR"};class FD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(i,e){return i.useProto3Json||Qh(e)?e:{value:e}}function Dh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GD(i,e){return Dh(i,e.toTimestamp())}function vi(i){return $e(!!i),Ae.fromTimestamp(function(t){const s=os(t);return new Ot(s.seconds,s.nanos)}(i))}function Bp(i,e){return Jm(i,e).canonicalString()}function Jm(i,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function ES(i){const e=ct.fromString(i);return $e(wS(e)),e}function ep(i,e){return Bp(i.databaseId,e.path)}function wm(i,e){const t=ES(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(SS(t))}function TS(i,e){return Bp(i.databaseId,e)}function KD(i){const e=ES(i);return e.length===4?ct.emptyPath():SS(e)}function tp(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function SS(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function PE(i,e,t){return{name:ep(i,e),fields:t.value.mapValue.fields}}function $D(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:gS(g.code);return new ye(E,g.message||"")}(h);t=new _S(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(i,s.document.name),u=vi(s.document.updateTime),h=s.document.createTime?vi(s.document.createTime):Ae.min(),d=new zn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new hh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(i,s.document),u=s.readTime?vi(s.readTime):Ae.min(),h=Wt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new hh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(i,s.document),u=s.removedTargetIds||[];t=new hh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new VD(o,u),d=s.targetId;t=new yS(d,h)}}return t}function QD(i,e){let t;if(e instanceof _u)t={update:PE(i,e.key,e.value)};else if(e instanceof pS)t={delete:ep(i,e.key)};else if(e instanceof ca)t={update:PE(i,e.key,e.data),updateMask:iN(e.fieldMask)};else{if(!(e instanceof PD))return Se();t={verify:ep(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Ih)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function YD(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?vi(o.updateTime):vi(u);return h.isEqual(Ae.min())&&(h=vi(u)),new DD(h,o.transformResults||[])}(t,e))):[]}function XD(i,e){return{documents:[TS(i,e.path)]}}function WD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=TS(i,o);const u=function(g){if(g.length!==0)return bS(Si.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:ro(w.field),direction:eN(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Zm(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function ZD(i){let e=KD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const w=AS(T);return w instanceof Si&&J0(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(I){return new Ch(so(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Qh(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,O=T.values||[];return new Rh(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,O=T.values||[];return new Rh(O,w)}(t.endAt)),gD(e,o,h,u,d,"F",p,g)}function JD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=so(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(t.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return It.create(so(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Si.create(t.compositeFilter.filters.map(s=>AS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function eN(i){return BD[i]}function tN(i){return HD[i]}function nN(i){return qD[i]}function ro(i){return{fieldPath:i.canonicalString()}}function so(i){return Ft.fromServerFormat(i.fieldPath)}function bS(i){return i instanceof It?function(t){if(t.op==="=="){if(EE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(vE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(vE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:tN(t.op),value:t.value}}}(i):i instanceof Si?function(t){const s=t.getFilters().map(o=>bS(o));return s.length===1?s[0]:{compositeFilter:{op:nN(t.op),filters:s}}}(i):Se()}function iN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),d=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.Tt=e}}function sN(i){const e=ZD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Tn=new oN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(as.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class oN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(RS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",lN=1048576;function VE([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class uN{constructor(e){this.Hn=e,this.buffer=new Dt(VE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();VE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(kE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bo(t)?ce(kE,"Ignoring IndexedDB error during garbage collection: ",t):await Ao(t)}await this.er(3e5)})}}class hN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve($h.ae);const s=new uN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(ME)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),no()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function fN(i,e){return new hN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ql(s.mutation,o,$n.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=Ys();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Bl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ys();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=cr();const h=$l(),d=function(){return $l()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ca)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),Ot.now())):h.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new mN(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=$l();let o=new rt((h,d)=>h-d),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||$n.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||Me()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=oS();E.forEach(w=>{if(!u.has(w)){const O=dS(t.get(w),s.get(w));O!==null&&T.set(w,O),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(Ys());let d=Jl,p=u;return h.next(g=>ee.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:d,changes:aS(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Bl();return this.indexManager.getCollectionParents(e,u).next(d=>ee.forEach(d,p=>{const g=function(T,w){return new Xh(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let d=Bl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,$n.empty(),Ot.now()),Zh(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:sN(o.bundledQuery),readTime:vi(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.overlays=new rt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ys();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=Ys(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new rt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ys(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ee.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new kD(t,s));let u=this.Rr.get(t);u===void 0&&(u=Me(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new Dt(Lt.mr),this.gr=new Dt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Lt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new _e(new ct([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ct([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Me();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Lt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new MD(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Lt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?xp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ve);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new _e(u),0);let d=new Dt(Ve);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.kr=e,this.docs=function(){return new rt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=cr();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||QO($O(E),s)<=0||(o.has(E.key)||Zh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new TN(this)}getSize(e){return ee.resolve(this.size)}}class TN extends dN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Qr=new ua(t=>kp(t),Vp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hp,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new go(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $h(0),this.zr=!1,this.zr=!0,this.jr=new _N,this.referenceDelegate=e(this),this.Hr=new SN(this),this.indexManager=new aN,this.remoteDocumentCache=function(o){return new EN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rN(t),this.Yr=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new vN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new AN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class AN extends XO{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new qp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.oi=new ua(s=>JO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fN(this,t)}static ri(e,t){return new Nh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}ar(e,t,s){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Me(),o=Me();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sC()?8:WO(Jt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new bN;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(no()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(no()<=Pe.DEBUG&&ce("QueryEngine","Query:",io(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ee.resolve())}rs(e,t){if(bE(t))return ee.resolve(null);let s=_i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Wm(t,null,"F"),s=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Me(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Wm(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return bE(t)||o.isEqual(Ae.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?ee.resolve(null):(no()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(t)),this.hs(e,h,t,KO(o,Jl)).next(d=>d))})}cs(e,t){let s=new Dt(rS(e));return t.forEach((o,u)=>{Zh(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return no()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",io(t)),this.ns.getDocumentsMatchingQuery(e,t,as.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",RN=3e8;class CN{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Ve),this.Is=new ua(u=>kp(u),Vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function IN(i,e,t,s){return new CN(i,e,t,s)}async function IS(i,e){const t=we(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Me();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function ON(i,e){const t=we(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,w=T.keys();let O=ee.resolve();return w.forEach(I=>{O=O.next(()=>E.getEntry(p,I)).next(B=>{const x=g.docVersions.get(I);$e(x!==null),B.version.compareTo(x)<0&&(T.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Me();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function OS(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function DN(i,e){const t=we(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const w=o.get(T);if(!w)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(T,O),function(B,x,q){return B.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=RN?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(w,O,E)&&d.push(t.Hr.updateTargetData(u,O))});let p=cr(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(NN(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return ee.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function NN(i,e,t){let s=Me(),o=Me();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=cr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ce(Gp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function xN(i,e){const t=we(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=xp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PN(i,e){const t=we(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function np(i,e,t){const s=we(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!bo(h))throw h;ce(Gp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function UE(i,e,t){const s=we(i);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=we(p),w=T.Is.get(E);return w!==void 0?ee.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,E)}(s,h,_i(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Me())).next(d=>(MN(s,vD(e),d),{documents:d,gs:u})))}function MN(i,e,t){let s=i.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class LE{constructor(){this.activeTargetIds=wD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kN{constructor(){this.ho=new LE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new LE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class jE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(zE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function ip(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=ip(),d=this.So(e,t.toUriEncodedString());ce(Rm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(ce(Rm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw ho(Rm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=UN[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class jN extends LN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=ip();return new Promise((h,d)=>{const p=new M0;p.setWithCredentials(!0),p.listenOnce(k0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const E=p.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case oh.TIMEOUT:ce(Yt,`RPC '${e}' ${u} timed out`),d(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const T=p.getStatus();if(ce(Yt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const I=function(x){const q=x.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(q)>=0?q:ie.UNKNOWN}(O.status);d(new ye(I,O.message))}else d(new ye(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=ip(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=L0(),d=U0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let w=!1,O=!1;const I=new zN({Fo:x=>{O?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(w||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,x),T.send(x))},Mo:()=>T.close()}),B=(x,q,Z)=>{x.listen(q,X=>{try{Z(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return B(T,jl.EventType.OPEN,()=>{O||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),B(T,jl.EventType.CLOSE,()=>{O||(O=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),I.Ko())}),B(T,jl.EventType.ERROR,x=>{O||(O=!0,ho(Yt,`RPC '${e}' stream ${o} transport errored:`,x),I.Ko(new ye(ie.UNAVAILABLE,"The operation could not be completed")))}),B(T,jl.EventType.MESSAGE,x=>{var q;if(!O){const Z=x.data[0];$e(!!Z);const X=Z,oe=(X==null?void 0:X.error)||((q=X[0])===null||q===void 0?void 0:q.error);if(oe){ce(Yt,`RPC '${e}' stream ${o} received error:`,oe);const se=oe.status;let me=function(b){const D=Et[b];if(D!==void 0)return gS(D)}(se),P=oe.message;me===void 0&&(me=ie.INTERNAL,P="Unknown error status: "+se+" with message "+oe.message),O=!0,I.Ko(new ye(me,P)),T.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,Z),I.Uo(Z)}}),B(d,V0.STAT_EVENT,x=>{x.stat===Km.PROXY?ce(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===Km.NOPROXY&&ce(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return new FD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class NS{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new DS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BN extends NS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$D(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?vi(h.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=tp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Xm(p)?{documents:XD(u,p)}:{query:WD(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=vS(u,h.resumeToken);const g=Zm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Dh(u,h.snapshotVersion.toTimestamp());const g=Zm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=JD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=tp(this.serializer),t.removeTarget=e,this.I_(t)}}class HN extends NS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=YD(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=tp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>QD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{}class FN extends qN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Jm(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Jm(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ur(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class KN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ha(this)&&(ce(ia,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.W_.add(4),await Eu(g),g.j_.set("Unknown"),g.W_.delete(4),await rf(g)}(this))})}),this.j_=new GN(s,o)}}async function rf(i){if(ha(i))for(const e of i.G_)await e(!0)}async function Eu(i){for(const e of i.G_)await e(!1)}function xS(i,e){const t=we(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Yp(t)?Qp(t):wo(t).c_()&&$p(t,e))}function Kp(i,e){const t=we(i),s=wo(t);t.U_.delete(e),s.c_()&&PS(t,e),t.U_.size===0&&(s.c_()?s.P_():ha(t)&&t.j_.set("Unknown"))}function $p(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wo(i).y_(e)}function PS(i,e){i.H_.Ne(e),wo(i).w_(e)}function Qp(i){i.H_=new jD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),wo(i).start(),i.j_.B_()}function Yp(i){return ha(i)&&!wo(i).u_()&&i.U_.size>0}function ha(i){return we(i).W_.size===0}function MS(i){i.H_=void 0}async function $N(i){i.j_.set("Online")}async function QN(i){i.U_.forEach((e,t)=>{$p(i,e)})}async function YN(i,e){MS(i),Yp(i)?(i.j_.q_(e),Qp(i)):i.j_.set("Unknown")}async function XN(i,e,t){if(i.j_.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof hh?i.H_.We(e):e instanceof yS?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ae.min()))try{const s=await OS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),PS(u,p);const T=new Jr(E.target,p,g,E.sequenceNumber);$p(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ce(ia,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,t){if(!bo(e))throw e;i.W_.add(1),await Eu(i),i.j_.set("Offline"),t||(t=()=>OS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ia,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await rf(i)})}function kS(i,e){return e().catch(t=>xh(i,t,e))}async function sf(i){const e=we(i),t=cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:xp;for(;WN(e);)try{const o=await xN(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,ZN(e,o)}catch(o){await xh(e,o)}VS(e)&&US(e)}function WN(i){return ha(i)&&i.K_.length<10}function ZN(i,e){i.K_.push(e);const t=cs(i);t.c_()&&t.b_&&t.S_(e.mutations)}function VS(i){return ha(i)&&!cs(i).u_()&&i.K_.length>0}function US(i){cs(i).start()}async function JN(i){cs(i).C_()}async function e2(i){const e=cs(i);for(const t of i.K_)e.S_(t.mutations)}async function t2(i,e,t){const s=i.K_.shift(),o=zp.from(s,e,t);await kS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await sf(i)}async function n2(i,e){e&&cs(i).b_&&await async function(s,o){if(function(h){return UD(h)&&h!==ie.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await kS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await sf(s)}}(i,e),VS(i)&&US(i)}async function HE(i,e){const t=we(i);t.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const s=ha(t);t.W_.add(3),await Eu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await rf(t)}async function i2(i,e){const t=we(i);e?(t.W_.delete(2),await rf(t)):e||(t.W_.add(2),await Eu(t),t.j_.set("Unknown"))}function wo(i){return i.J_||(i.J_=function(t,s,o){const u=we(t);return u.M_(),new BN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:$N.bind(null,i),No:QN.bind(null,i),Lo:YN.bind(null,i),p_:XN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Yp(i)?Qp(i):i.j_.set("Unknown")):(await i.J_.stop(),MS(i))})),i.J_}function cs(i){return i.Y_||(i.Y_=function(t,s,o){const u=we(t);return u.M_(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:JN.bind(null,i),Lo:n2.bind(null,i),D_:e2.bind(null,i),v_:t2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await sf(i)):(await i.Y_.stop(),i.K_.length>0&&(ce(ia,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new Xp(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(i,e){if(ur("AsyncQueue",`${e}: ${i}`),bo(i))return new ye(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Bl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Z_=new rt(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class yo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new yo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class s2{constructor(){this.queries=FE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=FE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function FE(){return new ua(i=>iS(i),Wh)}async function a2(i,e){const t=we(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new r2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Wp(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Zp(t)}async function o2(i,e){const t=we(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function l2(i,e){const t=we(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Zp(t)}function u2(i,e,t){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Zp(i){i.ia.forEach(e=>{e.next()})}var rp,GE;(GE=rp||(rp={}))._a="default",GE.Cache="cache";class c2{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class zS{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=rS(e),this.wa=new co(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new qE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const w=o.get(E),O=Zh(this.query,T)?T:null,I=!!w&&this.mutatedKeys.has(w.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let x=!1;w&&O?w.data.isEqual(O.data)?I!==B&&(s.track({type:3,doc:O}),x=!0):this.va(w,O)||(s.track({type:2,doc:O}),x=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(d=!0)):!w&&O?(s.track({type:0,doc:O}),x=!0):w&&!O&&(s.track({type:1,doc:w}),x=!0,(p||g)&&(d=!0)),x&&(O?(h=h.add(O),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(O,I){const B=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return B(O)-B(I)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new yo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new zS(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new LS(s))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jp="SyncEngine";class f2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class d2{constructor(e){this.key=e,this.Ba=!1}}class m2{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ua(d=>iS(d),Wh),this.qa=new Map,this.Qa=new Set,this.$a=new rt(_e.comparator),this.Ka=new Map,this.Ua=new Hp,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p2(i,e,t=!0){const s=GS(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await jS(s,e,t,!0),o}async function g2(i,e){const t=GS(i);await jS(t,e,!0,!1)}async function jS(i,e,t,s){const o=await PN(i.localStore,_i(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await y2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&xS(i.remoteStore,o),d}async function y2(i,e,t,s,o){i.Ha=(T,w,O)=>async function(B,x,q,Z){let X=x.view.Sa(q);X.ls&&(X=await UE(B.localStore,x.query,!1).then(({documents:P})=>x.view.Sa(P,X)));const oe=Z&&Z.targetChanges.get(x.targetId),se=Z&&Z.targetMismatches.get(x.targetId)!=null,me=x.view.applyChanges(X,B.isPrimaryClient,oe,se);return $E(B,x.targetId,me.Ma),me.snapshot}(i,T,w,O);const u=await UE(i.localStore,e,!0),h=new h2(e,u.gs),d=h.Sa(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);$E(i,t,g.Ma);const E=new f2(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function _2(i,e,t){const s=we(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Wh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Kp(s.remoteStore,o.targetId),sp(s,o.targetId)}).catch(Ao)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function v2(i,e){const t=we(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(t.remoteStore,s.targetId))}async function E2(i,e,t){const s=C2(i);try{const o=await function(h,d){const p=we(h),g=Ot.now(),E=d.reduce((O,I)=>O.add(I.key),Me());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let I=cr(),B=Me();return p.ds.getEntries(O,E).next(x=>{I=x,I.forEach((q,Z)=>{Z.isValidDocument()||(B=B.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,I)).next(x=>{T=x;const q=[];for(const Z of d){const X=xD(Z,T.get(Z.key).overlayedDocument);X!=null&&q.push(new ca(Z.key,X,X0(X.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,q,d)}).next(x=>{w=x;const q=x.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(O,x.batchId,q)})}).then(()=>({batchId:w.batchId,changes:aS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new rt(Ve)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Tu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");t.reject(u)}}async function BS(i,e){const t=we(i);try{const s=await DN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await Tu(t,s,e)}catch(s){await Ao(s)}}function KE(i,e,t){const s=we(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=we(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const w of T.ta)w.sa(d)&&(g=!0)}),g&&Zp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T2(i,e,t){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new rt(_e.comparator);h=h.insert(u,Wt.newNoDocument(u,Ae.min()));const d=Me().add(u),p=new tf(Ae.min(),new Map,new rt(Ve),h,d);await BS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),eg(s)}else await np(s.localStore,e,!1).then(()=>sp(s,e,t)).catch(Ao)}async function S2(i,e){const t=we(i),s=e.batch.batchId;try{const o=await ON(t.localStore,e);qS(t,s,null),HS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(t,o)}catch(o){await Ao(o)}}async function A2(i,e,t){const s=we(i);try{const o=await function(h,d){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>($e(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);qS(s,e,t),HS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Tu(s,o)}catch(o){await Ao(o)}}function HS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function qS(i,e,t){const s=we(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function sp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||FS(i,s)})}function FS(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Kp(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),eg(i))}function $E(i,e,t){for(const s of t)s instanceof LS?(i.Ua.addReference(s.key,e),b2(i,s)):s instanceof zS?(ce(Jp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||FS(i,s.key)):Se()}function b2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ce(Jp,"New document in limbo: "+t),i.Qa.add(s),eg(i))}function eg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(ct.fromString(e)),s=i.za.next();i.Ka.set(s,new d2(t)),i.$a=i.$a.insert(t,s),xS(i.remoteStore,new Jr(_i(Up(t.path)),s,"TargetPurposeLimboResolution",$h.ae))}}async function Tu(i,e,t){const s=we(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Fp.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,w=>ee.forEach(w.Hi,O=>E.persistence.referenceDelegate.addReference(T,w.targetId,O)).next(()=>ee.forEach(w.Ji,O=>E.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))}catch(T){if(!bo(T))throw T;ce(Gp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=E.Ts.get(w),I=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(I);E.Ts=E.Ts.insert(w,B)}}}(s.localStore,u))}async function w2(i,e){const t=we(i);if(!t.currentUser.isEqual(e)){ce(Jp,"User change. New user:",e.toKey());const s=await IS(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ye(ie.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(t,s.Rs)}}function R2(i,e){const t=we(i),s=t.Ka.get(e);if(s&&s.Ba)return Me().add(s.key);{let o=Me();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function GS(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.La.p_=l2.bind(null,e.eventManager),e.La.Ja=u2.bind(null,e.eventManager),e}function C2(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A2.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return IN(this.persistence,new wN,e.initialUser,this.serializer)}Xa(e){return new CS(qp.ri,this.serializer)}Za(e){return new kN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class I2 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Nh);const s=this.persistence.referenceDelegate.garbageCollector;return new cN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new CS(s=>Nh.ri(s,t),this.serializer)}}class ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const t=nf(e.databaseInfo.databaseId),s=function(u){return new jN(u)}(e.databaseInfo);return function(u,h,d,p){return new FN(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new KN(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return jE.D()?new jE:new VN}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const T=new m2(o,u,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=we(o);ce(ia,"RemoteStore shutting down."),u.W_.add(5),await Eu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class D2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Wp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),ce(hs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await IS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function QE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await N2(i);ce(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>HE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>HE(e.remoteStore,o)),i._onlineComponents=e}async function N2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(hs,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ho("Error using user provided cache. Falling back to memory cache: "+t),await Im(i,new Ph)}}else ce(hs,"Using default OfflineComponentProvider"),await Im(i,new I2(void 0));return i._offlineComponents}async function KS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(hs,"Using user provided OnlineComponentProvider"),await QE(i,i._uninitializedComponentsProvider._online)):(ce(hs,"Using default OnlineComponentProvider"),await QE(i,new ap))),i._onlineComponents}function x2(i){return KS(i).then(e=>e.syncEngine)}async function P2(i){const e=await KS(i),t=e.eventManager;return t.onListen=p2.bind(null,e.syncEngine),t.onUnlisten=_2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v2.bind(null,e.syncEngine),t}function M2(i,e,t={}){const s=new is;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new O2({next:w=>{E.su(),h.enqueueAndForget(()=>o2(u,T));const O=w.docs.has(d);!O&&w.fromCache?g.reject(new ye(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new c2(Up(d.path),E,{includeMetadataChanges:!0,Ta:!0});return a2(u,T)}(await P2(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i,e,t){if(!t)throw new ye(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function V2(i,e,t,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function XE(i){if(!_e.isDocumentKey(i))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function su(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tg(i);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",WE=!0;class ZE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=WE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:WE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lN)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new LO;switch(s.type){case"firstParty":return new HO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=YE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),YE.delete(t),s.terminate())}(this),Promise.resolve()}}function U2(i,e,t,s={}){var o;const u=(i=su(i,ng))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==QS&&u.host!==d&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!Zs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xt.MOCK_USER;else{g=GT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(T)}i._authCredentials=new zO(new z0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ig(this.firestore,e,this._query)}}class jn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class au extends ig{constructor(e,t,s){super(e,t,Up(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new _e(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function rg(i,e,...t){if(i=fn(i),arguments.length===1&&(e=j0.newId()),k2("doc","path",e),i instanceof ng){const s=ct.fromString(e,...t);return XE(s),new jn(i,null,new _e(s))}{if(!(i instanceof jn||i instanceof au))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return XE(s),new jn(i.firestore,i instanceof au?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new DS(this,"async_queue_retry"),this.bu=()=>{const s=Cm();s&&ce(JE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Cm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bo(e))throw e;ce(JE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw ur("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Xp.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class sg extends ng{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function L2(i,e){const t=typeof i=="object"?i:Tp(),s=typeof i=="string"?i:bh,o=qh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HT("firestore");u&&U2(o,...u)}return o}function YS(i){if(i._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z2(i),i._firestoreClient}function z2(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,E){return new nD(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,$S(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new D2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Gt.fromBase64String(e))}catch(t){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^__.*__$/;class B2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}function WS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class ug{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WS(this.Lu)&&j2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||nf(e)}ju(e,t,s,o=!1){return new ug({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q2(i){const e=i._freezeSettings(),t=nf(i._databaseId);return new H2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function F2(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);tA("Data must be an object, but it was:",h,s);const d=JS(s,h);let p,g;if(u.merge)p=new $n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=G2(e,T,t);if(!h.contains(w))throw new ye(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$2(E,w)||E.push(w)}p=new $n(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new B2(new zn(d),p,g)}function ZS(i,e){if(eA(i=fn(i)))return tA("Unsupported field value:",e,i),JS(i,e);if(i instanceof XS)return function(s,o){if(!WS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=ZS(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:vS(o.serializer,s._byteString)};if(s instanceof jn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lg)return function(h,d){return{mapValue:{fields:{[Q0]:{stringValue:Y0},[wh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Lp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${tg(s)}`)}(i,e)}function JS(i,e){const t={};return H0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(i,(s,o)=>{const u=ZS(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function eA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof og||i instanceof _o||i instanceof jn||i instanceof XS||i instanceof lg)}function tA(i,e,t){if(!eA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=tg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function G2(i,e,t){if((e=fn(e))instanceof ag)return e._internalPath;if(typeof e=="string")return nA(i,e);throw Mh("Field path arguments must be of type string or ",i,!1,void 0,t)}const K2=new RegExp("[~\\*/\\[\\]]");function nA(i,e,t){if(e.search(K2)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ag(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Mh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,d+i+p)}function $2(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q2 extends iA{data(){return super.data()}}function rA(i,e){return typeof e=="string"?nA(i,e):e instanceof ag?e._internalPath:e._delegate._internalPath}class Y2{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return la(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[wh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new lg(u)}convertGeoPoint(e){return new og(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=os(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);$e(wS(s));const o=new tu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sA extends iA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(rA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Z2 extends sA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(i){i=su(i,jn);const e=su(i.firestore,sg);return M2(YS(e),i._key).then(t=>tx(e,i,t))}class J2 extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function oA(i,e,t){i=su(i,jn);const s=su(i.firestore,sg),o=X2(i.converter,e);return ex(s,[F2(q2(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,ar.none())])}function ex(i,e){return function(s,o){const u=new is;return s.asyncQueue.enqueueAndForget(async()=>E2(await x2(s),o,u)),u.promise}(YS(i),e)}function tx(i,e,t){const s=t.docs.get(e._key),o=new J2(i);return new sA(i,o,e._key,s,new W2(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){So=o})(aa),Js(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new sg(new jO(s.getProvider("auth-internal")),new qO(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),pi(lE,uE,e),pi(lE,uE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebasestorage.googleapis.com",nx="storageBucket",ix=2*60*1e3,rx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ri{constructor(e,t,s=0){super(Om(e),`Firebase Storage: ${t} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ai;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ai||(Ai={}));function Om(i){return"storage/"+i}function sx(){const i="An unknown error occurred, please check the error payload for server response.";return new Ci(Ai.UNKNOWN,i)}function ax(){return new Ci(Ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ox(){return new Ci(Ai.CANCELED,"User canceled the upload/download.")}function lx(i){return new Ci(Ai.INVALID_URL,"Invalid URL '"+i+"'.")}function ux(i){return new Ci(Ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tT(i){return new Ci(Ai.INVALID_ARGUMENT,i)}function uA(){return new Ci(Ai.APP_DELETED,"The Firebase app was deleted.")}function cx(i){return new Ci(Ai.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Qn.makeFromUrl(e,t)}catch{return new Qn(e,"")}if(s.path==="")return s;throw ux(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),I={bucket:1,path:3},B=t===lA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",q=new RegExp(`^https?://${B}/${o}/${x}`,"i"),X=[{regex:d,indices:p,postModify:u},{regex:O,indices:I,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<X.length;oe++){const se=X[oe],me=se.regex.exec(e);if(me){const P=me[se.indices.bucket];let R=me[se.indices.path];R||(R=""),s=new Qn(P,R),se.postModify(s);break}}if(s==null)throw lx(e);return s}}class hx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...x){g||(g=!0,e.apply(null,x))}function T(x){o=setTimeout(()=>{o=null,i(O,p())},x)}function w(){u&&clearTimeout(u)}function O(x,...q){if(g){w();return}if(x){w(),E.call(null,x,...q);return}if(p()||h){w(),E.call(null,x,...q);return}s<64&&(s*=2);let X;d===1?(d=2,X=0):X=(s+Math.random())*1e3,T(X)}let I=!1;function B(x){I||(I=!0,w(),!g&&(o!==null?(x||(d=2),clearTimeout(o),T(0)):x||(d=1)))}return T(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function dx(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(i){return i!==void 0}function nT(i,e,t,s){if(s<e)throw tT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw tT(`Invalid value for '${i}'. Expected ${t} or less.`)}function px(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var kh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(kh||(kh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t,s,o,u,h,d,p,g,E,T,w=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,I)=>{this.resolve_=O,this.reject_=I,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===kh.NO_ERROR,p=u.getStatus();if(!d||gx(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===kh.ABORT;s(!1,new Jc(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Jc(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());mx(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=sx();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?uA():ox();h(p)}else{const p=ax();h(p)}};this.canceled_?t(!1,new Jc(!1,null,!0)):this.backoffId_=fx(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function _x(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function vx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ex(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Tx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Sx(i,e,t,s,o,u,h=!0){const d=px(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return Ex(g,e),_x(g,t),vx(g,u),Tx(g,s),new yx(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function bx(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this._service=e,t instanceof Qn?this._location=t:this._location=Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vh(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bx(this._location.path)}get storage(){return this._service}get parent(){const e=Ax(this._location.path);if(e===null)return null;const t=new Qn(this._location.bucket,e);return new Vh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw cx(e)}}function iT(i,e){const t=e==null?void 0:e[nx];return t==null?null:Qn.makeFromBucketSpec(t,i)}function wx(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:GT(o,i.app.options.projectId))}class Rx{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=lA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ix,this._maxUploadRetryTime=rx,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=iT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=iT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new hx(uA());{const h=Sx(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const rT="@firebase/storage",sT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="storage";function Cx(i=Tp(),e){i=fn(i);const s=qh(i,cA).getImmediate({identifier:e}),o=HT("storage");return o&&Ix(s,...o),s}function Ix(i,e,t,s={}){wx(i,e,t,s)}function Ox(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Rx(t,s,o,e,aa)}function Dx(){Js(new ss(cA,Ox,"PUBLIC").setMultipleInstances(!0)),pi(rT,sT,""),pi(rT,sT,"esm2017")}Dx();const Nx={apiKey:"AIzaSyBjtMXdCx8kVPsEjsBiForCiSy0BDhH0oA",authDomain:"agendareact-6b1df.firebaseapp.com",projectId:"agendareact-6b1df",storageBucket:"agendareact-6b1df.appspot.com",messagingSenderId:"185241877806",appId:"1:185241877806:web:85f367db0c0134970a4ebf",measurementId:"G-WPW7RZRWYE"},cg=QT(Nx),ql=VO(cg),hg=L2(cg);Cx(cg);const xx=async(i,e)=>{if(!i)return;const t=rg(hg,`users/${i.uid}`);if(!(await aA(t)).exists())try{await oA(t,{displayName:e.displayName||"Usuario",email:i.email,photoURL:e.photoURL||null}),console.log(" Documento creado correctamente en Firestore.")}catch(o){console.error(" Error al crear el documento de usuario:",o)}},hA=K.createContext(),Su=()=>{const i=K.useContext(hA);return i||(console.error("No se encontró el contexto de autenticación."),null)};function Px({children:i}){const[e,t]=K.useState(null);K.useEffect(()=>{const h=b1(ql,d=>{d?t(d):(console.log("Usuario no autenticado."),t(null))});return()=>h()},[]);const s=async(h,d,p,g)=>{try{const E=await T1(ql,h,d),T=E.user;console.log(E,"holaaaaa");const w={uid:T.uid,email:T.email,displayName:p||"Usuario",photoURL:g||"https://via.placeholder.com/100"};return await oA(rg(hg,"users",T.uid),w),t(E.user),E.user}catch(E){return console.error("Error en signUp:",E.message),null}},o=async(h,d)=>{try{const p=await S0(ql,h,d);return t(p.user),p.user}catch(p){return console.error("Error en login:",p.message),null}},u=async()=>{try{await w1(ql),console.log("Usuario cerró sesión."),t(null)}catch(h){console.error("Error al cerrar sesión:",h.message)}};return F.jsx(hA.Provider,{value:{signUp:s,login:o,logOut:u,user:e},children:i})}function aT(){const{user:i,signUp:e}=Su(),[t,s]=K.useState(""),[o,u]=K.useState(""),[h,d]=K.useState(""),[p,g]=K.useState(""),E=cu(),T=i!==null,w=async O=>{O.preventDefault();try{const I=await e(t,o,h,p);if(!I){console.error("No se pudo registrar el usuario.");return}console.log("Usuario registrado:",I),await xx(I,{displayName:h,photoURL:p}),console.log("Documento de usuario generado en Firestore.")}catch(I){console.error("Error en el registro:",I.message)}E("/ver")};return T?F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-card",children:[F.jsx("h3",{children:"Ya has iniciado sesión"}),F.jsx("p",{children:"Para registrate, primero cierra sesión"})]})}):F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-card",children:[F.jsx("h3",{children:"Registro"}),F.jsxs("form",{className:"auth-form",onSubmit:w,children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"displayName",children:"Nombre"}),F.jsx("input",{type:"text",id:"displayName",placeholder:"Ingresa tu nombre",value:h,onChange:O=>d(O.target.value),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"email",children:"Correo electrónico"}),F.jsx("input",{type:"email",id:"email",placeholder:"Ingresa tu correo",value:t,onChange:O=>s(O.target.value),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"password",children:"Contraseña"}),F.jsx("input",{type:"password",id:"password",placeholder:"Ingresa tu contraseña",value:o,onChange:O=>u(O.target.value),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"photoURL",children:"URL de Foto de perfil"}),F.jsx("input",{type:"text",id:"photoURL",placeholder:"Ingresa la URL de tu foto de perfil",value:p,onChange:O=>g(O.target.value)})]}),F.jsx("button",{type:"submit",className:"auth-btn",children:"Registrarse"})]}),F.jsx("div",{className:"auth-footer",children:F.jsxs("p",{children:["¿Ya tienes cuenta? ",F.jsx("a",{href:"/login",children:"Inicia sesión"})]})})]})})}function Mx(){const[i,e]=K.useState(""),[t,s]=K.useState(""),[o,u]=K.useState(null),h=cu(),{user:d}=Su(),p=d!==null,g=async E=>{E.preventDefault();try{await S0(ql,i,t),h("/ver")}catch(T){u("Error al iniciar sesión. Verifica tus credenciales."),console.error(T.message)}};return p?F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-card",children:[F.jsx("h3",{children:"Ya has iniciado sesión"}),F.jsx("p",{children:"Para iniciar sesión, primero cierra sesión"})]})}):F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-card",children:[F.jsx("h3",{children:"Iniciar Sesión"}),o&&F.jsx("p",{className:"text-danger",children:o}),F.jsxs("form",{className:"auth-form",onSubmit:g,children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"email",children:"Correo electrónico"}),F.jsx("input",{type:"email",id:"email",placeholder:"Ingresa tu correo",value:i,onChange:E=>e(E.target.value),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"password",children:"Contraseña"}),F.jsx("input",{type:"password",id:"password",placeholder:"Ingresa tu contraseña",value:t,onChange:E=>s(E.target.value),required:!0})]}),F.jsx("button",{type:"submit",className:"auth-btn",children:"Iniciar Sesión"})]}),F.jsx("div",{className:"auth-footer",children:F.jsxs("p",{children:["¿No tienes cuenta? ",F.jsx("a",{href:"/",children:"Regístrate"})]})})]})})}const kx=[{icon:"person_add",label:"SignUp",path:"/signUp",requiresAuth:!1},{icon:"login",label:"SignIn",path:"/logIn",requiresAuth:!1},{icon:"visibility",label:"Ver Contactos",path:"/ver"},{icon:"add",label:"Añadir",path:"/anadir",requiresAuth:!0},{icon:"logout",label:"Cerrar Sesión",requiresAuth:!0,isLogout:!0}],Vx=()=>{const[i,e]=K.useState(!1),{user:t,logOut:s}=Su(),o=cu(),u=t!==null,h=async()=>{try{await s(),o("/logIn")}catch(d){console.error("Error al cerrar sesión:",d)}};return F.jsxs(F.Fragment,{children:[F.jsx("button",{type:"button",className:"sidebar-3-burger",onClick:()=>e(!i),children:F.jsx("span",{className:"material-symbols-outlined",children:i?"close":"menu"})}),F.jsx("aside",{className:`sidebar-3 ${i?"open":""}`,children:F.jsx("nav",{children:kx.filter(({requiresAuth:d,path:p})=>u&&(p==="/signUp"||p==="/logIn")?!1:u||!d).map(({icon:d,label:p,path:g,isLogout:E})=>E?F.jsxs(Vm,{className:"logout-btn",onClick:h,children:[F.jsx("span",{className:"material-symbols-outlined",children:d}),F.jsx("p",{children:p})]},d):F.jsxs(Vm,{to:g,className:({isActive:T})=>T?"active-link":"",onClick:()=>e(!1),children:[F.jsx("span",{className:"material-symbols-outlined",children:d}),F.jsx("p",{children:p})]},d))})})]})};function Ux(){const{user:i}=Su(),[e,t]=K.useState(null),[s,o]=K.useState(null);return K.useEffect(()=>{i?t(i.uid):(t(null),o(null))},[i]),K.useEffect(()=>{(async()=>{if(e)try{const h=rg(hg,"users",e),d=await aA(h);d.exists()?o(d.data()):console.log("Usuario no encontrado en Firestore.")}catch(h){console.error("Error al obtener usuario de Firestore:",h)}})()},[e]),F.jsx("div",{className:"info-usuario",children:s?F.jsxs(F.Fragment,{children:[F.jsx("img",{src:s.photoURL,alt:"Profile",className:"profile-picture"}),F.jsx("span",{className:"user-name",children:s.displayName})]}):F.jsx("p",{children:"Cargando usuario..."})})}const Lx=()=>F.jsxs("div",{className:"app-container",children:[F.jsx(Vx,{}),F.jsx(Ux,{}),F.jsxs("main",{className:"content",children:[F.jsx(uR,{})," "]})]});function fA(i,e){return function(){return i.apply(e,arguments)}}const{toString:zx}=Object.prototype,{getPrototypeOf:fg}=Object,af=(i=>e=>{const t=zx.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=i=>(i=i.toLowerCase(),e=>af(e)===i),of=i=>e=>typeof e===i,{isArray:Ro}=Array,ou=of("undefined");function jx(i){return i!==null&&!ou(i)&&i.constructor!==null&&!ou(i.constructor)&&Tn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const dA=Xn("ArrayBuffer");function Bx(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&dA(i.buffer),e}const Hx=of("string"),Tn=of("function"),mA=of("number"),lf=i=>i!==null&&typeof i=="object",qx=i=>i===!0||i===!1,fh=i=>{if(af(i)!=="object")return!1;const e=fg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fx=Xn("Date"),Gx=Xn("File"),Kx=Xn("Blob"),$x=Xn("FileList"),Qx=i=>lf(i)&&Tn(i.pipe),Yx=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Tn(i.append)&&((e=af(i))==="formdata"||e==="object"&&Tn(i.toString)&&i.toString()==="[object FormData]"))},Xx=Xn("URLSearchParams"),[Wx,Zx,Jx,eP]=["ReadableStream","Request","Response","Headers"].map(Xn),tP=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Au(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Ro(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let d;for(s=0;s<h;s++)d=u[s],e.call(null,i[d],d,i)}}function pA(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gA=i=>!ou(i)&&i!==Xs;function op(){const{caseless:i}=gA(this)&&this||{},e={},t=(s,o)=>{const u=i&&pA(e,o)||o;fh(e[u])&&fh(s)?e[u]=op(e[u],s):fh(s)?e[u]=op({},s):Ro(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Au(arguments[s],t);return e}const nP=(i,e,t,{allOwnKeys:s}={})=>(Au(e,(o,u)=>{t&&Tn(o)?i[u]=fA(o,t):i[u]=o},{allOwnKeys:s}),i),iP=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),rP=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},sP=(i,e,t,s)=>{let o,u,h;const d={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!d[h]&&(e[h]=i[h],d[h]=!0);i=t!==!1&&fg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},aP=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},oP=i=>{if(!i)return null;if(Ro(i))return i;let e=i.length;if(!mA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},lP=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&fg(Uint8Array)),uP=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},cP=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},hP=Xn("HTMLFormElement"),fP=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),oT=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),dP=Xn("RegExp"),yA=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Au(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},mP=i=>{yA(i,(e,t)=>{if(Tn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(Tn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},pP=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Ro(i)?s(i):s(String(i).split(e)),t},gP=()=>{},yP=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e,Dm="abcdefghijklmnopqrstuvwxyz",lT="0123456789",_A={DIGIT:lT,ALPHA:Dm,ALPHA_DIGIT:Dm+Dm.toUpperCase()+lT},_P=(i=16,e=_A.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;i--;)t+=e[Math.random()*s|0];return t};function vP(i){return!!(i&&Tn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const EP=i=>{const e=new Array(10),t=(s,o)=>{if(lf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Ro(s)?[]:{};return Au(s,(h,d)=>{const p=t(h,o+1);!ou(p)&&(u[d]=p)}),e[o]=void 0,u}}return s};return t(i,0)},TP=Xn("AsyncFunction"),SP=i=>i&&(lf(i)||Tn(i))&&Tn(i.then)&&Tn(i.catch),vA=((i,e)=>i?setImmediate:e?((t,s)=>(Xs.addEventListener("message",({source:o,data:u})=>{o===Xs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Xs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tn(Xs.postMessage)),AP=typeof queueMicrotask<"u"?queueMicrotask.bind(Xs):typeof process<"u"&&process.nextTick||vA,Q={isArray:Ro,isArrayBuffer:dA,isBuffer:jx,isFormData:Yx,isArrayBufferView:Bx,isString:Hx,isNumber:mA,isBoolean:qx,isObject:lf,isPlainObject:fh,isReadableStream:Wx,isRequest:Zx,isResponse:Jx,isHeaders:eP,isUndefined:ou,isDate:Fx,isFile:Gx,isBlob:Kx,isRegExp:dP,isFunction:Tn,isStream:Qx,isURLSearchParams:Xx,isTypedArray:lP,isFileList:$x,forEach:Au,merge:op,extend:nP,trim:tP,stripBOM:iP,inherits:rP,toFlatObject:sP,kindOf:af,kindOfTest:Xn,endsWith:aP,toArray:oP,forEachEntry:uP,matchAll:cP,isHTMLForm:hP,hasOwnProperty:oT,hasOwnProp:oT,reduceDescriptors:yA,freezeMethods:mP,toObjectSet:pP,toCamelCase:fP,noop:gP,toFiniteNumber:yP,findKey:pA,global:Xs,isContextDefined:gA,ALPHABET:_A,generateString:_P,isSpecCompliantForm:vP,toJSONObject:EP,isAsyncFn:TP,isThenable:SP,setImmediate:vA,asap:AP};function Re(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const EA=Re.prototype,TA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{TA[i]={value:i}});Object.defineProperties(Re,TA);Object.defineProperty(EA,"isAxiosError",{value:!0});Re.from=(i,e,t,s,o,u)=>{const h=Object.create(EA);return Q.toFlatObject(i,h,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Re.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const bP=null;function lp(i){return Q.isPlainObject(i)||Q.isArray(i)}function SA(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function uT(i,e,t){return i?i.concat(e).map(function(o,u){return o=SA(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function wP(i){return Q.isArray(i)&&!i.some(lp)}const RP=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function uf(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,x){return!Q.isUndefined(x[B])});const s=t.metaTokens,o=t.visitor||E,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function g(I){if(I===null)return"";if(Q.isDate(I))return I.toISOString();if(!p&&Q.isBlob(I))throw new Re("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(I)||Q.isTypedArray(I)?p&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function E(I,B,x){let q=I;if(I&&!x&&typeof I=="object"){if(Q.endsWith(B,"{}"))B=s?B:B.slice(0,-2),I=JSON.stringify(I);else if(Q.isArray(I)&&wP(I)||(Q.isFileList(I)||Q.endsWith(B,"[]"))&&(q=Q.toArray(I)))return B=SA(B),q.forEach(function(X,oe){!(Q.isUndefined(X)||X===null)&&e.append(h===!0?uT([B],oe,u):h===null?B:B+"[]",g(X))}),!1}return lp(I)?!0:(e.append(uT(x,B,u),g(I)),!1)}const T=[],w=Object.assign(RP,{defaultVisitor:E,convertValue:g,isVisitable:lp});function O(I,B){if(!Q.isUndefined(I)){if(T.indexOf(I)!==-1)throw Error("Circular reference detected in "+B.join("."));T.push(I),Q.forEach(I,function(q,Z){(!(Q.isUndefined(q)||q===null)&&o.call(e,q,Q.isString(Z)?Z.trim():Z,B,w))===!0&&O(q,B?B.concat(Z):[Z])}),T.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return O(i),e}function cT(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function dg(i,e){this._pairs=[],i&&uf(i,this,e)}const AA=dg.prototype;AA.append=function(e,t){this._pairs.push([e,t])};AA.toString=function(e){const t=e?function(s){return e.call(this,s,cT)}:cT;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function CP(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bA(i,e,t){if(!e)return i;const s=t&&t.encode||CP;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Q.isURLSearchParams(e)?e.toString():new dg(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class hT{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const wA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IP=typeof URLSearchParams<"u"?URLSearchParams:dg,OP=typeof FormData<"u"?FormData:null,DP=typeof Blob<"u"?Blob:null,NP={isBrowser:!0,classes:{URLSearchParams:IP,FormData:OP,Blob:DP},protocols:["http","https","file","blob","url","data"]},mg=typeof window<"u"&&typeof document<"u",up=typeof navigator=="object"&&navigator||void 0,xP=mg&&(!up||["ReactNative","NativeScript","NS"].indexOf(up.product)<0),PP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MP=mg&&window.location.href||"http://localhost",kP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mg,hasStandardBrowserEnv:xP,hasStandardBrowserWebWorkerEnv:PP,navigator:up,origin:MP},Symbol.toStringTag,{value:"Module"})),Zt={...kP,...NP};function VP(i,e){return uf(i,new Zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return Zt.isNode&&Q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function UP(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LP(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function RA(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),p=u>=t.length;return h=!h&&Q.isArray(o)?o.length:h,p?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!d):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Q.isArray(o[h])&&(o[h]=LP(o[h])),!d)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(s,o)=>{e(UP(s),o,t,0)}),t}return null}function zP(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const bu={transitional:wA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Q.isObject(e);if(u&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(RA(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return VP(e,this.formSerializer).toString();if((d=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return uf(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),zP(e)):e}],transformResponse:[function(e){const t=this.transitional||bu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(h)throw d.name==="SyntaxError"?Re.from(d,Re.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{bu.headers[i]={}});const jP=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BP=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&jP[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},fT=Symbol("internals");function Ul(i){return i&&String(i).trim().toLowerCase()}function dh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(dh):String(i)}function HP(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const qP=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Nm(i,e,t,s,o){if(Q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function FP(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function GP(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(d,p,g){const E=Ul(p);if(!E)throw new Error("header name must be a non-empty string");const T=Q.findKey(o,E);(!T||o[T]===void 0||g===!0||g===void 0&&o[T]!==!1)&&(o[T||p]=dh(d))}const h=(d,p)=>Q.forEach(d,(g,E)=>u(g,E,p));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!qP(e))h(BP(e),t);else if(Q.isHeaders(e))for(const[d,p]of e.entries())u(p,d,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=Ul(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return HP(o);if(Q.isFunction(t))return t.call(this,o,s);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ul(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Nm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Ul(h),h){const d=Q.findKey(s,h);d&&(!t||Nm(s,s[d],d,t))&&(delete s[d],o=!0)}}return Q.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||Nm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Q.forEach(this,(o,u)=>{const h=Q.findKey(s,u);if(h){t[h]=dh(o),delete t[u];return}const d=e?FP(u):String(u).trim();d!==u&&delete t[u],t[d]=dh(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[fT]=this[fT]={accessors:{}}).accessors,o=this.prototype;function u(h){const d=Ul(h);s[d]||(GP(o,h),s[d]=!0)}return Q.isArray(e)?e.forEach(u):u(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(hn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Q.freezeMethods(hn);function xm(i,e){const t=this||bu,s=e||t,o=hn.from(s.headers);let u=s.data;return Q.forEach(i,function(d){u=d.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function CA(i){return!!(i&&i.__CANCEL__)}function Co(i,e,t){Re.call(this,i??"canceled",Re.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Co,Re,{__CANCEL__:!0});function IA(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Re("Request failed with status code "+t.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function KP(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function $P(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),t[o]=p,s[o]=g;let T=u,w=0;for(;T!==o;)w+=t[T++],T=T%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const O=E&&g-E;return O?Math.round(w*1e3/O):void 0}}function QP(i,e){let t=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{t=E,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const E=Date.now(),T=E-t;T>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-T)))},()=>o&&h(o)]}const Uh=(i,e,t=3)=>{let s=0;const o=$P(50,250);return QP(u=>{const h=u.loaded,d=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=d;s=h;const T={loaded:h,total:d,progress:d?h/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&E?(d-h)/g:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};i(T)},t)},dT=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},mT=i=>(...e)=>Q.asap(()=>i(...e)),YP=Zt.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Zt.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,XP=Zt.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function WP(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function ZP(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function OA(i,e){return i&&!WP(e)?ZP(i,e):e}const pT=i=>i instanceof hn?{...i}:i;function ra(i,e){e=e||{};const t={};function s(g,E,T,w){return Q.isPlainObject(g)&&Q.isPlainObject(E)?Q.merge.call({caseless:w},g,E):Q.isPlainObject(E)?Q.merge({},E):Q.isArray(E)?E.slice():E}function o(g,E,T,w){if(Q.isUndefined(E)){if(!Q.isUndefined(g))return s(void 0,g,T,w)}else return s(g,E,T,w)}function u(g,E){if(!Q.isUndefined(E))return s(void 0,E)}function h(g,E){if(Q.isUndefined(E)){if(!Q.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function d(g,E,T){if(T in e)return s(g,E);if(T in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,E,T)=>o(pT(g),pT(E),T,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(E){const T=p[E]||o,w=T(i[E],e[E],E);Q.isUndefined(w)&&T!==d||(t[E]=w)}),t}const DA=i=>{const e=ra({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:d}=e;e.headers=h=hn.from(h),e.url=bA(OA(e.baseURL,e.url),i.params,i.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Q.isFormData(t)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&YP(e.url))){const g=o&&u&&XP.read(u);g&&h.set(o,g)}return e},JP=typeof XMLHttpRequest<"u",eM=JP&&function(i){return new Promise(function(t,s){const o=DA(i);let u=o.data;const h=hn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=o,E,T,w,O,I;function B(){O&&O(),I&&I(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function q(){if(!x)return;const X=hn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),se={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:X,config:i,request:x};IA(function(P){t(P),B()},function(P){s(P),B()},se),x=null}"onloadend"in x?x.onloadend=q:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(q)},x.onabort=function(){x&&(s(new Re("Request aborted",Re.ECONNABORTED,i,x)),x=null)},x.onerror=function(){s(new Re("Network Error",Re.ERR_NETWORK,i,x)),x=null},x.ontimeout=function(){let oe=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const se=o.transitional||wA;o.timeoutErrorMessage&&(oe=o.timeoutErrorMessage),s(new Re(oe,se.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,i,x)),x=null},u===void 0&&h.setContentType(null),"setRequestHeader"in x&&Q.forEach(h.toJSON(),function(oe,se){x.setRequestHeader(se,oe)}),Q.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),g&&([w,I]=Uh(g,!0),x.addEventListener("progress",w)),p&&x.upload&&([T,O]=Uh(p),x.upload.addEventListener("progress",T),x.upload.addEventListener("loadend",O)),(o.cancelToken||o.signal)&&(E=X=>{x&&(s(!X||X.type?new Co(null,i,x):X),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const Z=KP(o.url);if(Z&&Zt.protocols.indexOf(Z)===-1){s(new Re("Unsupported protocol "+Z+":",Re.ERR_BAD_REQUEST,i));return}x.send(u||null)})},tM=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,d();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Re?E:new Co(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const d=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Q.asap(d),p}},nM=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},iM=async function*(i,e){for await(const t of rM(i))yield*nM(t,e)},rM=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},gT=(i,e,t,s)=>{const o=iM(i,e);let u=0,h,d=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){d(),p.close();return}let T=E.byteLength;if(t){let w=u+=T;t(w)}p.enqueue(new Uint8Array(E))}catch(g){throw d(g),g}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},cf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NA=cf&&typeof ReadableStream=="function",sM=cf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),xA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},aM=NA&&xA(()=>{let i=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),yT=64*1024,cp=NA&&xA(()=>Q.isReadableStream(new Response("").body)),Lh={stream:cp&&(i=>i.body)};cf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lh[e]&&(Lh[e]=Q.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,s)})})})(new Response);const oM=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(Zt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await sM(i)).byteLength},lM=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??oM(e)},uM=cf&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:E,withCredentials:T="same-origin",fetchOptions:w}=DA(i);g=g?(g+"").toLowerCase():"text";let O=tM([o,u&&u.toAbortSignal()],h),I;const B=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let x;try{if(p&&aM&&t!=="get"&&t!=="head"&&(x=await lM(E,s))!==0){let se=new Request(e,{method:"POST",body:s,duplex:"half"}),me;if(Q.isFormData(s)&&(me=se.headers.get("content-type"))&&E.setContentType(me),se.body){const[P,R]=dT(x,Uh(mT(p)));s=gT(se.body,yT,P,R)}}Q.isString(T)||(T=T?"include":"omit");const q="credentials"in Request.prototype;I=new Request(e,{...w,signal:O,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:q?T:void 0});let Z=await fetch(I);const X=cp&&(g==="stream"||g==="response");if(cp&&(d||X&&B)){const se={};["status","statusText","headers"].forEach(b=>{se[b]=Z[b]});const me=Q.toFiniteNumber(Z.headers.get("content-length")),[P,R]=d&&dT(me,Uh(mT(d),!0))||[];Z=new Response(gT(Z.body,yT,P,()=>{R&&R(),B&&B()}),se)}g=g||"text";let oe=await Lh[Q.findKey(Lh,g)||"text"](Z,i);return!X&&B&&B(),await new Promise((se,me)=>{IA(se,me,{data:oe,headers:hn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:i,request:I})})}catch(q){throw B&&B(),q&&q.name==="TypeError"&&/fetch/i.test(q.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,i,I),{cause:q.cause||q}):Re.from(q,q&&q.code,i,I)}}),hp={http:bP,xhr:eM,fetch:uM};Q.forEach(hp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const _T=i=>`- ${i}`,cM=i=>Q.isFunction(i)||i===null||i===!1,PA={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!cM(t)&&(s=hp[(h=String(t)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(_T).join(`
`):" "+_T(u[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:hp};function Pm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Co(null,i)}function vT(i){return Pm(i),i.headers=hn.from(i.headers),i.data=xm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),PA.getAdapter(i.adapter||bu.adapter)(i).then(function(s){return Pm(i),s.data=xm.call(i,i.transformResponse,s),s.headers=hn.from(s.headers),s},function(s){return CA(s)||(Pm(i),s&&s.response&&(s.response.data=xm.call(i,i.transformResponse,s.response),s.response.headers=hn.from(s.response.headers))),Promise.reject(s)})}const MA="1.7.9",hf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{hf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const ET={};hf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+MA+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,d)=>{if(e===!1)throw new Re(o(h," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!ET[h]&&(ET[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,d):!0}};hf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function hM(i,e,t){if(typeof i!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const d=i[u],p=d===void 0||h(d,u,i);if(p!==!0)throw new Re("option "+u+" must be "+p,Re.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Re("Unknown option "+u,Re.ERR_BAD_OPTION)}}const mh={assertOptions:hM,validators:hf},di=mh.validators;let Ws=class{constructor(e){this.defaults=e,this.interceptors={request:new hT,response:new hT}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ra(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&mh.assertOptions(s,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:mh.assertOptions(o,{encode:di.function,serialize:di.function},!0)),mh.assertOptions(t,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Q.merge(u.common,u[t.method]);u&&Q.forEach(["delete","get","head","post","put","patch","common"],I=>{delete u[I]}),t.headers=hn.concat(h,u);const d=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(p=p&&B.synchronous,d.unshift(B.fulfilled,B.rejected))});const g=[];this.interceptors.response.forEach(function(B){g.push(B.fulfilled,B.rejected)});let E,T=0,w;if(!p){const I=[vT.bind(this),void 0];for(I.unshift.apply(I,d),I.push.apply(I,g),w=I.length,E=Promise.resolve(t);T<w;)E=E.then(I[T++],I[T++]);return E}w=d.length;let O=t;for(T=0;T<w;){const I=d[T++],B=d[T++];try{O=I(O)}catch(x){B.call(this,x);break}}try{E=vT.call(this,O)}catch(I){return Promise.reject(I)}for(T=0,w=g.length;T<w;)E=E.then(g[T++],g[T++]);return E}getUri(e){e=ra(this.defaults,e);const t=OA(e.baseURL,e.url);return bA(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(t,s){return this.request(ra(s||{},{method:e,url:t,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,d){return this.request(ra(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ws.prototype[e]=t(),Ws.prototype[e+"Form"]=t(!0)});let fM=class kA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(d=>{s.subscribe(d),u=d}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,d){s.reason||(s.reason=new Co(u,h,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kA(function(o){e=o}),cancel:e}}};function dM(i){return function(t){return i.apply(null,t)}}function mM(i){return Q.isObject(i)&&i.isAxiosError===!0}const fp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fp).forEach(([i,e])=>{fp[e]=i});function VA(i){const e=new Ws(i),t=fA(Ws.prototype.request,e);return Q.extend(t,Ws.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return VA(ra(i,o))},t}const ht=VA(bu);ht.Axios=Ws;ht.CanceledError=Co;ht.CancelToken=fM;ht.isCancel=CA;ht.VERSION=MA;ht.toFormData=uf;ht.AxiosError=Re;ht.Cancel=ht.CanceledError;ht.all=function(e){return Promise.all(e)};ht.spread=dM;ht.isAxiosError=mM;ht.mergeConfig=ra;ht.AxiosHeaders=hn;ht.formToJSON=i=>RA(Q.isHTMLForm(i)?new FormData(i):i);ht.getAdapter=PA.getAdapter;ht.HttpStatusCode=fp;ht.default=ht;const{Axios:AM,AxiosError:bM,CanceledError:wM,isCancel:RM,CancelToken:CM,VERSION:IM,all:OM,Cancel:DM,isAxiosError:NM,spread:xM,toFormData:PM,AxiosHeaders:MM,HttpStatusCode:kM,formToJSON:VM,getAdapter:UM,mergeConfig:LM}=ht,Ks=ht.create({baseURL:"http://agendita-fernando-env.eba-spsuusfm.us-east-1.elasticbeanstalk.com:8080/api/v1",headers:{"Content-type":"application/json"}}),eh=ht.create({baseURL:"http://agendita-fernando-env.eba-spsuusfm.us-east-1.elasticbeanstalk.com:8081/api/v2",headers:{"Content-type":"application/json"}});class pM{getAll(){return eh.get("/usuarios")}create(e){return eh.post("/usuarios",e)}delete(e){return eh.delete(`/usuarios/${e}`)}assignTutorials(e,t){return eh.put(`/usuarios/${e}/tutoriales`,t)}}const zh=new pM;class gM{getAll(){return Ks.get("/tutorials")}get(e){return Ks.get(`/tutorials/${e}`)}create(e){return Ks.post("/tutorials",e)}update(e,t){return Ks.put(`/tutorials/${e}`,t)}delete(e){return Ks.delete(`/tutorials/${e}`)}deleteAll(){return Ks.delete("/tutorials")}findByTitle(e){return Ks.get(`/tutorials/title/${e}`)}}const UA=new gM,LA=({totalContacts:i,maxContacts:e=50})=>{const t=i/e*100;return F.jsxs("div",{className:"progress-container",children:[F.jsxs("div",{className:"progress-label",children:["Contactos: ",i,"/",e," (",t.toFixed(1),"%)"]}),F.jsx("div",{className:"progress-bar",children:F.jsx("div",{className:"progress-fill",style:{width:`${t}%`}})})]})},TT=({isOpen:i,onClose:e,children:t,side:s=!1})=>(K.useEffect(()=>{const o=u=>{u.key==="Escape"&&e()};return i&&window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[i,e]),i?F.jsx("div",{className:"popup-overlay",onClick:e,children:F.jsxs("div",{className:s?"popup-content popup-side":"popup-content",onClick:o=>o.stopPropagation(),children:[F.jsx("button",{className:"popup-close",onClick:e,children:"✖"}),t]})}):null);function yM(){const[i,e]=K.useState([]),[t,s]=K.useState(!1),[o,u]=K.useState(!1),[h,d]=K.useState(null),[p,g]=K.useState([]),{user:E}=Su();K.useEffect(()=>{T()},[]);const T=()=>{zh.getAll().then(q=>{e(q.data)}).catch(q=>{console.log(q)})},w=q=>{d(q),s(!0)},O=()=>{s(!1),d(null)},I=q=>{zh.delete(q).then(()=>{T(),O()}).catch(Z=>{console.log(Z)})},B=q=>{if(!q.tutorialIds||q.tutorialIds.length===0){alert("Este contacto no tiene tutoriales asignados.");return}UA.getAll().then(Z=>{const X=Z.data.filter(oe=>q.tutorialIds.includes(oe.id));g(X),u(!0)}).catch(Z=>{console.error("Error al obtener los tutoriales:",Z)})},x=()=>{u(!1),g([])};return F.jsxs("div",{className:"container mt-4",children:[F.jsx(LA,{totalContacts:i.length}),F.jsxs("table",{className:"table table-striped table-bordered",children:[F.jsx("thead",{className:"table-dark",children:F.jsxs("tr",{children:[F.jsx("th",{scope:"col",children:"Nombre"}),F.jsx("th",{scope:"col",children:"Apellidos"})]})}),F.jsx("tbody",{children:i.map((q,Z)=>F.jsxs("tr",{className:"clickable-row",onClick:()=>w(q),children:[F.jsx("td",{children:q.nombre}),F.jsx("td",{children:q.apellido})]},Z))})]}),F.jsx(TT,{isOpen:t,onClose:O,children:h?F.jsxs("div",{children:[F.jsxs("h2",{children:[h.nombre," ",h.apellido]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Ciudad:"})," ",h.ciudad]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Calle:"})," ",h.calle]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Código Postal:"})," ",h.codPostal]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Cumpleaños:"})," ",h.cumpleanos]}),E&&F.jsx("button",{className:"btn btn-danger",onClick:()=>I(h.id),children:"Borrar"}),F.jsx("button",{className:"btn btn-info",onClick:()=>B(h),children:"Ver Tutoriales"})]}):F.jsx("p",{children:"Cargando..."})}),F.jsxs(TT,{isOpen:o,onClose:x,side:!0,children:[F.jsxs("h3",{children:["Tutoriales de ",h==null?void 0:h.nombre]}),p.length>0?F.jsx("ul",{children:p.map(q=>F.jsxs("li",{children:[F.jsx("strong",{children:q.title}),": ",q.description]},q.id))}):F.jsx("p",{children:"No hay tutoriales asignados."})]})]})}function _M(){const[i,e]=K.useState({nombre:"",apellido:"",calle:"",codPostal:"",ciudad:"",cumpleanos:"",tutorialIds:[]}),[t,s]=K.useState([]),[o,u]=K.useState([]),[h,d]=K.useState(""),p=cu();K.useEffect(()=>{g(),E()},[]);const g=()=>{UA.getAll().then(I=>{s(I.data)}).catch(I=>{console.error("Error al obtener tutoriales:",I)})},E=()=>{zh.getAll().then(I=>{u(I.data)}).catch(I=>{console.log(I)})},T=I=>{const{name:B,value:x}=I.target;e({...i,[B]:x})},w=I=>{const B=Array.from(I.target.selectedOptions,x=>x.value);e({...i,tutorialIds:B})},O=I=>{I.preventDefault(),zh.create(i).then(()=>{d("Contacto añadido con éxito!"),E(),setTimeout(()=>p("/ver"),2e3)}).catch(()=>d("Error al guardar el contacto"))};return F.jsx("div",{className:"auth-container",children:F.jsxs("div",{className:"auth-card",children:[F.jsx("h3",{children:"Añadir Contacto"}),F.jsx(LA,{totalContacts:o.length}),h&&F.jsx("p",{className:"text-success",children:h}),F.jsxs("form",{className:"auth-form",onSubmit:O,children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"nombre",children:"Nombre"}),F.jsx("input",{type:"text",id:"nombre",placeholder:"Ingresa el nombre",name:"nombre",value:i.nombre,onChange:T,required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"apellido",children:"Apellido"}),F.jsx("input",{type:"text",id:"apellido",placeholder:"Ingresa el apellido",name:"apellido",value:i.apellido,onChange:T,required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"calle",children:"Calle"}),F.jsx("input",{type:"text",id:"calle",placeholder:"Ingresa la calle",name:"calle",value:i.calle,onChange:T})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"codPostal",children:"Código Postal"}),F.jsx("input",{type:"text",id:"codPostal",placeholder:"Ingresa el código postal",name:"codPostal",value:i.codPostal,onChange:T})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"ciudad",children:"Ciudad"}),F.jsx("input",{type:"text",id:"ciudad",placeholder:"Ingresa la ciudad",name:"ciudad",value:i.ciudad,onChange:T})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"cumpleanos",children:"Cumpleaños"}),F.jsx("input",{type:"date",id:"cumpleanos",name:"cumpleanos",value:i.cumpleanos,onChange:T})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{htmlFor:"tutoriales",children:"Seleccionar Tutoriales"}),F.jsx("select",{id:"tutoriales",name:"tutoriales",multiple:!0,className:"form-control",value:i.tutorialIds,onChange:w,children:t.map(I=>F.jsx("option",{value:I.id,children:I.title},I.id))})]}),F.jsx("button",{type:"submit",className:"auth-btn",children:"Guardar Contacto"})]}),F.jsx("div",{className:"auth-footer",children:F.jsx("p",{children:F.jsx("a",{href:"/ver",children:"Ver contactos"})})})]})})}function vM(){return F.jsx(Px,{children:F.jsx(hR,{children:F.jsxs($s,{path:"/",element:F.jsx(Lx,{}),children:[F.jsx($s,{index:!0,element:F.jsx(aT,{})}),F.jsx($s,{path:"signUp",element:F.jsx(aT,{})}),F.jsx($s,{path:"logIn",element:F.jsx(Mx,{})}),F.jsx($s,{path:"ver",element:F.jsx(yM,{})}),F.jsx($s,{path:"anadir",element:F.jsx(_M,{})})]})})})}_w.createRoot(document.getElementById("root")).render(F.jsx(K.StrictMode,{children:F.jsx(kR,{children:F.jsx(vM,{})})}));
